(self.webpackChunkmotion_app=self.webpackChunkmotion_app||[]).push([[179],{633:(Ce,De,J)=>{"use strict";function D(n){return"function"==typeof n}function Y(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const T=Y(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function B(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class k{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(D(i))try{i()}catch(o){t=o instanceof T?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{z(o)}catch(s){t=t??[],s instanceof T?t=[...t,...s.errors]:t.push(s)}}if(t)throw new T(t)}}add(t){var e;if(t&&t!==this)if(this.closed)z(t);else{if(t instanceof k){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&B(e,t)}remove(t){const{_finalizers:e}=this;e&&B(e,t),t instanceof k&&t._removeParent(this)}}k.EMPTY=(()=>{const n=new k;return n.closed=!0,n})();const C=k.EMPTY;function f(n){return n instanceof k||n&&"closed"in n&&D(n.remove)&&D(n.add)&&D(n.unsubscribe)}function z(n){D(n)?n():n.unsubscribe()}const K={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},G={setTimeout(n,t,...e){const{delegate:i}=G;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=G;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function H(n){G.setTimeout(()=>{const{onUnhandledError:t}=K;if(!t)throw n;t(n)})}function q(){}const l=m("C",void 0,void 0);function m(n,t,e){return{kind:n,value:t,error:e}}let _=null;function w(n){if(K.useDeprecatedSynchronousErrorHandling){const t=!_;if(t&&(_={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=_;if(_=null,e)throw i}}else n()}class M extends k{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,f(t)&&t.add(this)):this.destination=bt}static create(t,e,i){return new he(t,e,i)}next(t){this.isStopped?Me(function h(n){return m("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Me(function u(n){return m("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Me(l,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const P=Function.prototype.bind;function X(n,t){return P.call(n,t)}class ie{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){ye(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){ye(i)}else ye(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){ye(e)}}}class he extends M{constructor(t,e,i){let r;if(super(),D(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&K.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&X(t.next,o),error:t.error&&X(t.error,o),complete:t.complete&&X(t.complete,o)}):r=t}this.destination=new ie(r)}}function ye(n){K.useDeprecatedSynchronousErrorHandling?function b(n){K.useDeprecatedSynchronousErrorHandling&&_&&(_.errorThrown=!0,_.error=n)}(n):H(n)}function Me(n,t){const{onStoppedNotification:e}=K;e&&G.setTimeout(()=>e(n,t))}const bt={closed:!0,next:q,error:function ge(n){throw n},complete:q},Gt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Jt(n){return n}function nn(n){return 0===n.length?Jt:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let Qe=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function $(n){return n&&n instanceof M||function A(n){return n&&D(n.next)&&D(n.error)&&D(n.complete)}(n)&&f(n)}(e)?e:new he(e,i,r);return w(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=U(i))((r,o)=>{const s=new he({next:a=>{try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Gt](){return this}pipe(...e){return nn(e)(this)}toPromise(e){return new(e=U(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function U(n){var t;return null!==(t=n??K.Promise)&&void 0!==t?t:Promise}const N=Y(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let I=(()=>{class n extends Qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new ne(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new N}next(e){w(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){w(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){w(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?C:(this.currentObservers=null,o.push(e),new k(()=>{this.currentObservers=null,B(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new Qe;return e.source=this,e}}return n.create=(t,e)=>new ne(t,e),n})();class ne extends I{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:C}}function re(n){return D(n?.lift)}function ce(n){return t=>{if(re(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ee(n,t,e,i,r){return new Ke(n,t,e,i,r)}class Ke extends M{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function j(n,t){return ce((e,i)=>{let r=0;e.subscribe(ee(i,o=>{i.next(n.call(t,o,r++))}))})}function _t(n){return this instanceof _t?(this.v=n,this):new _t(n)}function ln(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(E){i[E]&&(r[E]=function(S){return new Promise(function(R,W){o.push([E,S,R,W])>1||a(E,S)})})}function a(E,S){try{!function c(E){E.value instanceof _t?Promise.resolve(E.value.v).then(d,p):g(o[0][2],E)}(i[E](S))}catch(R){g(o[0][3],R)}}function d(E){a("next",E)}function p(E){a("throw",E)}function g(E,S){E(S),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Ii(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Z(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,c){!function r(o,s,a,c){Promise.resolve(c).then(function(d){o({value:d,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}const kh=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function _y(n){return D(n?.then)}function yy(n){return D(n[Gt])}function vy(n){return Symbol.asyncIterator&&D(n?.[Symbol.asyncIterator])}function by(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const wy=function ak(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ey(n){return D(n?.[wy])}function Cy(n){return ln(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield _t(e.read());if(r)return yield _t(void 0);yield yield _t(i)}}finally{e.releaseLock()}})}function Dy(n){return D(n?.getReader)}function Bn(n){if(n instanceof Qe)return n;if(null!=n){if(yy(n))return function lk(n){return new Qe(t=>{const e=n[Gt]();if(D(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(kh(n))return function ck(n){return new Qe(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(_y(n))return function uk(n){return new Qe(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,H)})}(n);if(vy(n))return Sy(n);if(Ey(n))return function dk(n){return new Qe(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Dy(n))return function hk(n){return Sy(Cy(n))}(n)}throw by(n)}function Sy(n){return new Qe(t=>{(function fk(n,t){var e,i,r,o;return function x(n,t,e,i){return new(e||(e=Promise))(function(o,s){function a(p){try{d(i.next(p))}catch(g){s(g)}}function c(p){try{d(i.throw(p))}catch(g){s(g)}}function d(p){p.done?o(p.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(p.value).then(a,c)}d((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Ii(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Or(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function En(n,t,e=1/0){return D(t)?En((i,r)=>j((o,s)=>t(i,o,r,s))(Bn(n(i,r))),e):("number"==typeof t&&(e=t),ce((i,r)=>function pk(n,t,e,i,r,o,s,a){const c=[];let d=0,p=0,g=!1;const E=()=>{g&&!c.length&&!d&&t.complete()},S=W=>d<i?R(W):c.push(W),R=W=>{o&&t.next(W),d++;let te=!1;Bn(e(W,p++)).subscribe(ee(t,le=>{r?.(le),o?S(le):t.next(le)},()=>{te=!0},void 0,()=>{if(te)try{for(d--;c.length&&d<i;){const le=c.shift();s?Or(t,s,()=>R(le)):R(le)}E()}catch(le){t.error(le)}}))};return n.subscribe(ee(t,S,()=>{g=!0,E()})),()=>{a?.()}}(i,r,n,e)))}function xs(n=1/0){return En(Jt,n)}const Ki=new Qe(n=>n.complete());function xy(n){return n&&D(n.schedule)}function Ih(n){return n[n.length-1]}function My(n){return D(Ih(n))?n.pop():void 0}function Pa(n){return xy(Ih(n))?n.pop():void 0}function Ty(n,t=0){return ce((e,i)=>{e.subscribe(ee(i,r=>Or(i,n,()=>i.next(r),t),()=>Or(i,n,()=>i.complete(),t),r=>Or(i,n,()=>i.error(r),t)))})}function ky(n,t=0){return ce((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function Iy(n,t){if(!n)throw new Error("Iterable cannot be null");return new Qe(e=>{Or(e,t,()=>{const i=n[Symbol.asyncIterator]();Or(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function mn(n,t){return t?function Ek(n,t){if(null!=n){if(yy(n))return function _k(n,t){return Bn(n).pipe(ky(t),Ty(t))}(n,t);if(kh(n))return function vk(n,t){return new Qe(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(_y(n))return function yk(n,t){return Bn(n).pipe(ky(t),Ty(t))}(n,t);if(vy(n))return Iy(n,t);if(Ey(n))return function bk(n,t){return new Qe(e=>{let i;return Or(e,t,()=>{i=n[wy](),Or(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>D(i?.return)&&i.return()})}(n,t);if(Dy(n))return function wk(n,t){return Iy(Cy(n),t)}(n,t)}throw by(n)}(n,t):Bn(n)}function lo(...n){const t=Pa(n),e=function gk(n,t){return"number"==typeof Ih(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Bn(i[0]):xs(e)(mn(i,t)):Ki}function Ah(n={}){const{connector:t=(()=>new I),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,d=0,p=!1,g=!1;const E=()=>{a?.unsubscribe(),a=void 0},S=()=>{E(),s=c=void 0,p=g=!1},R=()=>{const W=s;S(),W?.unsubscribe()};return ce((W,te)=>{d++,!g&&!p&&E();const le=c=c??t();te.add(()=>{d--,0===d&&!g&&!p&&(a=Rh(R,r))}),le.subscribe(te),!s&&d>0&&(s=new he({next:_e=>le.next(_e),error:_e=>{g=!0,E(),a=Rh(S,e,_e),le.error(_e)},complete:()=>{p=!0,E(),a=Rh(S,i),le.complete()}}),Bn(W).subscribe(s))})(o)}}function Rh(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new he({next:()=>{i.unsubscribe(),n()}});return t(...e).subscribe(i)}function jt(n){for(let t in n)if(n[t]===jt)return t;throw Error("Could not find renamed property on target object.")}function Oh(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function zt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(zt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Ph(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Ck=jt({__forward_ref__:jt});function St(n){return n.__forward_ref__=St,n.toString=function(){return zt(this())},n}function Xe(n){return Fh(n)?n():n}function Fh(n){return"function"==typeof n&&n.hasOwnProperty(Ck)&&n.__forward_ref__===St}class de extends Error{constructor(t,e){super(function Ec(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function tt(n){return"string"==typeof n?n:null==n?"":String(n)}function Cc(n,t){throw new de(-201,!1)}function fi(n,t){null==n&&function Ot(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function Se(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function at(n){return{providers:n.providers||[],imports:n.imports||[]}}function Dc(n){return Ay(n,Sc)||Ay(n,Oy)}function Ay(n,t){return n.hasOwnProperty(t)?n[t]:null}function Ry(n){return n&&(n.hasOwnProperty(Nh)||n.hasOwnProperty(Rk))?n[Nh]:null}const Sc=jt({\u0275prov:jt}),Nh=jt({\u0275inj:jt}),Oy=jt({ngInjectableDef:jt}),Rk=jt({ngInjectorDef:jt});var ze=(()=>((ze=ze||{})[ze.Default=0]="Default",ze[ze.Host=1]="Host",ze[ze.Self=2]="Self",ze[ze.SkipSelf=4]="SkipSelf",ze[ze.Optional=8]="Optional",ze))();let Lh;function Ai(n){const t=Lh;return Lh=n,t}function Py(n,t,e){const i=Dc(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&ze.Optional?null:void 0!==t?t:void Cc(zt(n))}function co(n){return{toString:n}.toString()}var Xi=(()=>((Xi=Xi||{})[Xi.OnPush=0]="OnPush",Xi[Xi.Default=1]="Default",Xi))(),Zi=(()=>{return(n=Zi||(Zi={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Zi;var n})();const qt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ms={},It=[],xc=jt({\u0275cmp:jt}),Bh=jt({\u0275dir:jt}),Uh=jt({\u0275pipe:jt}),Fy=jt({\u0275mod:jt}),Fr=jt({\u0275fac:jt}),Fa=jt({__NG_ELEMENT_ID__:jt});let Pk=0;function Bt(n){return co(()=>{const e=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Xi.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||It,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Zi.Emulated,id:"c"+Pk++,styles:n.styles||It,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return r.inputs=By(n.inputs,i),r.outputs=By(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=o?()=>("function"==typeof o?o():o).map(Ny).filter(Ly):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(Zn).filter(Ly):null,r})}function Ny(n){return Ft(n)||Xn(n)}function Ly(n){return null!==n}function ut(n){return co(()=>({type:n.type,bootstrap:n.bootstrap||It,declarations:n.declarations||It,imports:n.imports||It,exports:n.exports||It,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function By(n,t){if(null==n)return Ms;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}const Re=Bt;function si(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ft(n){return n[xc]||null}function Xn(n){return n[Bh]||null}function Zn(n){return n[Uh]||null}function pi(n,t){const e=n[Fy]||null;if(!e&&!0===t)throw new Error(`Type ${zt(n)} does not have '\u0275mod' property.`);return e}function ai(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ji(n){return Array.isArray(n)&&!0===n[1]}function jh(n){return 0!=(8&n.flags)}function Ic(n){return 2==(2&n.flags)}function Ac(n){return 1==(1&n.flags)}function er(n){return null!==n.template}function Vk(n){return 0!=(256&n[2])}function zo(n,t){return n.hasOwnProperty(Fr)?n[Fr]:null}class zk{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Cn(){return Hy}function Hy(n){return n.type.prototype.ngOnChanges&&(n.setInput=Gk),$k}function $k(){const n=zy(this),t=n?.current;if(t){const e=n.previous;if(e===Ms)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function Gk(n,t,e,i){const r=zy(n)||function qk(n,t){return n[jy]=t}(n,{previous:Ms,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[e],c=s[a];o[a]=new zk(c&&c.currentValue,t,s===Ms),n[i]=t}Cn.ngInherit=!0;const jy="__ngSimpleChanges__";function zy(n){return n[jy]||null}function gn(n){for(;Array.isArray(n);)n=n[0];return n}function Rc(n,t){return gn(t[n])}function Pi(n,t){return gn(t[n.index])}function Wh(n,t){return n.data[t]}function Rs(n,t){return n[t]}function gi(n,t){const e=t[n];return ai(e)?e:e[0]}function Oc(n){return 64==(64&n[2])}function uo(n,t){return null==t?null:n[t]}function $y(n){n[18]=0}function Yh(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const et={lFrame:ev(null),bindingsEnabled:!0};function qy(){return et.bindingsEnabled}function me(){return et.lFrame.lView}function wt(){return et.lFrame.tView}function $o(n){return et.lFrame.contextLView=n,n[8]}function Go(n){return et.lFrame.contextLView=null,n}function Dn(){let n=Wy();for(;null!==n&&64===n.type;)n=n.parent;return n}function Wy(){return et.lFrame.currentTNode}function gr(n,t){const e=et.lFrame;e.currentTNode=n,e.isParent=t}function Kh(){return et.lFrame.isParent}function Xh(){et.lFrame.isParent=!1}function Qn(){const n=et.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Os(){return et.lFrame.bindingIndex++}function Lr(n){const t=et.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function aI(n,t){const e=et.lFrame;e.bindingIndex=e.bindingRootIndex=n,Zh(t)}function Zh(n){et.lFrame.currentDirectiveIndex=n}function Zy(){return et.lFrame.currentQueryIndex}function Jh(n){et.lFrame.currentQueryIndex=n}function cI(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Qy(n,t,e){if(e&ze.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&ze.Host||(r=cI(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;t=r,n=o}const i=et.lFrame=Jy();return i.currentTNode=t,i.lView=n,!0}function ef(n){const t=Jy(),e=n[1];et.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Jy(){const n=et.lFrame,t=null===n?null:n.child;return null===t?ev(n):t}function ev(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function tv(){const n=et.lFrame;return et.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const nv=tv;function tf(){const n=tv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Jn(){return et.lFrame.selectedIndex}function ho(n){et.lFrame.selectedIndex=n}function un(){const n=et.lFrame;return Wh(n.tView,n.selectedIndex)}function qo(){et.lFrame.currentNamespace="svg"}function Pc(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:p}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),c&&(n.viewHooks||(n.viewHooks=[])).push(-e,c),d&&((n.viewHooks||(n.viewHooks=[])).push(e,d),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,d)),null!=p&&(n.destroyHooks||(n.destroyHooks=[])).push(e,p)}}function Fc(n,t,e){iv(n,t,3,e)}function Nc(n,t,e,i){(3&n[2])===e&&iv(n,t,e,i)}function rf(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function iv(n,t,e,i){const o=i??-1,s=t.length-1;let a=0;for(let c=void 0!==i?65535&n[18]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=i&&a>=i)break}else t[c]<0&&(n[18]+=65536),(a<o||-1==o)&&(gI(n,e,t,c),n[18]=(4294901760&n[18])+c+2),c++}function gI(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Ha{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Lc(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{const o=r,s=e[++i];ov(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function rv(n){return 3===n||4===n||6===n}function ov(n){return 64===n.charCodeAt(0)}function Bc(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||sv(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function sv(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function av(n){return-1!==n}function Ps(n){return 32767&n}function Fs(n,t){let e=function wI(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let af=!0;function Uc(n){const t=af;return af=n,t}let EI=0;const _r={};function za(n,t){const e=cf(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,lf(i.data,n),lf(t,null),lf(i.blueprint,null));const r=Vc(n,t),o=n.injectorIndex;if(av(r)){const s=Ps(r),a=Fs(r,t),c=a[1].data;for(let d=0;d<8;d++)t[o+d]=a[s+d]|c[s+d]}return t[o+8]=r,o}function lf(n,t){n.push(0,0,0,0,0,0,0,0,t)}function cf(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Vc(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=gv(r),null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Hc(n,t,e){!function CI(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Fa)&&(i=e[Fa]),null==i&&(i=e[Fa]=EI++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function uv(n,t,e){if(e&ze.Optional||void 0!==n)return n;Cc()}function dv(n,t,e,i){if(e&ze.Optional&&void 0===i&&(i=null),0==(e&(ze.Self|ze.Host))){const r=n[9],o=Ai(void 0);try{return r?r.get(t,i,e&ze.Optional):Py(t,i,e&ze.Optional)}finally{Ai(o)}}return uv(i,0,e)}function hv(n,t,e,i=ze.Default,r){if(null!==n){if(1024&t[2]){const s=function TI(n,t,e,i,r){let o=n,s=t;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=fv(o,s,e,i|ze.Self,_r);if(a!==_r)return a;let c=o.parent;if(!c){const d=s[21];if(d){const p=d.get(e,_r,i);if(p!==_r)return p}c=gv(s),s=s[15]}o=c}return r}(n,t,e,i,_r);if(s!==_r)return s}const o=fv(n,t,e,i,_r);if(o!==_r)return o}return dv(t,e,i,r)}function fv(n,t,e,i,r){const o=function xI(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Fa)?n[Fa]:void 0;return"number"==typeof t?t>=0?255&t:MI:t}(e);if("function"==typeof o){if(!Qy(t,n,i))return i&ze.Host?uv(r,0,i):dv(t,e,i,r);try{const s=o(i);if(null!=s||i&ze.Optional)return s;Cc()}finally{nv()}}else if("number"==typeof o){let s=null,a=cf(n,t),c=-1,d=i&ze.Host?t[16][6]:null;for((-1===a||i&ze.SkipSelf)&&(c=-1===a?Vc(n,t):t[a+8],-1!==c&&mv(i,!1)?(s=t[1],a=Ps(c),t=Fs(c,t)):a=-1);-1!==a;){const p=t[1];if(pv(o,a,p.data)){const g=SI(a,t,e,s,i,d);if(g!==_r)return g}c=t[a+8],-1!==c&&mv(i,t[1].data[a+8]===d)&&pv(o,a,t)?(s=p,a=Ps(c),t=Fs(c,t)):a=-1}}return r}function SI(n,t,e,i,r,o){const s=t[1],a=s.data[n+8],p=jc(a,s,e,null==i?Ic(a)&&af:i!=s&&0!=(3&a.type),r&ze.Host&&o===a);return null!==p?$a(t,s,p,a):_r}function jc(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,c=n.directiveStart,p=o>>20,E=r?a+p:n.directiveEnd;for(let S=i?a:a+p;S<E;S++){const R=s[S];if(S<c&&e===R||S>=c&&R.type===e)return S}if(r){const S=s[c];if(S&&er(S)&&S.type===e)return c}return null}function $a(n,t,e,i){let r=n[e];const o=t.data;if(function _I(n){return n instanceof Ha}(r)){const s=r;s.resolving&&function Dk(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new de(-200,`Circular dependency in DI detected for ${n}${e}`)}(function kt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():tt(n)}(o[e]));const a=Uc(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Ai(s.injectImpl):null;Qy(n,i,ze.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function mI(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=Hy(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==c&&Ai(c),Uc(a),s.resolving=!1,nv()}}return r}function pv(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function mv(n,t){return!(n&ze.Self||n&ze.Host&&t)}class Ns{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return hv(this._tNode,this._lView,t,i,e)}}function MI(){return new Ns(Dn(),me())}function hn(n){return co(()=>{const t=n.prototype.constructor,e=t[Fr]||uf(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Fr]||uf(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function uf(n){return Fh(n)?()=>{const t=uf(Xe(n));return t&&t()}:zo(n)}function gv(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}function yr(n){return function DI(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(rv(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(Dn(),n)}const Bs="__parameters__";function Vs(n,t,e){return co(()=>{const i=function df(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,d,p){const g=c.hasOwnProperty(Bs)?c[Bs]:Object.defineProperty(c,Bs,{value:[]})[Bs];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(s),c}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class ve{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Se({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _i(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),_i(i,t)):t!==n&&t.push(i)}return t}function Br(n,t){n.forEach(e=>Array.isArray(e)?Br(e,t):t(e))}function yv(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function zc(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Wa(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function yi(n,t,e){let i=Hs(n,t);return i>=0?n[1|i]=e:(i=~i,function RI(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function ff(n,t){const e=Hs(n,t);if(e>=0)return n[1|e]}function Hs(n,t){return function wv(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const Ya={},mf="__NG_DI_FLAG__",Gc="ngTempTokenPath",VI=/\n/gm,Ev="__source";let Ka;function js(n){const t=Ka;return Ka=n,t}function jI(n,t=ze.Default){if(void 0===Ka)throw new de(-203,!1);return null===Ka?Py(n,void 0,t):Ka.get(n,t&ze.Optional?null:void 0,t)}function se(n,t=ze.Default){return(function Ok(){return Lh}()||jI)(Xe(n),t)}function $t(n,t=ze.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),se(n,t)}function gf(n){const t=[];for(let e=0;e<n.length;e++){const i=Xe(n[e]);if(Array.isArray(i)){if(0===i.length)throw new de(900,!1);let r,o=ze.Default;for(let s=0;s<i.length;s++){const a=i[s],c=zI(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}t.push(se(r,o))}else t.push(se(i))}return t}function Xa(n,t){return n[mf]=t,n.prototype[mf]=t,n}function zI(n){return n[mf]}const po=Xa(Vs("Optional"),8),zs=Xa(Vs("SkipSelf"),4);let yf,Yc;function Gs(n){return function vf(){if(void 0===Yc&&(Yc=null,qt.trustedTypes))try{Yc=qt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Yc}()?.createHTML(n)||n}class Wo{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class rA extends Wo{getTypeName(){return"HTML"}}class oA extends Wo{getTypeName(){return"Style"}}class sA extends Wo{getTypeName(){return"Script"}}class aA extends Wo{getTypeName(){return"URL"}}class lA extends Wo{getTypeName(){return"ResourceURL"}}function vi(n){return n instanceof Wo?n.changingThisBreaksApplicationSecurity:n}function vr(n,t){const e=function cA(n){return n instanceof Wo&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}class mA{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Gs(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class gA{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Gs(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=Gs(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const s=e.item(r).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const yA=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Xc(n){return(n=String(n)).match(yA)?n:"unsafe:"+n}function Ur(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Ja(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const Nv=Ur("area,br,col,hr,img,wbr"),Lv=Ur("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bv=Ur("rp,rt"),wf=Ja(Nv,Ja(Lv,Ur("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ja(Bv,Ur("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ja(Bv,Lv)),Ef=Ur("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Uv=Ja(Ef,Ur("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ur("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vA=Ur("script,style,template");class bA{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!wf.hasOwnProperty(e))return this.sanitizedSomething=!0,!vA.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!Uv.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;Ef[a]&&(c=Xc(c)),this.buf.push(" ",s,'="',Vv(c),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();wf.hasOwnProperty(e)&&!Nv.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Vv(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const wA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,EA=/([^\#-~ |!])/g;function Vv(n){return n.replace(/&/g,"&amp;").replace(wA,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(EA,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zc;function Hv(n,t){let e=null;try{Zc=Zc||function Fv(n){const t=new gA(n);return function _A(){try{return!!(new window.DOMParser).parseFromString(Gs(""),"text/html")}catch{return!1}}()?new mA(t):t}(n);let i=t?String(t):"";e=Zc.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=Zc.getInertBodyElement(i)}while(i!==o);return Gs((new bA).sanitizeChildren(Cf(e)||e))}finally{if(e){const i=Cf(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Cf(n){return"content"in n&&function CA(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var At=(()=>((At=At||{})[At.NONE=0]="NONE",At[At.HTML=1]="HTML",At[At.STYLE=2]="STYLE",At[At.SCRIPT=3]="SCRIPT",At[At.URL=4]="URL",At[At.RESOURCE_URL=5]="RESOURCE_URL",At))();const Sf=new ve("ENVIRONMENT_INITIALIZER"),zv=new ve("INJECTOR",-1),$v=new ve("INJECTOR_DEF_TYPES");class Gv{get(t,e=Ya){if(e===Ya){const i=new Error(`NullInjectorError: No provider for ${zt(t)}!`);throw i.name="NullInjectorError",i}return e}}function AA(...n){return{\u0275providers:qv(0,n)}}function qv(n,...t){const e=[],i=new Set;let r;return Br(t,o=>{const s=o;xf(s,e,[],i)&&(r||(r=[]),r.push(s))}),void 0!==r&&Wv(r,e),e}function Wv(n,t){for(let e=0;e<n.length;e++){const{providers:r}=n[e];Br(r,o=>{t.push(o)})}}function xf(n,t,e,i){if(!(n=Xe(n)))return!1;let r=null,o=Ry(n);const s=!o&&Ft(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=Ry(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const d of c)xf(d,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let d;i.add(r);try{Br(o.imports,p=>{xf(p,t,e,i)&&(d||(d=[]),d.push(p))})}finally{}void 0!==d&&Wv(d,t)}if(!a){const d=zo(r)||(()=>new r);t.push({provide:r,useFactory:d,deps:It},{provide:$v,useValue:r,multi:!0},{provide:Sf,useValue:()=>se(r),multi:!0})}const c=o.providers;null==c||a||Br(c,p=>{t.push(p)})}}return r!==n&&void 0!==n.providers}const RA=jt({provide:String,useValue:jt});function Mf(n){return null!==n&&"object"==typeof n&&RA in n}function Yo(n){return"function"==typeof n}const Tf=new ve("Set Injector scope."),Qc={},PA={};let kf;function Jc(){return void 0===kf&&(kf=new Gv),kf}class mo{}class Xv extends mo{constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Af(t,s=>this.processProvider(s)),this.records.set(zv,qs(void 0,this)),r.has("environment")&&this.records.set(mo,qs(void 0,this));const o=this.records.get(Tf);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get($v.multi,It,ze.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=js(this),i=Ai(void 0);try{return t()}finally{js(e),Ai(i)}}get(t,e=Ya,i=ze.Default){this.assertNotDestroyed();const r=js(this),o=Ai(void 0);try{if(!(i&ze.SkipSelf)){let a=this.records.get(t);if(void 0===a){const c=function UA(n){return"function"==typeof n||"object"==typeof n&&n instanceof ve}(t)&&Dc(t);a=c&&this.injectableDefInScope(c)?qs(If(t),Qc):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&ze.Self?Jc():this.parent).get(t,e=i&ze.Optional&&e===Ya?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[Gc]=s[Gc]||[]).unshift(zt(t)),r)throw s;return function $I(n,t,e,i){const r=n[Gc];throw t[Ev]&&r.unshift(t[Ev]),n.message=function GI(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=zt(t);if(Array.isArray(t))r=t.map(zt).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):zt(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(VI,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Gc]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{Ai(o),js(r)}}resolveInjectorInitializers(){const t=js(this),e=Ai(void 0);try{const i=this.get(Sf.multi,It,ze.Self);for(const r of i)r()}finally{js(t),Ai(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(zt(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new de(205,!1)}processProvider(t){let e=Yo(t=Xe(t))?t:Xe(t&&t.provide);const i=function NA(n){return Mf(n)?qs(void 0,n.useValue):qs(Zv(n),Qc)}(t);if(Yo(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=qs(void 0,Qc,!0),r.factory=()=>gf(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===Qc&&(e.value=PA,e.value=e.factory()),"object"==typeof e.value&&e.value&&function BA(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Xe(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function If(n){const t=Dc(n),e=null!==t?t.factory:zo(n);if(null!==e)return e;if(n instanceof ve)throw new de(204,!1);if(n instanceof Function)return function FA(n){const t=n.length;if(t>0)throw Wa(t,"?"),new de(204,!1);const e=function Ik(n){const t=n&&(n[Sc]||n[Oy]);if(t){const e=function Ak(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new de(204,!1)}function Zv(n,t,e){let i;if(Yo(n)){const r=Xe(n);return zo(r)||If(r)}if(Mf(n))i=()=>Xe(n.useValue);else if(function Kv(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...gf(n.deps||[]));else if(function Yv(n){return!(!n||!n.useExisting)}(n))i=()=>se(Xe(n.useExisting));else{const r=Xe(n&&(n.useClass||n.provide));if(!function LA(n){return!!n.deps}(n))return zo(r)||If(r);i=()=>new r(...gf(n.deps))}return i}function qs(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function VA(n){return!!n.\u0275providers}function Af(n,t){for(const e of n)Array.isArray(e)?Af(e,t):VA(e)?Af(e.\u0275providers,t):t(e)}class Qv{}class zA{resolveComponentFactory(t){throw function jA(n){const t=Error(`No component factory found for ${zt(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let go=(()=>{class n{}return n.NULL=new zA,n})();function $A(){return Ws(Dn(),me())}function Ws(n,t){return new ct(Pi(n,t))}let ct=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=$A,n})();function GA(n){return n instanceof ct?n.nativeElement:n}class tl{}let Vr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function qA(){const n=me(),e=gi(Dn().index,n);return(ai(e)?e:n)[11]}(),n})(),WA=(()=>{class n{}return n.\u0275prov=Se({token:n,providedIn:"root",factory:()=>null}),n})();class Ko{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const YA=new Ko("14.2.4"),Rf={};function Lf(n){return n.ngOriginalError}class Hr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Lf(t);for(;e&&Lf(e);)e=Lf(e);return e||null}}const Bf=new Map;let sR=0;const Vf="__ngContext__";function Hn(n,t){ai(t)?(n[Vf]=t[20],function lR(n){Bf.set(n[20],n)}(t)):n[Vf]=t}function jr(n){return n instanceof Function?n():n}var li=(()=>((li=li||{})[li.Important=1]="Important",li[li.DashCase=2]="DashCase",li))();function jf(n,t){return undefined(n,t)}function il(n){const t=n[3];return Ji(t)?t[3]:t}function zf(n){return fb(n[13])}function $f(n){return fb(n[4])}function fb(n){for(;null!==n&&!Ji(n);)n=n[4];return n}function Ks(n,t,e,i,r){if(null!=i){let o,s=!1;Ji(i)?o=i:ai(i)&&(s=!0,i=i[0]);const a=gn(i);0===n&&null!==e?null==r?vb(t,e,a):Xo(t,e,a,r||null,!0):1===n&&null!==e?Xo(t,e,a,r||null,!0):2===n?function xb(n,t,e){const i=eu(n,t);i&&function FR(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function BR(n,t,e,i,r){const o=e[7];o!==gn(e)&&Ks(t,n,i,o,r);for(let a=10;a<e.length;a++){const c=e[a];rl(c[1],c,n,t,i,o)}}(t,n,o,e,r)}}function qf(n,t,e){return n.createElement(t,e)}function mb(n,t){const e=n[9],i=e.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,Yh(r,-1)),e.splice(i,1)}function Wf(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&mb(r,i),t>0&&(n[e-1][4]=i[4]);const o=zc(n,10+t);!function MR(n,t){rl(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function gb(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&rl(n,t,e,3,null,null),function IR(n){let t=n[13];if(!t)return Yf(n[1],n);for(;t;){let e=null;if(ai(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)ai(t)&&Yf(t[1],t),t=t[3];null===t&&(t=n),ai(t)&&Yf(t[1],t),e=t&&t[4]}t=e}}(t)}}function Yf(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function PR(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Ha)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];try{c.call(a)}finally{}}else try{o.call(r)}finally{}}}}(n,t),function OR(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):gn(t[s]),c=i[r=e[o+2]],d=e[o+3];"boolean"==typeof d?a.removeEventListener(e[o],c,d):d>=0?i[r=d]():i[r=-d].unsubscribe(),o+=2}else{const s=i[r=e[o+1]];e[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)(0,i[o])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&Ji(t[3])){e!==t[3]&&mb(e,t);const i=t[19];null!==i&&i.detachView(n)}!function cR(n){Bf.delete(n[20])}(t)}}function _b(n,t,e){return function yb(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Zi.None||r===Zi.Emulated)return null}return Pi(i,e)}(n,t.parent,e)}function Xo(n,t,e,i,r){n.insertBefore(t,e,i,r)}function vb(n,t,e){n.appendChild(t,e)}function bb(n,t,e,i,r){null!==i?Xo(n,t,e,i,r):vb(n,t,e)}function eu(n,t){return n.parentNode(t)}function wb(n,t,e){return Cb(n,t,e)}let Cb=function Eb(n,t,e){return 40&n.type?Pi(n,e):null};function tu(n,t,e,i){const r=_b(n,i,t),o=t[11],a=wb(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let c=0;c<e.length;c++)bb(o,r,e[c],a,!1);else bb(o,r,e,a,!1)}function nu(n,t){if(null!==t){const e=t.type;if(3&e)return Pi(t,n);if(4&e)return Xf(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return nu(n,i);{const r=n[t.index];return Ji(r)?Xf(-1,r):gn(r)}}if(32&e)return jf(t,n)()||gn(n[t.index]);{const i=Sb(n,t);return null!==i?Array.isArray(i)?i[0]:nu(il(n[16]),i):nu(n,t.next)}}return null}function Sb(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Xf(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return nu(i,r)}return t[7]}function Zf(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],c=e.type;if(s&&0===t&&(a&&Hn(gn(a),i),e.flags|=4),64!=(64&e.flags))if(8&c)Zf(n,t,e.child,i,r,o,!1),Ks(t,n,r,a,o);else if(32&c){const d=jf(e,i);let p;for(;p=d();)Ks(t,n,r,p,o);Ks(t,n,r,a,o)}else 16&c?Mb(n,t,i,e,r,o):Ks(t,n,r,a,o);e=s?e.projectionNext:e.next}}function rl(n,t,e,i,r,o){Zf(e,i,n.firstChild,t,r,o,!1)}function Mb(n,t,e,i,r,o){const s=e[16],c=s[6].projection[i.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++)Ks(t,n,r,c[d],o);else Zf(n,t,c,s[3],r,o,!0)}function Tb(n,t,e){n.setAttribute(t,"style",e)}function Qf(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function kb(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}const Ib="ng-template";function VR(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==kb(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Ab(n){return 4===n.type&&n.value!==Ib}function HR(n,t,e){return t===(4!==n.type||e?n.value:Ib)}function jR(n,t,e){let i=4;const r=n.attrs||[],o=function GR(n){for(let t=0;t<n.length;t++)if(rv(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!HR(n,c,e)||""===c&&1===t.length){if(tr(i))return!1;s=!0}}else{const d=8&i?c:t[++a];if(8&i&&null!==n.attrs){if(!VR(n.attrs,d,e)){if(tr(i))return!1;s=!0}continue}const g=zR(8&i?"class":c,r,Ab(n),e);if(-1===g){if(tr(i))return!1;s=!0;continue}if(""!==d){let E;E=g>o?"":r[g+1].toLowerCase();const S=8&i?E:null;if(S&&-1!==kb(S,d,0)||2&i&&d!==E){if(tr(i))return!1;s=!0}}}}else{if(!s&&!tr(i)&&!tr(c))return!1;if(s&&tr(c))continue;s=!1,i=c|1&i}}return tr(i)||s}function tr(n){return 0==(1&n)}function zR(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function qR(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Rb(n,t,e=!1){for(let i=0;i<t.length;i++)if(jR(n,t[i],e))return!0;return!1}function WR(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Ob(n,t){return n?":not("+t.trim()+")":t}function YR(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!tr(s)&&(t+=Ob(o,r),r=""),i=s,o=o||!tr(i);e++}return""!==r&&(t+=Ob(o,r)),t}const nt={};function ke(n){Pb(wt(),me(),Jn()+n,!1)}function Pb(n,t,e,i){if(!i)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&Fc(t,o,e)}else{const o=n.preOrderHooks;null!==o&&Nc(t,o,0,e)}ho(e)}function Bb(n,t=null,e=null,i){const r=Ub(n,t,e,i);return r.resolveInjectorInitializers(),r}function Ub(n,t=null,e=null,i,r=new Set){const o=[e||It,AA(n)];return i=i||("object"==typeof n?void 0:zt(n)),new Xv(o,t||Jc(),i||null,r)}let jn=(()=>{class n{static create(e,i){if(Array.isArray(e))return Bb({name:""},i,e,"");{const r=e.name??"";return Bb({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=Ya,n.NULL=new Gv,n.\u0275prov=Se({token:n,providedIn:"any",factory:()=>se(zv)}),n.__NG_ELEMENT_ID__=-1,n})();function V(n,t=ze.Default){const e=me();return null===e?se(n,t):hv(Dn(),e,Xe(n),t)}function ol(){throw new Error("invalid")}function ru(n,t){return n<<17|t<<2}function nr(n){return n>>17&32767}function ip(n){return 2|n}function zr(n){return(131068&n)>>2}function rp(n,t){return-131069&n|t<<2}function op(n){return 1|n}function n0(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],o=e[i+1];if(-1!==o){const s=n.data[o];Jh(r),s.contentQueries(2,t[o],o)}}}function au(n,t,e,i,r,o,s,a,c,d,p){const g=t.blueprint.slice();return g[0]=r,g[2]=76|i,(null!==p||n&&1024&n[2])&&(g[2]|=1024),$y(g),g[3]=g[15]=n,g[8]=e,g[10]=s||n&&n[10],g[11]=a||n&&n[11],g[12]=c||n&&n[12]||null,g[9]=d||n&&n[9]||null,g[6]=o,g[20]=function aR(){return sR++}(),g[21]=p,g[16]=2==t.type?n[16]:g,g}function Zs(n,t,e,i,r){let o=n.data[t];if(null===o)o=function fp(n,t,e,i,r){const o=Wy(),s=Kh(),c=n.data[t]=function IO(n,t,e,i,r,o){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c)),c}(n,t,e,i,r),function sI(){return et.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function Va(){const n=et.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return gr(o,!0),o}function Qs(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function pp(n,t,e){ef(t);try{const i=n.viewQuery;null!==i&&Ep(1,i,e);const r=n.template;null!==r&&r0(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&n0(n,t),n.staticViewQueries&&Ep(2,n.viewQuery,e);const o=n.components;null!==o&&function MO(n,t){for(let e=0;e<t.length;e++)qO(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,tf()}}function lu(n,t,e,i){const r=t[2];if(128!=(128&r)){ef(t);try{$y(t),function Ky(n){return et.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&r0(n,t,e,2,i);const s=3==(3&r);if(s){const d=n.preOrderCheckHooks;null!==d&&Fc(t,d,null)}else{const d=n.preOrderHooks;null!==d&&Nc(t,d,0,null),rf(t,0)}if(function $O(n){for(let t=zf(n);null!==t;t=$f(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],o=r[3];0==(512&r[2])&&Yh(o,1),r[2]|=512}}}(t),function zO(n){for(let t=zf(n);null!==t;t=$f(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];Oc(i)&&lu(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&n0(n,t),s){const d=n.contentCheckHooks;null!==d&&Fc(t,d)}else{const d=n.contentHooks;null!==d&&Nc(t,d,1),rf(t,1)}!function SO(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)ho(~r);else{const o=r,s=e[++i],a=e[++i];aI(s,o),a(2,t[o])}}}finally{ho(-1)}}(n,t);const a=n.components;null!==a&&function xO(n,t){for(let e=0;e<t.length;e++)GO(n,t[e])}(t,a);const c=n.viewQuery;if(null!==c&&Ep(2,c,i),s){const d=n.viewCheckHooks;null!==d&&Fc(t,d)}else{const d=n.viewHooks;null!==d&&Nc(t,d,2),rf(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,Yh(t[3],-1))}finally{tf()}}}function r0(n,t,e,i,r){const o=Jn(),s=2&i;try{ho(-1),s&&t.length>22&&Pb(n,t,22,!1),e(i,r)}finally{ho(o)}}function mp(n,t,e){!qy()||(function FO(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||za(e,t),Hn(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],d=er(c);d&&VO(t,e,c);const p=$a(t,n,a,e);Hn(p,t),null!==s&&HO(0,a-r,p,c,0,s),d&&(gi(e.index,t)[8]=p)}}(n,t,e,Pi(e,t)),128==(128&e.flags)&&function NO(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function lI(){return et.lFrame.currentDirectiveIndex}();try{ho(o);for(let a=i;a<r;a++){const c=n.data[a],d=t[a];Zh(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&h0(c,d)}}finally{ho(-1),Zh(s)}}(n,t,e))}function gp(n,t,e=Pi){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function s0(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=_p(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function _p(n,t,e,i,r,o,s,a,c,d){const p=22+i,g=p+r,E=function TO(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:nt);return e}(p,g),S="function"==typeof d?d():d;return E[1]={type:n,blueprint:E,template:e,queries:null,viewQuery:a,declTNode:t,data:E.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:S,incompleteFirstPass:!1}}function a0(n,t,e,i){const r=_0(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&y0(n).push(i,r.length-1))}function l0(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function c0(n,t){const i=t.directiveEnd,r=n.data,o=t.attrs,s=[];let a=null,c=null;for(let d=t.directiveStart;d<i;d++){const p=r[d],g=p.inputs,E=null===o||Ab(t)?null:jO(g,o);s.push(E),a=l0(g,d,a),c=l0(p.outputs,d,c)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=c}function bi(n,t,e,i,r,o,s,a){const c=Pi(t,e);let p,d=t.inputs;!a&&null!=d&&(p=d[i])?(Cp(n,e,p,i,r),Ic(t)&&u0(e,t.index)):3&t.type&&(i=function AO(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(c,i,r))}function u0(n,t){const e=gi(t,n);16&e[2]||(e[2]|=32)}function yp(n,t,e,i){let r=!1;if(qy()){const o=function LO(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];Rb(e,s.selectors,!1)&&(r||(r=[]),Hc(za(e,t),n,s.type),er(s)?(f0(n,e),r.unshift(s)):r.push(s))}return r}(n,t,e),s=null===i?null:{"":-1};if(null!==o){r=!0,p0(e,n.data.length,o.length);for(let p=0;p<o.length;p++){const g=o[p];g.providersResolver&&g.providersResolver(g)}let a=!1,c=!1,d=Qs(n,t,o.length,null);for(let p=0;p<o.length;p++){const g=o[p];e.mergedAttrs=Bc(e.mergedAttrs,g.hostAttrs),m0(n,e,t,d,g),UO(d,g,s),null!==g.contentQueries&&(e.flags|=8),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(e.flags|=128);const E=g.type.prototype;!a&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!c&&(E.ngOnChanges||E.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),c=!0),d++}c0(n,e)}s&&function BO(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new de(-301,!1);i.push(t[r],o)}}}(e,i,s)}return e.mergedAttrs=Bc(e.mergedAttrs,e.attrs),r}function d0(n,t,e,i,r,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const c=~t.index;(function PO(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=c&&a.push(c),a.push(i,r,s)}}function h0(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function f0(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function UO(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;er(t)&&(e[""]=n)}}function p0(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function m0(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=zo(r.type)),s=new Ha(o,er(r),V);n.blueprint[i]=s,e[i]=s,d0(n,t,0,i,Qs(n,e,r.hostVars,nt),r)}function VO(n,t,e){const i=Pi(t,n),r=s0(e),o=n[10],s=cu(n,au(n,r,null,e.onPush?32:16,i,t,o,o.createRenderer(i,e),null,null,null));n[t.index]=s}function br(n,t,e,i,r,o){const s=Pi(n,t);!function vp(n,t,e,i,r,o,s){if(null==o)n.removeAttribute(t,r,e);else{const a=null==s?tt(o):s(o,i||"",r);n.setAttribute(t,r,a,e)}}(t[11],s,o,n.value,e,i,r)}function HO(n,t,e,i,r,o){const s=o[t];if(null!==s){const a=i.setInput;for(let c=0;c<s.length;){const d=s[c++],p=s[c++],g=s[c++];null!==a?i.setInput(e,g,d,p):e[p]=g}}}function jO(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function g0(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function GO(n,t){const e=gi(t,n);if(Oc(e)){const i=e[1];48&e[2]?lu(i,e,i.template,e[8]):e[5]>0&&bp(e)}}function bp(n){for(let i=zf(n);null!==i;i=$f(i))for(let r=10;r<i.length;r++){const o=i[r];if(Oc(o))if(512&o[2]){const s=o[1];lu(s,o,s.template,o[8])}else o[5]>0&&bp(o)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=gi(e[i],n);Oc(r)&&r[5]>0&&bp(r)}}function qO(n,t){const e=gi(t,n),i=e[1];(function WO(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),pp(i,e,e[8])}function cu(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function wp(n){for(;n;){n[2]|=32;const t=il(n);if(Vk(n)&&!t)return n;n=t}return null}function uu(n,t,e,i=!0){const r=t[10];r.begin&&r.begin();try{lu(n,t,n.template,e)}catch(s){throw i&&b0(t,s),s}finally{r.end&&r.end()}}function Ep(n,t,e){Jh(0),t(n,e)}function _0(n){return n[7]||(n[7]=[])}function y0(n){return n.cleanup||(n.cleanup=[])}function b0(n,t){const e=n[9],i=e?e.get(Hr,null):null;i&&i.handleError(t)}function Cp(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],c=t[s],d=n.data[s];null!==d.setInput?d.setInput(c,r,i,a):c[a]=r}}function du(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=Ph(r,a):2==o&&(i=Ph(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function hu(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&i.push(gn(o)),Ji(o))for(let a=10;a<o.length;a++){const c=o[a],d=c[1].firstChild;null!==d&&hu(c[1],c,d,i)}const s=e.type;if(8&s)hu(n,t,e.child,i);else if(32&s){const a=jf(e,t);let c;for(;c=a();)i.push(c)}else if(16&s){const a=Sb(t,e);if(Array.isArray(a))i.push(...a);else{const c=il(t[16]);hu(c[1],c,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class sl{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return hu(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Ji(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Wf(t,i),zc(e,i))}this._attachedToViewContainer=!1}gb(this._lView[1],this._lView)}onDestroy(t){a0(this._lView[1],this._lView,null,t)}markForCheck(){wp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){uu(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new de(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function kR(n,t){rl(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new de(902,!1);this._appRef=t}}class YO extends sl{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;uu(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class Dp extends go{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Ft(t);return new al(e,this.ngModule)}}function w0(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class XO{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){const r=this.injector.get(t,Rf,i);return r!==Rf||e===Rf?r:this.parentInjector.get(t,e,i)}}class al extends Qv{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function KR(n){return n.map(YR).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return w0(this.componentDef.inputs)}get outputs(){return w0(this.componentDef.outputs)}create(t,e,i,r){let o=(r=r||this.ngModule)instanceof mo?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new XO(t,o):t,a=s.get(tl,null);if(null===a)throw new de(407,!1);const c=s.get(WA,null),d=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=i?function kO(n,t,e){return n.selectRootElement(t,e===Zi.ShadowDom)}(d,i,this.componentDef.encapsulation):qf(a.createRenderer(null,this.componentDef),p,function KO(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(p)),E=this.componentDef.onPush?288:272,S=_p(0,null,null,1,0,null,null,null,null,null),R=au(null,S,null,E,null,null,a,d,c,s,null);let W,te;ef(R);try{const le=function JO(n,t,e,i,r,o){const s=e[1];e[22]=n;const c=Zs(s,22,2,"#host",null),d=c.mergedAttrs=t.hostAttrs;null!==d&&(du(c,d,!0),null!==n&&(Lc(r,n,d),null!==c.classes&&Qf(r,n,c.classes),null!==c.styles&&Tb(r,n,c.styles)));const p=i.createRenderer(n,t),g=au(e,s0(t),null,t.onPush?32:16,e[22],c,i,p,o||null,null,null);return s.firstCreatePass&&(Hc(za(c,e),s,t.type),f0(s,c),p0(c,e.length,1)),cu(e,g),e[22]=g}(g,this.componentDef,R,a,d);if(g)if(i)Lc(d,g,["ng-version",YA.full]);else{const{attrs:_e,classes:oe}=function XR(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!tr(r))break;r=o}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);_e&&Lc(d,g,_e),oe&&oe.length>0&&Qf(d,g,oe.join(" "))}if(te=Wh(S,22),void 0!==e){const _e=te.projection=[];for(let oe=0;oe<this.ngContentSelectors.length;oe++){const Te=e[oe];_e.push(null!=Te?Array.from(Te):null)}}W=function eP(n,t,e,i){const r=e[1],o=function OO(n,t,e){const i=Dn();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),m0(n,i,t,Qs(n,t,1,null),e),c0(n,i));const r=$a(t,n,i.directiveStart,i);Hn(r,t);const o=Pi(i,t);return o&&Hn(o,t),r}(r,e,t);if(n[8]=e[8]=o,null!==i)for(const a of i)a(o,t);if(t.contentQueries){const a=Dn();t.contentQueries(1,o,a.directiveStart)}const s=Dn();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ho(s.index),d0(e[1],s,0,s.directiveStart,s.directiveEnd,t),h0(t,o)),o}(le,this.componentDef,R,[tP]),pp(S,R,null)}finally{tf()}return new QO(this.componentType,W,Ws(te,R),R,te)}}class QO extends class HA{}{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new YO(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const o=this._rootLView;Cp(o[1],o,r,t,e),u0(o,this._tNode.index)}}get injector(){return new Ns(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function tP(){const n=Dn();Pc(me()[1],n)}function $e(n){let t=function E0(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(er(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new de(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=Sp(n.inputs),s.declaredInputs=Sp(n.declaredInputs),s.outputs=Sp(n.outputs);const a=r.hostBindings;a&&oP(n,a);const c=r.viewQuery,d=r.contentQueries;if(c&&iP(n,c),d&&rP(n,d),Oh(n.inputs,r.inputs),Oh(n.declaredInputs,r.declaredInputs),Oh(n.outputs,r.outputs),er(r)&&r.data.animation){const p=n.data;p.animation=(p.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===$e&&(e=!1)}}t=Object.getPrototypeOf(t)}!function nP(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Bc(r.hostAttrs,e=Bc(e,r.hostAttrs))}}(i)}function Sp(n){return n===Ms?{}:n===It?[]:n}function iP(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function rP(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function oP(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let fu=null;function Zo(){if(!fu){const n=qt.Symbol;if(n&&n.iterator)fu=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(fu=i)}}}return fu}function ll(n){return!!xp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Zo()in n)}function xp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function zn(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Et(n,t,e,i){const r=me();return zn(r,Os(),t)&&(wt(),br(un(),r,n,t,e,i)),Et}function ea(n,t,e,i){return zn(n,Os(),e)?t+tt(e)+i:nt}function Ut(n,t,e,i,r,o,s,a){const c=me(),d=wt(),p=n+22,g=d.firstCreatePass?function fP(n,t,e,i,r,o,s,a,c){const d=t.consts,p=Zs(t,n,4,s||null,uo(d,a));yp(t,e,p,uo(d,c)),Pc(t,p);const g=p.tViews=_p(2,p,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,d);return null!==t.queries&&(t.queries.template(t,p),g.queries=t.queries.embeddedTView(p)),p}(p,d,c,t,e,i,r,o,s):d.data[p];gr(g,!1);const E=c[11].createComment("");tu(d,c,E,g),Hn(E,c),cu(c,c[p]=g0(E,c,E,g)),Ac(g)&&mp(d,c,g),null!=s&&gp(c,g,a)}function Gr(n){return Rs(function oI(){return et.lFrame.contextLView}(),22+n)}function Ne(n,t,e){const i=me();return zn(i,Os(),t)&&bi(wt(),un(),i,n,t,i[11],e,!1),Ne}function Mp(n,t,e,i,r){const s=r?"class":"style";Cp(n,e,t.inputs[s],s,i)}function Ee(n,t,e,i){const r=me(),o=wt(),s=22+n,a=r[11],c=r[s]=qf(a,t,function pI(){return et.lFrame.currentNamespace}()),d=o.firstCreatePass?function mP(n,t,e,i,r,o,s){const a=t.consts,d=Zs(t,n,2,r,uo(a,o));return yp(t,e,d,uo(a,s)),null!==d.attrs&&du(d,d.attrs,!1),null!==d.mergedAttrs&&du(d,d.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,d),d}(s,o,r,0,t,e,i):o.data[s];gr(d,!0);const p=d.mergedAttrs;null!==p&&Lc(a,c,p);const g=d.classes;null!==g&&Qf(a,c,g);const E=d.styles;return null!==E&&Tb(a,c,E),64!=(64&d.flags)&&tu(o,r,c,d),0===function eI(){return et.lFrame.elementDepthCount}()&&Hn(c,r),function tI(){et.lFrame.elementDepthCount++}(),Ac(d)&&(mp(o,r,d),function o0(n,t,e){if(jh(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}(o,d,r)),null!==i&&gp(r,d),Ee}function xe(){let n=Dn();Kh()?Xh():(n=n.parent,gr(n,!1));const t=n;!function nI(){et.lFrame.elementDepthCount--}();const e=wt();return e.firstCreatePass&&(Pc(e,n),jh(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function vI(n){return 0!=(16&n.flags)}(t)&&Mp(e,t,me(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function bI(n){return 0!=(32&n.flags)}(t)&&Mp(e,t,me(),t.stylesWithoutHost,!1),xe}function rt(n,t,e,i){return Ee(n,t,e,i),xe(),rt}function mu(){return me()}function ul(n){return!!n&&"function"==typeof n.then}function O0(n){return!!n&&"function"==typeof n.subscribe}const Ip=O0;function Ct(n,t,e,i){const r=me(),o=wt(),s=Dn();return function F0(n,t,e,i,r,o,s,a){const c=Ac(i),p=n.firstCreatePass&&y0(n),g=t[8],E=_0(t);let S=!0;if(3&i.type||a){const te=Pi(i,t),le=a?a(te):te,_e=E.length,oe=a?st=>a(gn(st[i.index])):i.index;let Te=null;if(!a&&c&&(Te=function _P(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[7],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==Te)(Te.__ngLastListenerFn__||Te).__ngNextListenerFn__=o,Te.__ngLastListenerFn__=o,S=!1;else{o=L0(i,t,g,o,!1);const st=e.listen(le,r,o);E.push(o,st),p&&p.push(r,oe,_e,_e+1)}}else o=L0(i,t,g,o,!1);const R=i.outputs;let W;if(S&&null!==R&&(W=R[r])){const te=W.length;if(te)for(let le=0;le<te;le+=2){const vt=t[W[le]][W[le+1]].subscribe(o),sn=E.length;E.push(o,vt),p&&p.push(r,i.index,sn,-(sn+1))}}}(o,r,r[11],s,n,t,0,i),Ct}function N0(n,t,e,i){try{return!1!==e(i)}catch(r){return b0(n,r),!1}}function L0(n,t,e,i,r){return function o(s){if(s===Function)return i;wp(2&n.flags?gi(n.index,t):t);let c=N0(t,0,i,s),d=o.__ngNextListenerFn__;for(;d;)c=N0(t,0,d,s)&&c,d=d.__ngNextListenerFn__;return r&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function rn(n=1){return function uI(n){return(et.lFrame.contextLView=function dI(n,t){for(;n>0;)t=t[15],n--;return t}(n,et.lFrame.contextLView))[8]}(n)}function yP(n,t){let e=null;const i=function $R(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?Rb(n,o,!0):WR(i,o))return r}else e=r}return e}function ir(n){const t=me()[16][6];if(!t.projection){const i=t.projection=Wa(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?yP(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function $n(n,t=0,e){const i=me(),r=wt(),o=Zs(r,22+n,16,null,e||null);null===o.projection&&(o.projection=t),Xh(),64!=(64&o.flags)&&function LR(n,t,e){Mb(t[11],0,t,e,_b(n,e,t),wb(e.parent||t[6],e,t))}(r,i,o)}function gu(n,t,e,i,r){const o=me(),s=ea(o,t,e,i);return s!==nt&&bi(wt(),un(),o,n,s,o[11],r,!1),gu}function W0(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?nr(o):zr(o),c=!1;for(;0!==a&&(!1===c||s);){const p=n[a+1];wP(n[a],t)&&(c=!0,n[a+1]=i?op(p):ip(p)),a=i?nr(p):zr(p)}c&&(n[e+1]=i?ip(o):op(o))}function wP(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Hs(n,t)>=0}const xn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Y0(n){return n.substring(xn.key,xn.keyEnd)}function K0(n,t){const e=xn.textEnd;return e===t?-1:(t=xn.keyEnd=function SP(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,xn.key=t,e),la(n,t,e))}function la(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function qr(n,t,e){return rr(n,t,e,!1),qr}function Yt(n,t){return rr(n,t,null,!0),Yt}function ew(n){!function or(n,t,e,i){const r=wt(),o=Lr(2);r.firstUpdatePass&&nw(r,null,o,i);const s=me();if(e!==nt&&zn(s,o,e)){const a=r.data[Jn()];if(sw(a,i)&&!tw(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(e=Ph(c,e||"")),Mp(r,a,s,e,i)}else!function PP(n,t,e,i,r,o,s,a){r===nt&&(r=It);let c=0,d=0,p=0<r.length?r[0]:null,g=0<o.length?o[0]:null;for(;null!==p||null!==g;){const E=c<r.length?r[c+1]:void 0,S=d<o.length?o[d+1]:void 0;let W,R=null;p===g?(c+=2,d+=2,E!==S&&(R=g,W=S)):null===g||null!==p&&p<g?(c+=2,R=p):(d+=2,R=g,W=S),null!==R&&rw(n,t,e,i,R,W,s,a),p=c<r.length?r[c]:null,g=d<o.length?o[d]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function OP(n,t,e){if(null==e||""===e)return It;const i=[],r=vi(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,o)}}(yi,Cr,n,!0)}function Cr(n,t){for(let e=function CP(n){return function Z0(n){xn.key=0,xn.keyEnd=0,xn.value=0,xn.valueEnd=0,xn.textEnd=n.length}(n),K0(n,la(n,0,xn.textEnd))}(t);e>=0;e=K0(t,e))yi(n,Y0(t),!0)}function rr(n,t,e,i){const r=me(),o=wt(),s=Lr(2);o.firstUpdatePass&&nw(o,n,s,i),t!==nt&&zn(r,s,t)&&rw(o,o.data[Jn()],r,r[11],n,r[s+1]=function FP(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=zt(vi(n)))),n}(t,e),i,s)}function tw(n,t){return t>=n.expandoStartIndex}function nw(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Jn()],s=tw(n,e);sw(o,i)&&null===t&&!s&&(t=!1),t=function kP(n,t,e,i){const r=function Qh(n){const t=et.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=dl(e=Ap(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=Ap(r,n,t,e,i),null===o){let c=function IP(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==zr(i))return n[nr(i)]}(n,t,i);void 0!==c&&Array.isArray(c)&&(c=Ap(null,n,t,c[1],i),c=dl(c,t.attrs,i),function AP(n,t,e,i){n[nr(e?t.classBindings:t.styleBindings)]=i}(n,t,i,c))}else o=function RP(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=dl(i,n[o].hostAttrs,e);return dl(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function vP(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=nr(s),c=zr(s);n[i]=e;let p,d=!1;if(Array.isArray(e)){const g=e;p=g[1],(null===p||Hs(g,p)>0)&&(d=!0)}else p=e;if(r)if(0!==c){const E=nr(n[a+1]);n[i+1]=ru(E,a),0!==E&&(n[E+1]=rp(n[E+1],i)),n[a+1]=function mO(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=ru(a,0),0!==a&&(n[a+1]=rp(n[a+1],i)),a=i;else n[i+1]=ru(c,0),0===a?a=i:n[c+1]=rp(n[c+1],i),c=i;d&&(n[i+1]=ip(n[i+1])),W0(n,p,i,!0),W0(n,p,i,!1),function bP(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Hs(o,t)>=0&&(e[i+1]=op(e[i+1]))}(t,p,n,i,o),s=ru(a,c),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}function Ap(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=dl(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function dl(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),yi(n,s,!!e||t[++o]))}return void 0===n?null:n}function rw(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const c=n.data,d=c[a+1];_u(function Yb(n){return 1==(1&n)}(d)?ow(c,t,e,r,zr(d),s):void 0)||(_u(o)||function Wb(n){return 2==(2&n)}(d)&&(o=ow(c,null,e,r,a,s)),function UR(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:li.DashCase;null==r?n.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=li.Important),n.setStyle(e,i,r,o))}}(i,s,Rc(Jn(),e),r,o))}function ow(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const c=n[r],d=Array.isArray(c),p=d?c[1]:c,g=null===p;let E=e[r+1];E===nt&&(E=g?It:void 0);let S=g?ff(E,i):p===i?E:void 0;if(d&&!_u(S)&&(S=ff(c,i)),_u(S)&&(a=S,s))return a;const R=n[r+1];r=s?nr(R):zr(R)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=ff(c,i))}return a}function _u(n){return void 0!==n}function sw(n,t){return 0!=(n.flags&(t?16:32))}function yt(n,t=""){const e=me(),i=wt(),r=n+22,o=i.firstCreatePass?Zs(i,r,1,t,null):i.data[r],s=e[r]=function Gf(n,t){return n.createText(t)}(e[11],t);tu(i,e,s,o),gr(o,!1)}function Ni(n){return sr("",n,""),Ni}function sr(n,t,e){const i=me(),r=ea(i,n,t,e);return r!==nt&&function $r(n,t,e){const i=Rc(t,n);!function pb(n,t,e){n.setValue(t,e)}(n[11],i,e)}(i,Jn(),r),sr}function hl(n,t,e){const i=me();return zn(i,Os(),t)&&bi(wt(),un(),i,n,t,i[11],e,!0),hl}const ua="en-US";let Mw=ua;function Pp(n,t,e,i,r){if(n=Xe(n),Array.isArray(n))for(let o=0;o<n.length;o++)Pp(n[o],t,e,i,r);else{const o=wt(),s=me();let a=Yo(n)?n:Xe(n.provide),c=Zv(n);const d=Dn(),p=1048575&d.providerIndexes,g=d.directiveStart,E=d.providerIndexes>>20;if(Yo(n)||!n.multi){const S=new Ha(c,r,V),R=Np(a,t,r?p:p+E,g);-1===R?(Hc(za(d,s),o,a),Fp(o,n,t.length),t.push(a),d.directiveStart++,d.directiveEnd++,r&&(d.providerIndexes+=1048576),e.push(S),s.push(S)):(e[R]=S,s[R]=S)}else{const S=Np(a,t,p+E,g),R=Np(a,t,p,p+E),W=S>=0&&e[S],te=R>=0&&e[R];if(r&&!te||!r&&!W){Hc(za(d,s),o,a);const le=function JF(n,t,e,i,r){const o=new Ha(n,e,V);return o.multi=[],o.index=t,o.componentProviders=0,Qw(o,r,i&&!e),o}(r?QF:ZF,e.length,r,i,c);!r&&te&&(e[R].providerFactory=le),Fp(o,n,t.length,0),t.push(a),d.directiveStart++,d.directiveEnd++,r&&(d.providerIndexes+=1048576),e.push(le),s.push(le)}else Fp(o,n,S>-1?S:R,Qw(e[r?R:S],c,!r&&i));!r&&i&&te&&e[R].componentProviders++}}}function Fp(n,t,e,i){const r=Yo(t),o=function OA(n){return!!n.useClass}(t);if(r||o){const c=(o?Xe(t.useClass):t).prototype.ngOnDestroy;if(c){const d=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const p=d.indexOf(e);-1===p?d.push(e,[i,c]):d[p+1].push(i,c)}else d.push(e,c)}}}function Qw(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Np(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function ZF(n,t,e,i){return Lp(this.multi,[])}function QF(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=$a(e,e[1],this.providerFactory.index,i);o=a.slice(0,s),Lp(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Lp(r,o);return o}function Lp(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function ht(n,t=[]){return e=>{e.providersResolver=(i,r)=>function XF(n,t,e){const i=wt();if(i.firstCreatePass){const r=er(n);Pp(e,i.data,i.blueprint,r,!0),Pp(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class es{}class Jw{}class eE extends es{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Dp(this);const i=pi(t);this._bootstrapComponents=jr(i.bootstrap),this._r3Injector=Ub(t,e,[{provide:es,useValue:this},{provide:go,useValue:this.componentFactoryResolver}],zt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Bp extends Jw{constructor(t){super(),this.moduleType=t}create(t){return new eE(this.moduleType,t)}}class tN extends es{constructor(t,e,i){super(),this.componentFactoryResolver=new Dp(this),this.instance=null;const r=new Xv([...t,{provide:es,useValue:this},{provide:go,useValue:this.componentFactoryResolver}],e||Jc(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Eu(n,t,e=null){return new tN(n,t,e).injector}let nN=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=qv(0,e.type),r=i.length>0?Eu([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,r)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Se({token:n,providedIn:"environment",factory:()=>new n(se(mo))}),n})();function tE(n){n.getStandaloneInjector=t=>t.get(nN).getOrCreateStandaloneInjector(n)}function lE(n,t,e,i,r,o){const s=t+e;return zn(n,s,r)?function wr(n,t,e){return n[t]=e}(n,s+1,o?i.call(o,r):i(r)):function yl(n,t){const e=n[t];return e===nt?void 0:e}(n,s+1)}function Hp(n,t){const e=wt();let i;const r=n+22;e.firstCreatePass?(i=function bN(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=zo(i.type)),s=Ai(V);try{const a=Uc(!1),c=o();return Uc(a),function pP(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,me(),r,c),c}finally{Ai(s)}}function jp(n,t,e){const i=n+22,r=me(),o=Rs(r,i);return function vl(n,t){return n[1].data[t].pure}(r,i)?lE(r,Qn(),t,o.transform,e,o):o.transform(e)}function zp(n){return t=>{setTimeout(n,void 0,t)}}const Ze=class SN extends I{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&"object"==typeof t){const c=t;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=zp(o),r&&(r=zp(r)),s&&(s=zp(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof k&&t.add(a),a}};function xN(){return this._results[Zo()]()}class ts{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Zo(),i=ts.prototype;i[e]||(i[e]=xN)}get changes(){return this._changes||(this._changes=new Ze)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=_i(t);(this._changesDetected=!function II(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let wi=(()=>{class n{}return n.__NG_ELEMENT_ID__=kN,n})();const MN=wi,TN=class extends MN{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t,e){const i=this._declarationTContainer.tViews,r=au(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,e||null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(i)),pp(i,r,t),new sl(r)}};function kN(){return Cu(Dn(),me())}function Cu(n,t){return 4&n.type?new TN(t,n,Ws(n,t)):null}let In=(()=>{class n{}return n.__NG_ELEMENT_ID__=IN,n})();function IN(){return mE(Dn(),me())}const AN=In,fE=class extends AN{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Ws(this._hostTNode,this._hostLView)}get injector(){return new Ns(this._hostTNode,this._hostLView)}get parentInjector(){const t=Vc(this._hostTNode,this._hostLView);if(av(t)){const e=Fs(t,this._hostLView),i=Ps(t);return new Ns(e[1].data[i+8],e)}return new Ns(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=pE(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=t.createEmbeddedView(e||{},o);return this.insert(s,r),s}createComponent(t,e,i,r,o){const s=t&&!function qa(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const g=e||{};a=g.index,i=g.injector,r=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const c=s?t:new al(Ft(t)),d=i||this.parentInjector;if(!o&&null==c.ngModule){const E=(s?d:this.parentInjector).get(mo,null);E&&(o=E)}const p=c.create(d,r,void 0,o);return this.insert(p.hostView,a),p}insert(t,e){const i=t._lView,r=i[1];if(function Jk(n){return Ji(n[3])}(i)){const p=this.indexOf(t);if(-1!==p)this.detach(p);else{const g=i[3],E=new fE(g,g[6],g[3]);E.detach(E.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function AR(n,t,e,i){const r=10+i,o=e.length;i>0&&(e[r-1][4]=t),i<o-10?(t[4]=e[r],yv(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function RR(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=64}(r,i,s,o);const a=Xf(o,s),c=i[11],d=eu(c,s[7]);return null!==d&&function TR(n,t,e,i,r,o){i[0]=r,i[6]=t,rl(n,i,e,1,r,o)}(r,s[6],c,i,d,a),t.attachToViewContainerRef(),yv($p(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=pE(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Wf(this._lContainer,e);i&&(zc($p(this._lContainer),e),gb(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=Wf(this._lContainer,e);return i&&null!=zc($p(this._lContainer),e)?new sl(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function pE(n){return n[8]}function $p(n){return n[8]||(n[8]=[])}function mE(n,t){let e;const i=t[n.index];if(Ji(i))e=i;else{let r;if(8&n.type)r=gn(i);else{const o=t[11];r=o.createComment("");const s=Pi(n,t);Xo(o,eu(o,s),r,function NR(n,t){return n.nextSibling(t)}(o,s),!1)}t[n.index]=e=g0(i,t,r,n),cu(t,e)}return new fE(e,n,t)}class Gp{constructor(t){this.queryList=t,this.matches=null}clone(){return new Gp(this.queryList)}setDirty(){this.queryList.setDirty()}}class qp{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new qp(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==bE(t,e).matches&&this.queries[e].setDirty()}}class gE{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class Wp{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new Wp(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Yp{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Yp(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,PN(e,o)),this.matchTNodeWithReadOption(t,e,jc(e,t,o,!1,!1))}else i===wi?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,jc(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ct||r===In||r===wi&&4&e.type)this.addMatch(e.index,-2);else{const o=jc(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function PN(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function NN(n,t,e,i){return-1===e?function FN(n,t){return 11&n.type?Ws(n,t):4&n.type?Cu(n,t):null}(t,n):-2===e?function LN(n,t,e){return e===ct?Ws(t,n):e===wi?Cu(t,n):e===In?mE(t,n):void 0}(n,t,i):$a(n,n[1],e,t)}function _E(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let c=0;c<s.length;c+=2){const d=s[c];a.push(d<0?null:NN(t,o[d],s[c+1],e.metadata.read))}r.matches=a}return r.matches}function Kp(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=_E(n,t,r,e);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const d=o[a+1],p=t[-c];for(let g=10;g<p.length;g++){const E=p[g];E[17]===E[3]&&Kp(E[1],E,d,i)}if(null!==p[9]){const g=p[9];for(let E=0;E<g.length;E++){const S=g[E];Kp(S[1],S,d,i)}}}}}return i}function Nt(n){const t=me(),e=wt(),i=Zy();Jh(i+1);const r=bE(e,i);if(n.dirty&&function Qk(n){return 4==(4&n[2])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?Kp(e,t,i,[]):_E(e,t,r,i);n.reset(o,GA),n.notifyOnChanges()}return!0}return!1}function An(n,t,e){const i=wt();i.firstCreatePass&&(vE(i,new gE(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),yE(i,me(),t)}function Li(n,t,e,i){const r=wt();if(r.firstCreatePass){const o=Dn();vE(r,new gE(t,e,i),o.index),function UN(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}yE(r,me(),e)}function Lt(){return function BN(n,t){return n[19].queries[t].queryList}(me(),Zy())}function yE(n,t,e){const i=new ts(4==(4&e));a0(n,t,i,i.destroy),null===t[19]&&(t[19]=new qp),t[19].queries.push(new Gp(i))}function vE(n,t,e){null===n.queries&&(n.queries=new Wp),n.queries.track(new Yp(t,e))}function bE(n,t){return n.queries.getByIndex(t)}function Su(...n){}const xu=new ve("Application Initializer");let Mu=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Su,this.reject=Su,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(ul(o))e.push(o);else if(Ip(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});e.push(s)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(se(xu,8))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wl=new ve("AppId",{providedIn:"root",factory:function UE(){return`${em()}${em()}${em()}`}});function em(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const VE=new ve("Platform Initializer"),tm=new ve("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),HE=new ve("appBootstrapListener"),Bi=new ve("AnimationModuleType");let a2=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Dr=new ve("LocaleId",{providedIn:"root",factory:()=>$t(Dr,ze.Optional|ze.SkipSelf)||function l2(){return typeof $localize<"u"&&$localize.locale||ua}()});class u2{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let nm=(()=>{class n{compileModuleSync(e){return new Bp(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=jr(pi(e).declarations).reduce((s,a)=>{const c=Ft(a);return c&&s.push(new al(c)),s},[]);return new u2(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const f2=(()=>Promise.resolve(0))();function im(n){typeof Zone>"u"?f2.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class qe{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ze(!1),this.onMicrotaskEmpty=new Ze(!1),this.onStable=new Ze(!1),this.onError=new Ze(!1),typeof Zone>"u")throw new de(908,!1);Zone.assertZonePatched();const r=this;if(r._nesting=0,r._outer=r._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;r._inner=r._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function p2(){let n=qt.requestAnimationFrame,t=qt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function _2(n){const t=()=>{!function g2(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(qt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,om(n),n.isCheckStableRunning=!0,rm(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),om(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{try{return $E(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),GE(n)}},onInvoke:(e,i,r,o,s,a,c)=>{try{return $E(n),e.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&t(),GE(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,om(n),rm(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qe.isInAngularZone())throw new de(909,!1)}static assertNotInAngularZone(){if(qe.isInAngularZone())throw new de(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,m2,Su,Su);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const m2={};function rm(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function om(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function $E(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function GE(n){n._nesting--,rm(n)}class y2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ze,this.onMicrotaskEmpty=new Ze,this.onStable=new Ze,this.onError=new Ze}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const qE=new ve(""),Tu=new ve("");let lm,sm=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,lm||(function v2(n){lm=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qe.assertNotInAngularZone(),im(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())im(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(se(qe),se(am),se(Tu))},n.\u0275prov=Se({token:n,factory:n.\u0275fac}),n})(),am=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return lm?.findTestabilityInTree(this,e,i)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),vo=null;const WE=new ve("AllowMultipleToken"),cm=new ve("PlatformDestroyListeners");class YE{constructor(t,e){this.name=t,this.token=e}}function XE(n,t,e=[]){const i=`Platform: ${t}`,r=new ve(i);return(o=[])=>{let s=um();if(!s||s.injector.get(WE,!1)){const a=[...e,...o,{provide:r,useValue:!0}];n?n(a):function E2(n){if(vo&&!vo.get(WE,!1))throw new de(400,!1);vo=n;const t=n.get(QE);(function KE(n){const t=n.get(VE,null);t&&t.forEach(e=>e())})(n)}(function ZE(n=[],t){return jn.create({name:t,providers:[{provide:Tf,useValue:"platform"},{provide:cm,useValue:new Set([()=>vo=null])},...n]})}(a,i))}return function D2(n){const t=um();if(!t)throw new de(401,!1);return t}()}}function um(){return vo?.get(QE)??null}let QE=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function eC(n,t){let e;return e="noop"===n?new y2:("zone.js"===n?void 0:n)||new qe(t),e}(i?.ngZone,function JE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),o=[{provide:qe,useValue:r}];return r.run(()=>{const s=jn.create({providers:o,parent:this.injector,name:e.moduleType.name}),a=e.create(s),c=a.injector.get(Hr,null);if(!c)throw new de(402,!1);return r.runOutsideAngular(()=>{const d=r.onError.subscribe({next:p=>{c.handleError(p)}});a.onDestroy(()=>{ku(this._modules,a),d.unsubscribe()})}),function tC(n,t,e){try{const i=e();return ul(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(c,r,()=>{const d=a.injector.get(Mu);return d.runInitializers(),d.donePromise.then(()=>(function Tw(n){fi(n,"Expected localeId to be defined"),"string"==typeof n&&(Mw=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Dr,ua)||ua),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,i=[]){const r=nC({},i);return function b2(n,t,e){const i=new Bp(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(ns);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new de(403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new de(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(cm,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(se(jn))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function nC(n,t){return Array.isArray(t)?t.reduce(nC,n):{...n,...t}}let ns=(()=>{class n{constructor(e,i,r){this._zone=e,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Qe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Qe(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{qe.assertNotInAngularZone(),im(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{qe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),d.unsubscribe()}});this.isStable=lo(o,s.pipe(Ah()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof Qv;if(!this._injector.get(Mu).done)throw!r&&function Ts(n){const t=Ft(n)||Xn(n)||Zn(n);return null!==t&&t.standalone}(e),new de(405,false);let s;s=r?e:this._injector.get(go).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function w2(n){return n.isBoundToModule}(s)?void 0:this._injector.get(es),d=s.create(jn.NULL,[],i||s.selector,a),p=d.location.nativeElement,g=d.injector.get(qE,null);return g?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),ku(this.components,d),g?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new de(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;ku(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(HE,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>ku(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new de(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(se(qe),se(mo),se(Hr))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ku(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let rC=!0,Pn=(()=>{class n{}return n.__NG_ELEMENT_ID__=M2,n})();function M2(n){return function T2(n,t,e){if(Ic(n)&&!e){const i=gi(n.index,t);return new sl(i,i)}return 47&n.type?new sl(t[16],t):null}(Dn(),me(),16==(16&n))}class cC{constructor(){}supports(t){return ll(t)}create(t){return new P2(t)}}const O2=(n,t)=>t;class P2{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||O2}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<dC(i,r,o)?e:i,a=dC(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const d=a-r,p=c-r;if(d!=p){for(let E=0;E<d;E++){const S=E<o.length?o[E]:o[E]=0,R=S+E;p<=R&&R<d&&(o[E]=S+1)}o[s.previousIndex]=p-d}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ll(t))throw new de(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function uP(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Zo()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new F2(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new uC),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uC),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class F2{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class N2{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class uC{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new N2,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dC(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class hC{constructor(){}supports(t){return t instanceof Map||xp(t)}create(){return new L2}}class L2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||xp(t)))throw new de(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new B2(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class B2{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fC(){return new El([new cC])}let El=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||fC()),deps:[[n,new zs,new po]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new de(901,!1)}}return n.\u0275prov=Se({token:n,providedIn:"root",factory:fC}),n})();function pC(){return new Cl([new hC])}let Cl=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||pC()),deps:[[n,new zs,new po]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new de(901,!1)}}return n.\u0275prov=Se({token:n,providedIn:"root",factory:pC}),n})();const H2=XE(null,"core",[]);let j2=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(se(ns))},n.\u0275mod=ut({type:n}),n.\u0275inj=at({}),n})();let Ru=null;function Sr(){return Ru}const Je=new ve("DocumentToken");let Dl=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Se({token:n,factory:function(){return function q2(){return se(mC)}()},providedIn:"platform"}),n})();const W2=new ve("Location Initialized");let mC=(()=>{class n extends Dl{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Sr().getBaseHref(this._doc)}onPopState(e){const i=Sr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Sr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){gC()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){gC()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(se(Je))},n.\u0275prov=Se({token:n,factory:function(){return function Y2(){return new mC(se(Je))}()},providedIn:"platform"}),n})();function gC(){return!!window.history.pushState}function mm(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function _C(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Kr(n){return n&&"?"!==n[0]?"?"+n:n}let bo=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Se({token:n,factory:function(){return $t(vC)},providedIn:"root"}),n})();const yC=new ve("appBaseHref");let vC=(()=>{class n extends bo{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??$t(Je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return mm(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Kr(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+Kr(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+Kr(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(se(Dl),se(yC,8))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bC=(()=>{class n extends bo{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=mm(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Kr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Kr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(se(Dl),se(yC,8))},n.\u0275prov=Se({token:n,factory:n.\u0275fac}),n})(),Ou=(()=>{class n{constructor(e){this._subject=new Ze,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=_C(wC(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Kr(i))}normalize(e){return n.stripTrailingSlash(function X2(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,wC(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Kr(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Kr(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Kr,n.joinWithSlash=mm,n.stripTrailingSlash=_C,n.\u0275fac=function(e){return new(e||n)(se(bo))},n.\u0275prov=Se({token:n,factory:function(){return function K2(){return new Ou(se(bo))}()},providedIn:"root"}),n})();function wC(n){return n.replace(/\/index.html$/,"")}let IC=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(ll(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${zt(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(V(El),V(Cl),V(ct),V(Vr))},n.\u0275dir=Re({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class FL{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zu=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new FL(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),OC(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{OC(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(V(In),V(wi),V(El))},n.\u0275dir=Re({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function OC(n,t){n.context.$implicit=t.item}let Zr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new LL,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){PC("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){PC("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(V(In),V(wi))},n.\u0275dir=Re({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class LL{constructor(){this.$implicit=null,this.ngIf=null}}function PC(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${zt(t)}'.`)}class Sm{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let $u=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Re({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),FC=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Sm(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(V(In),V(wi),V($u,9))},n.\u0275dir=Re({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),xm=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),s=-1===r.indexOf("-")?void 0:li.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(V(ct),V(Cl),V(Vr))},n.\u0275dir=Re({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();class HL{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class jL{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const zL=new jL,$L=new HL;let LC=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(ul(e))return zL;if(O0(e))return $L;throw function cr(n,t){return new de(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(V(Pn,16))},n.\u0275pipe=si({name:"async",type:n,pure:!1,standalone:!0}),n})(),Qr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({}),n})();const UC="browser";let dB=(()=>{class n{}return n.\u0275prov=Se({token:n,providedIn:"root",factory:()=>new hB(se(Je),window)}),n})();class hB{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function fB(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=VC(this.window.history)||VC(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function VC(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Am extends class RB extends class G2{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function $2(n){Ru||(Ru=n)}(new Am)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function OB(){return Tl=Tl||document.querySelector("base"),Tl?Tl.getAttribute("href"):null}();return null==e?null:function PB(n){qu=qu||document.createElement("a"),qu.setAttribute("href",n);const t=qu.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Tl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function OL(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let qu,Tl=null;const $C=new ve("TRANSITION_ID"),NB=[{provide:xu,useFactory:function FB(n,t,e){return()=>{e.get(Mu).donePromise.then(()=>{const i=Sr(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[$C,Je,jn],multi:!0}];let BB=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Se({token:n,factory:n.\u0275fac}),n})();const kl=new ve("EventManagerPlugins");let Wu=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(se(kl),se(qe))},n.\u0275prov=Se({token:n,factory:n.\u0275fac}),n})();class GC{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=Sr().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let qC=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Se({token:n,factory:n.\u0275fac}),n})(),Il=(()=>{class n extends qC{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(WC),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(WC))}}return n.\u0275fac=function(e){return new(e||n)(se(Je))},n.\u0275prov=Se({token:n,factory:n.\u0275fac}),n})();function WC(n){Sr().remove(n)}const Rm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Om=/%COMP%/g;function Yu(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Yu(n,r,e):(r=r.replace(Om,n),e.push(r))}return e}function XC(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ku=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Pm(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Zi.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new $B(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case Zi.ShadowDom:return new GB(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Yu(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(se(Wu),se(Il),se(wl))},n.\u0275prov=Se({token:n,factory:n.\u0275fac}),n})();class Pm{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Rm[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(QC(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(QC(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Rm[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Rm[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(li.DashCase|li.Important)?t.style.setProperty(e,i,r&li.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&li.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,XC(i)):this.eventManager.addEventListener(t,e,XC(i))}}function QC(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class $B extends Pm{constructor(t,e,i,r){super(t),this.component=i;const o=Yu(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function HB(n){return"_ngcontent-%COMP%".replace(Om,n)}(r+"-"+i.id),this.hostAttr=function jB(n){return"_nghost-%COMP%".replace(Om,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class GB extends Pm{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Yu(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let qB=(()=>{class n extends GC{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(se(Je))},n.\u0275prov=Se({token:n,factory:n.\u0275fac}),n})();const JC=["alt","control","meta","shift"],WB={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},YB={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let KB=(()=>{class n extends GC{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sr().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),JC.forEach(d=>{const p=i.indexOf(d);p>-1&&(i.splice(p,1),s+=d+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(e,i){let r=WB[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),JC.forEach(s=>{s!==r&&(0,YB[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(se(Je))},n.\u0275prov=Se({token:n,factory:n.\u0275fac}),n})();const JB=XE(H2,"browser",[{provide:tm,useValue:UC},{provide:VE,useValue:function XB(){Am.makeCurrent()},multi:!0},{provide:Je,useFactory:function QB(){return function tA(n){yf=n}(document),document},deps:[]}]),nD=new ve(""),iD=[{provide:Tu,useClass:class LB{addToWindow(t){qt.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},qt.getAllAngularTestabilities=()=>t.getAllTestabilities(),qt.getAllAngularRootElements=()=>t.getAllRootElements(),qt.frameworkStabilizers||(qt.frameworkStabilizers=[]),qt.frameworkStabilizers.push(i=>{const r=qt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&i(s)};r.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Sr().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:qE,useClass:sm,deps:[qe,am,Tu]},{provide:sm,useClass:sm,deps:[qe,am,Tu]}],rD=[{provide:Tf,useValue:"root"},{provide:Hr,useFactory:function ZB(){return new Hr},deps:[]},{provide:kl,useClass:qB,multi:!0,deps:[Je,qe,tm]},{provide:kl,useClass:KB,multi:!0,deps:[Je]},{provide:Ku,useClass:Ku,deps:[Wu,Il,wl]},{provide:tl,useExisting:Ku},{provide:qC,useExisting:Il},{provide:Il,useClass:Il,deps:[Je]},{provide:Wu,useClass:Wu,deps:[kl,qe]},{provide:class pB{},useClass:BB,deps:[]},[]];let oD=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:wl,useValue:e.appId},{provide:$C,useExisting:wl},NB]}}}return n.\u0275fac=function(e){return new(e||n)(se(nD,12))},n.\u0275mod=ut({type:n}),n.\u0275inj=at({providers:[...rD,...iD],imports:[Qr,j2]}),n})(),sD=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(se(Je))},n.\u0275prov=Se({token:n,factory:function(e){let i=null;return i=e?new e:function tU(){return new sD(se(Je))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Lm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Se({token:n,factory:function(e){let i=null;return i=e?new(e||n):se(cD),i},providedIn:"root"}),n})(),cD=(()=>{class n extends Lm{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case At.NONE:return i;case At.HTML:return vr(i,"HTML")?vi(i):Hv(this._doc,String(i)).toString();case At.STYLE:return vr(i,"Style")?vi(i):i;case At.SCRIPT:if(vr(i,"Script"))return vi(i);throw new Error("unsafe value used in a script context");case At.URL:return vr(i,"URL")?vi(i):Xc(String(i));case At.RESOURCE_URL:if(vr(i,"ResourceURL"))return vi(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function uA(n){return new rA(n)}(e)}bypassSecurityTrustStyle(e){return function dA(n){return new oA(n)}(e)}bypassSecurityTrustScript(e){return function hA(n){return new sA(n)}(e)}bypassSecurityTrustUrl(e){return function fA(n){return new aA(n)}(e)}bypassSecurityTrustResourceUrl(e){return function pA(n){return new lA(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(se(Je))},n.\u0275prov=Se({token:n,factory:function(e){let i=null;return i=e?new e:function lU(n){return new cD(n.get(Je))}(se(jn)),i},providedIn:"root"}),n})();function uD(n,t,e,i,r,o,s){try{var a=n[o](s),c=a.value}catch(d){return void e(d)}a.done?t(c):Promise.resolve(c).then(i,r)}function Le(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var o=n.apply(t,e);function s(c){uD(o,i,r,s,a,"next",c)}function a(c){uD(o,i,r,s,a,"throw",c)}s(void 0)})}}class Eo{constructor(t=!1){this.multiShot=t,this._disposables=[]}addFunction(t){if(!this._disposables)throw new Error("Adding new disposabled to already disposed one-shot disposer");this._disposables.push(t)}addListener(t,e,i,r){this.addFunction(()=>t.removeEventListener(e,i,r)),t.addEventListener(e,i,r)}addDisposable(t){this.addFunction(t.dispose.bind(t))}dispose(){if(!this._disposables)throw new Error("dispose() an already disposed one-shot disposer.");const t=this._disposables;this._disposables=this.multiShot?[]:void 0;for(const e of t)e()}}function Al(n){return new Promise(t=>setTimeout(t,n))}class Rl extends Promise{constructor(){let t,e;super((i,r)=>{t=i,e=r}),this.resolve=t,this.reject=e}}function dD(n,t){const e=new Error(t);return e.name=n,e}function uU(n,t){if(n.byteLength!=t.byteLength)return!1;for(let e=0;e<n.byteLength;e++)if(n.at(e)!=t.at(e))return!1;return!0}function dU(n){const t=new DataView(new Uint8Array(n.toBytesBE()).buffer);return n.unsigned?t.getBigUint64(0):t.getBigInt64(0)}function hU(n){return console.assert(n>0),t=>t<n-1}function hD(n){return()=>Al(n)}function fU(n,t){return Bm.apply(this,arguments)}function Bm(){return(Bm=Le(function*(n,t){const e=t?.shouldRerty||hU(3),i=t?.delay||hD(100),r=t?.attemptFailed||(()=>Promise.resolve());for(let o=0;;o++)try{return yield n()}catch(s){if(s instanceof fD)throw s;if(yield r(o,s),!e(o,s))throw s;yield i(o,s)}})).apply(this,arguments)}class fD extends Error{constructor(t){super(t)}}function rs(n,t){if(!n)throw new Error(`Invalid argument [detail: ${t}]`)}function Pt(n,t){if(null==n)throw new Error(`null reference exception [detail: ${t}]`);return n}function os(n,t){if(!n)throw new Error(`Invalid state [detail: ${t}]`)}var Rt=J(884);const Be=Rt.Reader,ii=Rt.Writer,mt=Rt.util,ae=Rt.roots.default||(Rt.roots.default={}),pD=ae.com=(()=>{const n={};return n.android=function(){const t={};return t.app=function(){const e={};return e.motiontool=function(){const i={};return i.MotionToolsRequest=function(){function r(s){if(s)for(let a=Object.keys(s),c=0;c<a.length;++c)null!=s[a[c]]&&(this[a[c]]=s[a[c]])}let o;return r.prototype.handshake=null,r.prototype.beginTrace=null,r.prototype.endTrace=null,r.prototype.pollTrace=null,Object.defineProperty(r.prototype,"type",{get:mt.oneOfGetter(o=["handshake","beginTrace","endTrace","pollTrace"]),set:mt.oneOfSetter(o)}),r.create=function(a){return new r(a)},r.encode=function(a,c){return c||(c=ii.create()),null!=a.handshake&&Object.hasOwnProperty.call(a,"handshake")&&ae.com.android.app.motiontool.HandshakeRequest.encode(a.handshake,c.uint32(10).fork()).ldelim(),null!=a.beginTrace&&Object.hasOwnProperty.call(a,"beginTrace")&&ae.com.android.app.motiontool.BeginTraceRequest.encode(a.beginTrace,c.uint32(18).fork()).ldelim(),null!=a.endTrace&&Object.hasOwnProperty.call(a,"endTrace")&&ae.com.android.app.motiontool.EndTraceRequest.encode(a.endTrace,c.uint32(26).fork()).ldelim(),null!=a.pollTrace&&Object.hasOwnProperty.call(a,"pollTrace")&&ae.com.android.app.motiontool.PollTraceRequest.encode(a.pollTrace,c.uint32(34).fork()).ldelim(),c},r.encodeDelimited=function(a,c){return this.encode(a,c).ldelim()},r.decode=function(a,c){a instanceof Be||(a=Be.create(a));let d=void 0===c?a.len:a.pos+c,p=new ae.com.android.app.motiontool.MotionToolsRequest;for(;a.pos<d;){let g=a.uint32();switch(g>>>3){case 1:p.handshake=ae.com.android.app.motiontool.HandshakeRequest.decode(a,a.uint32());break;case 2:p.beginTrace=ae.com.android.app.motiontool.BeginTraceRequest.decode(a,a.uint32());break;case 3:p.endTrace=ae.com.android.app.motiontool.EndTraceRequest.decode(a,a.uint32());break;case 4:p.pollTrace=ae.com.android.app.motiontool.PollTraceRequest.decode(a,a.uint32());break;default:a.skipType(7&g)}}return p},r.decodeDelimited=function(a){return a instanceof Be||(a=new Be(a)),this.decode(a,a.uint32())},r.verify=function(a){if("object"!=typeof a||null===a)return"object expected";let c={};if(null!=a.handshake&&a.hasOwnProperty("handshake")){c.type=1;{let d=ae.com.android.app.motiontool.HandshakeRequest.verify(a.handshake);if(d)return"handshake."+d}}if(null!=a.beginTrace&&a.hasOwnProperty("beginTrace")){if(1===c.type)return"type: multiple values";c.type=1;{let d=ae.com.android.app.motiontool.BeginTraceRequest.verify(a.beginTrace);if(d)return"beginTrace."+d}}if(null!=a.endTrace&&a.hasOwnProperty("endTrace")){if(1===c.type)return"type: multiple values";c.type=1;{let d=ae.com.android.app.motiontool.EndTraceRequest.verify(a.endTrace);if(d)return"endTrace."+d}}if(null!=a.pollTrace&&a.hasOwnProperty("pollTrace")){if(1===c.type)return"type: multiple values";c.type=1;{let d=ae.com.android.app.motiontool.PollTraceRequest.verify(a.pollTrace);if(d)return"pollTrace."+d}}return null},r.fromObject=function(a){if(a instanceof ae.com.android.app.motiontool.MotionToolsRequest)return a;let c=new ae.com.android.app.motiontool.MotionToolsRequest;if(null!=a.handshake){if("object"!=typeof a.handshake)throw TypeError(".com.android.app.motiontool.MotionToolsRequest.handshake: object expected");c.handshake=ae.com.android.app.motiontool.HandshakeRequest.fromObject(a.handshake)}if(null!=a.beginTrace){if("object"!=typeof a.beginTrace)throw TypeError(".com.android.app.motiontool.MotionToolsRequest.beginTrace: object expected");c.beginTrace=ae.com.android.app.motiontool.BeginTraceRequest.fromObject(a.beginTrace)}if(null!=a.endTrace){if("object"!=typeof a.endTrace)throw TypeError(".com.android.app.motiontool.MotionToolsRequest.endTrace: object expected");c.endTrace=ae.com.android.app.motiontool.EndTraceRequest.fromObject(a.endTrace)}if(null!=a.pollTrace){if("object"!=typeof a.pollTrace)throw TypeError(".com.android.app.motiontool.MotionToolsRequest.pollTrace: object expected");c.pollTrace=ae.com.android.app.motiontool.PollTraceRequest.fromObject(a.pollTrace)}return c},r.toObject=function(a,c){c||(c={});let d={};return null!=a.handshake&&a.hasOwnProperty("handshake")&&(d.handshake=ae.com.android.app.motiontool.HandshakeRequest.toObject(a.handshake,c),c.oneofs&&(d.type="handshake")),null!=a.beginTrace&&a.hasOwnProperty("beginTrace")&&(d.beginTrace=ae.com.android.app.motiontool.BeginTraceRequest.toObject(a.beginTrace,c),c.oneofs&&(d.type="beginTrace")),null!=a.endTrace&&a.hasOwnProperty("endTrace")&&(d.endTrace=ae.com.android.app.motiontool.EndTraceRequest.toObject(a.endTrace,c),c.oneofs&&(d.type="endTrace")),null!=a.pollTrace&&a.hasOwnProperty("pollTrace")&&(d.pollTrace=ae.com.android.app.motiontool.PollTraceRequest.toObject(a.pollTrace,c),c.oneofs&&(d.type="pollTrace")),d},r.prototype.toJSON=function(){return this.constructor.toObject(this,Rt.util.toJSONOptions)},r.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/com.android.app.motiontool.MotionToolsRequest"},r}(),i.MotionToolsResponse=function(){function r(s){if(s)for(let a=Object.keys(s),c=0;c<a.length;++c)null!=s[a[c]]&&(this[a[c]]=s[a[c]])}let o;return r.prototype.error=null,r.prototype.handshake=null,r.prototype.beginTrace=null,r.prototype.endTrace=null,r.prototype.pollTrace=null,Object.defineProperty(r.prototype,"type",{get:mt.oneOfGetter(o=["error","handshake","beginTrace","endTrace","pollTrace"]),set:mt.oneOfSetter(o)}),r.create=function(a){return new r(a)},r.encode=function(a,c){return c||(c=ii.create()),null!=a.error&&Object.hasOwnProperty.call(a,"error")&&ae.com.android.app.motiontool.ErrorResponse.encode(a.error,c.uint32(10).fork()).ldelim(),null!=a.handshake&&Object.hasOwnProperty.call(a,"handshake")&&ae.com.android.app.motiontool.HandshakeResponse.encode(a.handshake,c.uint32(18).fork()).ldelim(),null!=a.beginTrace&&Object.hasOwnProperty.call(a,"beginTrace")&&ae.com.android.app.motiontool.BeginTraceResponse.encode(a.beginTrace,c.uint32(26).fork()).ldelim(),null!=a.endTrace&&Object.hasOwnProperty.call(a,"endTrace")&&ae.com.android.app.motiontool.EndTraceResponse.encode(a.endTrace,c.uint32(34).fork()).ldelim(),null!=a.pollTrace&&Object.hasOwnProperty.call(a,"pollTrace")&&ae.com.android.app.motiontool.PollTraceResponse.encode(a.pollTrace,c.uint32(42).fork()).ldelim(),c},r.encodeDelimited=function(a,c){return this.encode(a,c).ldelim()},r.decode=function(a,c){a instanceof Be||(a=Be.create(a));let d=void 0===c?a.len:a.pos+c,p=new ae.com.android.app.motiontool.MotionToolsResponse;for(;a.pos<d;){let g=a.uint32();switch(g>>>3){case 1:p.error=ae.com.android.app.motiontool.ErrorResponse.decode(a,a.uint32());break;case 2:p.handshake=ae.com.android.app.motiontool.HandshakeResponse.decode(a,a.uint32());break;case 3:p.beginTrace=ae.com.android.app.motiontool.BeginTraceResponse.decode(a,a.uint32());break;case 4:p.endTrace=ae.com.android.app.motiontool.EndTraceResponse.decode(a,a.uint32());break;case 5:p.pollTrace=ae.com.android.app.motiontool.PollTraceResponse.decode(a,a.uint32());break;default:a.skipType(7&g)}}return p},r.decodeDelimited=function(a){return a instanceof Be||(a=new Be(a)),this.decode(a,a.uint32())},r.verify=function(a){if("object"!=typeof a||null===a)return"object expected";let c={};if(null!=a.error&&a.hasOwnProperty("error")){c.type=1;{let d=ae.com.android.app.motiontool.ErrorResponse.verify(a.error);if(d)return"error."+d}}if(null!=a.handshake&&a.hasOwnProperty("handshake")){if(1===c.type)return"type: multiple values";c.type=1;{let d=ae.com.android.app.motiontool.HandshakeResponse.verify(a.handshake);if(d)return"handshake."+d}}if(null!=a.beginTrace&&a.hasOwnProperty("beginTrace")){if(1===c.type)return"type: multiple values";c.type=1;{let d=ae.com.android.app.motiontool.BeginTraceResponse.verify(a.beginTrace);if(d)return"beginTrace."+d}}if(null!=a.endTrace&&a.hasOwnProperty("endTrace")){if(1===c.type)return"type: multiple values";c.type=1;{let d=ae.com.android.app.motiontool.EndTraceResponse.verify(a.endTrace);if(d)return"endTrace."+d}}if(null!=a.pollTrace&&a.hasOwnProperty("pollTrace")){if(1===c.type)return"type: multiple values";c.type=1;{let d=ae.com.android.app.motiontool.PollTraceResponse.verify(a.pollTrace);if(d)return"pollTrace."+d}}return null},r.fromObject=function(a){if(a instanceof ae.com.android.app.motiontool.MotionToolsResponse)return a;let c=new ae.com.android.app.motiontool.MotionToolsResponse;if(null!=a.error){if("object"!=typeof a.error)throw TypeError(".com.android.app.motiontool.MotionToolsResponse.error: object expected");c.error=ae.com.android.app.motiontool.ErrorResponse.fromObject(a.error)}if(null!=a.handshake){if("object"!=typeof a.handshake)throw TypeError(".com.android.app.motiontool.MotionToolsResponse.handshake: object expected");c.handshake=ae.com.android.app.motiontool.HandshakeResponse.fromObject(a.handshake)}if(null!=a.beginTrace){if("object"!=typeof a.beginTrace)throw TypeError(".com.android.app.motiontool.MotionToolsResponse.beginTrace: object expected");c.beginTrace=ae.com.android.app.motiontool.BeginTraceResponse.fromObject(a.beginTrace)}if(null!=a.endTrace){if("object"!=typeof a.endTrace)throw TypeError(".com.android.app.motiontool.MotionToolsResponse.endTrace: object expected");c.endTrace=ae.com.android.app.motiontool.EndTraceResponse.fromObject(a.endTrace)}if(null!=a.pollTrace){if("object"!=typeof a.pollTrace)throw TypeError(".com.android.app.motiontool.MotionToolsResponse.pollTrace: object expected");c.pollTrace=ae.com.android.app.motiontool.PollTraceResponse.fromObject(a.pollTrace)}return c},r.toObject=function(a,c){c||(c={});let d={};return null!=a.error&&a.hasOwnProperty("error")&&(d.error=ae.com.android.app.motiontool.ErrorResponse.toObject(a.error,c),c.oneofs&&(d.type="error")),null!=a.handshake&&a.hasOwnProperty("handshake")&&(d.handshake=ae.com.android.app.motiontool.HandshakeResponse.toObject(a.handshake,c),c.oneofs&&(d.type="handshake")),null!=a.beginTrace&&a.hasOwnProperty("beginTrace")&&(d.beginTrace=ae.com.android.app.motiontool.BeginTraceResponse.toObject(a.beginTrace,c),c.oneofs&&(d.type="beginTrace")),null!=a.endTrace&&a.hasOwnProperty("endTrace")&&(d.endTrace=ae.com.android.app.motiontool.EndTraceResponse.toObject(a.endTrace,c),c.oneofs&&(d.type="endTrace")),null!=a.pollTrace&&a.hasOwnProperty("pollTrace")&&(d.pollTrace=ae.com.android.app.motiontool.PollTraceResponse.toObject(a.pollTrace,c),c.oneofs&&(d.type="pollTrace")),d},r.prototype.toJSON=function(){return this.constructor.toObject(this,Rt.util.toJSONOptions)},r.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/com.android.app.motiontool.MotionToolsResponse"},r}(),i.ErrorResponse=function(){function r(o){if(o)for(let s=Object.keys(o),a=0;a<s.length;++a)null!=o[s[a]]&&(this[s[a]]=o[s[a]])}return r.prototype.code=0,r.prototype.message="",r.create=function(s){return new r(s)},r.encode=function(s,a){return a||(a=ii.create()),null!=s.code&&Object.hasOwnProperty.call(s,"code")&&a.uint32(8).int32(s.code),null!=s.message&&Object.hasOwnProperty.call(s,"message")&&a.uint32(18).string(s.message),a},r.encodeDelimited=function(s,a){return this.encode(s,a).ldelim()},r.decode=function(s,a){s instanceof Be||(s=Be.create(s));let c=void 0===a?s.len:s.pos+a,d=new ae.com.android.app.motiontool.ErrorResponse;for(;s.pos<c;){let p=s.uint32();switch(p>>>3){case 1:d.code=s.int32();break;case 2:d.message=s.string();break;default:s.skipType(7&p)}}return d},r.decodeDelimited=function(s){return s instanceof Be||(s=new Be(s)),this.decode(s,s.uint32())},r.verify=function(s){if("object"!=typeof s||null===s)return"object expected";if(null!=s.code&&s.hasOwnProperty("code"))switch(s.code){default:return"code: enum value expected";case 0:case 1:case 2:case 3:}return null!=s.message&&s.hasOwnProperty("message")&&!mt.isString(s.message)?"message: string expected":null},r.fromObject=function(s){if(s instanceof ae.com.android.app.motiontool.ErrorResponse)return s;let a=new ae.com.android.app.motiontool.ErrorResponse;switch(s.code){default:if("number"==typeof s.code){a.code=s.code;break}break;case"UNKNOWN":case 0:a.code=0;break;case"INVALID_REQUEST":case 1:a.code=1;break;case"UNKNOWN_TRACE_ID":case 2:a.code=2;break;case"WINDOW_NOT_FOUND":case 3:a.code=3}return null!=s.message&&(a.message=String(s.message)),a},r.toObject=function(s,a){a||(a={});let c={};return a.defaults&&(c.code=a.enums===String?"UNKNOWN":0,c.message=""),null!=s.code&&s.hasOwnProperty("code")&&(c.code=a.enums===String?void 0===ae.com.android.app.motiontool.ErrorResponse.Code[s.code]?s.code:ae.com.android.app.motiontool.ErrorResponse.Code[s.code]:s.code),null!=s.message&&s.hasOwnProperty("message")&&(c.message=s.message),c},r.prototype.toJSON=function(){return this.constructor.toObject(this,Rt.util.toJSONOptions)},r.getTypeUrl=function(s){return void 0===s&&(s="type.googleapis.com"),s+"/com.android.app.motiontool.ErrorResponse"},r.Code=function(){const o={},s=Object.create(o);return s[o[0]="UNKNOWN"]=0,s[o[1]="INVALID_REQUEST"]=1,s[o[2]="UNKNOWN_TRACE_ID"]=2,s[o[3]="WINDOW_NOT_FOUND"]=3,s}(),r}(),i.WindowIdentifier=function(){function r(o){if(o)for(let s=Object.keys(o),a=0;a<s.length;++a)null!=o[s[a]]&&(this[s[a]]=o[s[a]])}return r.prototype.rootWindow="",r.create=function(s){return new r(s)},r.encode=function(s,a){return a||(a=ii.create()),null!=s.rootWindow&&Object.hasOwnProperty.call(s,"rootWindow")&&a.uint32(10).string(s.rootWindow),a},r.encodeDelimited=function(s,a){return this.encode(s,a).ldelim()},r.decode=function(s,a){s instanceof Be||(s=Be.create(s));let c=void 0===a?s.len:s.pos+a,d=new ae.com.android.app.motiontool.WindowIdentifier;for(;s.pos<c;){let p=s.uint32();p>>>3==1?d.rootWindow=s.string():s.skipType(7&p)}return d},r.decodeDelimited=function(s){return s instanceof Be||(s=new Be(s)),this.decode(s,s.uint32())},r.verify=function(s){return"object"!=typeof s||null===s?"object expected":null!=s.rootWindow&&s.hasOwnProperty("rootWindow")&&!mt.isString(s.rootWindow)?"rootWindow: string expected":null},r.fromObject=function(s){if(s instanceof ae.com.android.app.motiontool.WindowIdentifier)return s;let a=new ae.com.android.app.motiontool.WindowIdentifier;return null!=s.rootWindow&&(a.rootWindow=String(s.rootWindow)),a},r.toObject=function(s,a){a||(a={});let c={};return a.defaults&&(c.rootWindow=""),null!=s.rootWindow&&s.hasOwnProperty("rootWindow")&&(c.rootWindow=s.rootWindow),c},r.prototype.toJSON=function(){return this.constructor.toObject(this,Rt.util.toJSONOptions)},r.getTypeUrl=function(s){return void 0===s&&(s="type.googleapis.com"),s+"/com.android.app.motiontool.WindowIdentifier"},r}(),i.HandshakeRequest=function(){function r(o){if(o)for(let s=Object.keys(o),a=0;a<s.length;++a)null!=o[s[a]]&&(this[s[a]]=o[s[a]])}return r.prototype.window=null,r.prototype.clientVersion=0,r.create=function(s){return new r(s)},r.encode=function(s,a){return a||(a=ii.create()),null!=s.window&&Object.hasOwnProperty.call(s,"window")&&ae.com.android.app.motiontool.WindowIdentifier.encode(s.window,a.uint32(10).fork()).ldelim(),null!=s.clientVersion&&Object.hasOwnProperty.call(s,"clientVersion")&&a.uint32(16).int32(s.clientVersion),a},r.encodeDelimited=function(s,a){return this.encode(s,a).ldelim()},r.decode=function(s,a){s instanceof Be||(s=Be.create(s));let c=void 0===a?s.len:s.pos+a,d=new ae.com.android.app.motiontool.HandshakeRequest;for(;s.pos<c;){let p=s.uint32();switch(p>>>3){case 1:d.window=ae.com.android.app.motiontool.WindowIdentifier.decode(s,s.uint32());break;case 2:d.clientVersion=s.int32();break;default:s.skipType(7&p)}}return d},r.decodeDelimited=function(s){return s instanceof Be||(s=new Be(s)),this.decode(s,s.uint32())},r.verify=function(s){if("object"!=typeof s||null===s)return"object expected";if(null!=s.window&&s.hasOwnProperty("window")){let a=ae.com.android.app.motiontool.WindowIdentifier.verify(s.window);if(a)return"window."+a}return null!=s.clientVersion&&s.hasOwnProperty("clientVersion")&&!mt.isInteger(s.clientVersion)?"clientVersion: integer expected":null},r.fromObject=function(s){if(s instanceof ae.com.android.app.motiontool.HandshakeRequest)return s;let a=new ae.com.android.app.motiontool.HandshakeRequest;if(null!=s.window){if("object"!=typeof s.window)throw TypeError(".com.android.app.motiontool.HandshakeRequest.window: object expected");a.window=ae.com.android.app.motiontool.WindowIdentifier.fromObject(s.window)}return null!=s.clientVersion&&(a.clientVersion=0|s.clientVersion),a},r.toObject=function(s,a){a||(a={});let c={};return a.defaults&&(c.window=null,c.clientVersion=0),null!=s.window&&s.hasOwnProperty("window")&&(c.window=ae.com.android.app.motiontool.WindowIdentifier.toObject(s.window,a)),null!=s.clientVersion&&s.hasOwnProperty("clientVersion")&&(c.clientVersion=s.clientVersion),c},r.prototype.toJSON=function(){return this.constructor.toObject(this,Rt.util.toJSONOptions)},r.getTypeUrl=function(s){return void 0===s&&(s="type.googleapis.com"),s+"/com.android.app.motiontool.HandshakeRequest"},r}(),i.HandshakeResponse=function(){function r(o){if(o)for(let s=Object.keys(o),a=0;a<s.length;++a)null!=o[s[a]]&&(this[s[a]]=o[s[a]])}return r.prototype.status=1,r.prototype.serverVersion=0,r.create=function(s){return new r(s)},r.encode=function(s,a){return a||(a=ii.create()),null!=s.status&&Object.hasOwnProperty.call(s,"status")&&a.uint32(8).int32(s.status),null!=s.serverVersion&&Object.hasOwnProperty.call(s,"serverVersion")&&a.uint32(16).int32(s.serverVersion),a},r.encodeDelimited=function(s,a){return this.encode(s,a).ldelim()},r.decode=function(s,a){s instanceof Be||(s=Be.create(s));let c=void 0===a?s.len:s.pos+a,d=new ae.com.android.app.motiontool.HandshakeResponse;for(;s.pos<c;){let p=s.uint32();switch(p>>>3){case 1:d.status=s.int32();break;case 2:d.serverVersion=s.int32();break;default:s.skipType(7&p)}}return d},r.decodeDelimited=function(s){return s instanceof Be||(s=new Be(s)),this.decode(s,s.uint32())},r.verify=function(s){if("object"!=typeof s||null===s)return"object expected";if(null!=s.status&&s.hasOwnProperty("status"))switch(s.status){default:return"status: enum value expected";case 1:case 2:}return null!=s.serverVersion&&s.hasOwnProperty("serverVersion")&&!mt.isInteger(s.serverVersion)?"serverVersion: integer expected":null},r.fromObject=function(s){if(s instanceof ae.com.android.app.motiontool.HandshakeResponse)return s;let a=new ae.com.android.app.motiontool.HandshakeResponse;switch(s.status){default:if("number"==typeof s.status){a.status=s.status;break}break;case"OK":case 1:a.status=1;break;case"WINDOW_NOT_FOUND":case 2:a.status=2}return null!=s.serverVersion&&(a.serverVersion=0|s.serverVersion),a},r.toObject=function(s,a){a||(a={});let c={};return a.defaults&&(c.status=a.enums===String?"OK":1,c.serverVersion=0),null!=s.status&&s.hasOwnProperty("status")&&(c.status=a.enums===String?void 0===ae.com.android.app.motiontool.HandshakeResponse.Status[s.status]?s.status:ae.com.android.app.motiontool.HandshakeResponse.Status[s.status]:s.status),null!=s.serverVersion&&s.hasOwnProperty("serverVersion")&&(c.serverVersion=s.serverVersion),c},r.prototype.toJSON=function(){return this.constructor.toObject(this,Rt.util.toJSONOptions)},r.getTypeUrl=function(s){return void 0===s&&(s="type.googleapis.com"),s+"/com.android.app.motiontool.HandshakeResponse"},r.Status=function(){const o={},s=Object.create(o);return s[o[1]="OK"]=1,s[o[2]="WINDOW_NOT_FOUND"]=2,s}(),r}(),i.BeginTraceRequest=function(){function r(o){if(o)for(let s=Object.keys(o),a=0;a<s.length;++a)null!=o[s[a]]&&(this[s[a]]=o[s[a]])}return r.prototype.window=null,r.create=function(s){return new r(s)},r.encode=function(s,a){return a||(a=ii.create()),null!=s.window&&Object.hasOwnProperty.call(s,"window")&&ae.com.android.app.motiontool.WindowIdentifier.encode(s.window,a.uint32(10).fork()).ldelim(),a},r.encodeDelimited=function(s,a){return this.encode(s,a).ldelim()},r.decode=function(s,a){s instanceof Be||(s=Be.create(s));let c=void 0===a?s.len:s.pos+a,d=new ae.com.android.app.motiontool.BeginTraceRequest;for(;s.pos<c;){let p=s.uint32();p>>>3==1?d.window=ae.com.android.app.motiontool.WindowIdentifier.decode(s,s.uint32()):s.skipType(7&p)}return d},r.decodeDelimited=function(s){return s instanceof Be||(s=new Be(s)),this.decode(s,s.uint32())},r.verify=function(s){if("object"!=typeof s||null===s)return"object expected";if(null!=s.window&&s.hasOwnProperty("window")){let a=ae.com.android.app.motiontool.WindowIdentifier.verify(s.window);if(a)return"window."+a}return null},r.fromObject=function(s){if(s instanceof ae.com.android.app.motiontool.BeginTraceRequest)return s;let a=new ae.com.android.app.motiontool.BeginTraceRequest;if(null!=s.window){if("object"!=typeof s.window)throw TypeError(".com.android.app.motiontool.BeginTraceRequest.window: object expected");a.window=ae.com.android.app.motiontool.WindowIdentifier.fromObject(s.window)}return a},r.toObject=function(s,a){a||(a={});let c={};return a.defaults&&(c.window=null),null!=s.window&&s.hasOwnProperty("window")&&(c.window=ae.com.android.app.motiontool.WindowIdentifier.toObject(s.window,a)),c},r.prototype.toJSON=function(){return this.constructor.toObject(this,Rt.util.toJSONOptions)},r.getTypeUrl=function(s){return void 0===s&&(s="type.googleapis.com"),s+"/com.android.app.motiontool.BeginTraceRequest"},r}(),i.BeginTraceResponse=function(){function r(o){if(o)for(let s=Object.keys(o),a=0;a<s.length;++a)null!=o[s[a]]&&(this[s[a]]=o[s[a]])}return r.prototype.traceId=0,r.create=function(s){return new r(s)},r.encode=function(s,a){return a||(a=ii.create()),null!=s.traceId&&Object.hasOwnProperty.call(s,"traceId")&&a.uint32(8).int32(s.traceId),a},r.encodeDelimited=function(s,a){return this.encode(s,a).ldelim()},r.decode=function(s,a){s instanceof Be||(s=Be.create(s));let c=void 0===a?s.len:s.pos+a,d=new ae.com.android.app.motiontool.BeginTraceResponse;for(;s.pos<c;){let p=s.uint32();p>>>3==1?d.traceId=s.int32():s.skipType(7&p)}return d},r.decodeDelimited=function(s){return s instanceof Be||(s=new Be(s)),this.decode(s,s.uint32())},r.verify=function(s){return"object"!=typeof s||null===s?"object expected":null!=s.traceId&&s.hasOwnProperty("traceId")&&!mt.isInteger(s.traceId)?"traceId: integer expected":null},r.fromObject=function(s){if(s instanceof ae.com.android.app.motiontool.BeginTraceResponse)return s;let a=new ae.com.android.app.motiontool.BeginTraceResponse;return null!=s.traceId&&(a.traceId=0|s.traceId),a},r.toObject=function(s,a){a||(a={});let c={};return a.defaults&&(c.traceId=0),null!=s.traceId&&s.hasOwnProperty("traceId")&&(c.traceId=s.traceId),c},r.prototype.toJSON=function(){return this.constructor.toObject(this,Rt.util.toJSONOptions)},r.getTypeUrl=function(s){return void 0===s&&(s="type.googleapis.com"),s+"/com.android.app.motiontool.BeginTraceResponse"},r}(),i.EndTraceRequest=function(){function r(o){if(o)for(let s=Object.keys(o),a=0;a<s.length;++a)null!=o[s[a]]&&(this[s[a]]=o[s[a]])}return r.prototype.traceId=0,r.create=function(s){return new r(s)},r.encode=function(s,a){return a||(a=ii.create()),null!=s.traceId&&Object.hasOwnProperty.call(s,"traceId")&&a.uint32(8).int32(s.traceId),a},r.encodeDelimited=function(s,a){return this.encode(s,a).ldelim()},r.decode=function(s,a){s instanceof Be||(s=Be.create(s));let c=void 0===a?s.len:s.pos+a,d=new ae.com.android.app.motiontool.EndTraceRequest;for(;s.pos<c;){let p=s.uint32();p>>>3==1?d.traceId=s.int32():s.skipType(7&p)}return d},r.decodeDelimited=function(s){return s instanceof Be||(s=new Be(s)),this.decode(s,s.uint32())},r.verify=function(s){return"object"!=typeof s||null===s?"object expected":null!=s.traceId&&s.hasOwnProperty("traceId")&&!mt.isInteger(s.traceId)?"traceId: integer expected":null},r.fromObject=function(s){if(s instanceof ae.com.android.app.motiontool.EndTraceRequest)return s;let a=new ae.com.android.app.motiontool.EndTraceRequest;return null!=s.traceId&&(a.traceId=0|s.traceId),a},r.toObject=function(s,a){a||(a={});let c={};return a.defaults&&(c.traceId=0),null!=s.traceId&&s.hasOwnProperty("traceId")&&(c.traceId=s.traceId),c},r.prototype.toJSON=function(){return this.constructor.toObject(this,Rt.util.toJSONOptions)},r.getTypeUrl=function(s){return void 0===s&&(s="type.googleapis.com"),s+"/com.android.app.motiontool.EndTraceRequest"},r}(),i.EndTraceResponse=function(){function r(o){if(o)for(let s=Object.keys(o),a=0;a<s.length;++a)null!=o[s[a]]&&(this[s[a]]=o[s[a]])}return r.prototype.exportedData=null,r.create=function(s){return new r(s)},r.encode=function(s,a){return a||(a=ii.create()),null!=s.exportedData&&Object.hasOwnProperty.call(s,"exportedData")&&ae.com.android.app.viewcapture.data.ExportedData.encode(s.exportedData,a.uint32(10).fork()).ldelim(),a},r.encodeDelimited=function(s,a){return this.encode(s,a).ldelim()},r.decode=function(s,a){s instanceof Be||(s=Be.create(s));let c=void 0===a?s.len:s.pos+a,d=new ae.com.android.app.motiontool.EndTraceResponse;for(;s.pos<c;){let p=s.uint32();p>>>3==1?d.exportedData=ae.com.android.app.viewcapture.data.ExportedData.decode(s,s.uint32()):s.skipType(7&p)}return d},r.decodeDelimited=function(s){return s instanceof Be||(s=new Be(s)),this.decode(s,s.uint32())},r.verify=function(s){if("object"!=typeof s||null===s)return"object expected";if(null!=s.exportedData&&s.hasOwnProperty("exportedData")){let a=ae.com.android.app.viewcapture.data.ExportedData.verify(s.exportedData);if(a)return"exportedData."+a}return null},r.fromObject=function(s){if(s instanceof ae.com.android.app.motiontool.EndTraceResponse)return s;let a=new ae.com.android.app.motiontool.EndTraceResponse;if(null!=s.exportedData){if("object"!=typeof s.exportedData)throw TypeError(".com.android.app.motiontool.EndTraceResponse.exportedData: object expected");a.exportedData=ae.com.android.app.viewcapture.data.ExportedData.fromObject(s.exportedData)}return a},r.toObject=function(s,a){a||(a={});let c={};return a.defaults&&(c.exportedData=null),null!=s.exportedData&&s.hasOwnProperty("exportedData")&&(c.exportedData=ae.com.android.app.viewcapture.data.ExportedData.toObject(s.exportedData,a)),c},r.prototype.toJSON=function(){return this.constructor.toObject(this,Rt.util.toJSONOptions)},r.getTypeUrl=function(s){return void 0===s&&(s="type.googleapis.com"),s+"/com.android.app.motiontool.EndTraceResponse"},r}(),i.PollTraceRequest=function(){function r(o){if(o)for(let s=Object.keys(o),a=0;a<s.length;++a)null!=o[s[a]]&&(this[s[a]]=o[s[a]])}return r.prototype.traceId=0,r.create=function(s){return new r(s)},r.encode=function(s,a){return a||(a=ii.create()),null!=s.traceId&&Object.hasOwnProperty.call(s,"traceId")&&a.uint32(8).int32(s.traceId),a},r.encodeDelimited=function(s,a){return this.encode(s,a).ldelim()},r.decode=function(s,a){s instanceof Be||(s=Be.create(s));let c=void 0===a?s.len:s.pos+a,d=new ae.com.android.app.motiontool.PollTraceRequest;for(;s.pos<c;){let p=s.uint32();p>>>3==1?d.traceId=s.int32():s.skipType(7&p)}return d},r.decodeDelimited=function(s){return s instanceof Be||(s=new Be(s)),this.decode(s,s.uint32())},r.verify=function(s){return"object"!=typeof s||null===s?"object expected":null!=s.traceId&&s.hasOwnProperty("traceId")&&!mt.isInteger(s.traceId)?"traceId: integer expected":null},r.fromObject=function(s){if(s instanceof ae.com.android.app.motiontool.PollTraceRequest)return s;let a=new ae.com.android.app.motiontool.PollTraceRequest;return null!=s.traceId&&(a.traceId=0|s.traceId),a},r.toObject=function(s,a){a||(a={});let c={};return a.defaults&&(c.traceId=0),null!=s.traceId&&s.hasOwnProperty("traceId")&&(c.traceId=s.traceId),c},r.prototype.toJSON=function(){return this.constructor.toObject(this,Rt.util.toJSONOptions)},r.getTypeUrl=function(s){return void 0===s&&(s="type.googleapis.com"),s+"/com.android.app.motiontool.PollTraceRequest"},r}(),i.PollTraceResponse=function(){function r(o){if(o)for(let s=Object.keys(o),a=0;a<s.length;++a)null!=o[s[a]]&&(this[s[a]]=o[s[a]])}return r.prototype.exportedData=null,r.create=function(s){return new r(s)},r.encode=function(s,a){return a||(a=ii.create()),null!=s.exportedData&&Object.hasOwnProperty.call(s,"exportedData")&&ae.com.android.app.viewcapture.data.ExportedData.encode(s.exportedData,a.uint32(10).fork()).ldelim(),a},r.encodeDelimited=function(s,a){return this.encode(s,a).ldelim()},r.decode=function(s,a){s instanceof Be||(s=Be.create(s));let c=void 0===a?s.len:s.pos+a,d=new ae.com.android.app.motiontool.PollTraceResponse;for(;s.pos<c;){let p=s.uint32();p>>>3==1?d.exportedData=ae.com.android.app.viewcapture.data.ExportedData.decode(s,s.uint32()):s.skipType(7&p)}return d},r.decodeDelimited=function(s){return s instanceof Be||(s=new Be(s)),this.decode(s,s.uint32())},r.verify=function(s){if("object"!=typeof s||null===s)return"object expected";if(null!=s.exportedData&&s.hasOwnProperty("exportedData")){let a=ae.com.android.app.viewcapture.data.ExportedData.verify(s.exportedData);if(a)return"exportedData."+a}return null},r.fromObject=function(s){if(s instanceof ae.com.android.app.motiontool.PollTraceResponse)return s;let a=new ae.com.android.app.motiontool.PollTraceResponse;if(null!=s.exportedData){if("object"!=typeof s.exportedData)throw TypeError(".com.android.app.motiontool.PollTraceResponse.exportedData: object expected");a.exportedData=ae.com.android.app.viewcapture.data.ExportedData.fromObject(s.exportedData)}return a},r.toObject=function(s,a){a||(a={});let c={};return a.defaults&&(c.exportedData=null),null!=s.exportedData&&s.hasOwnProperty("exportedData")&&(c.exportedData=ae.com.android.app.viewcapture.data.ExportedData.toObject(s.exportedData,a)),c},r.prototype.toJSON=function(){return this.constructor.toObject(this,Rt.util.toJSONOptions)},r.getTypeUrl=function(s){return void 0===s&&(s="type.googleapis.com"),s+"/com.android.app.motiontool.PollTraceResponse"},r}(),i}(),e.viewcapture=function(){const i={};return i.data=function(){const r={};return r.ExportedData=function(){function o(s){if(this.frameData=[],this.classname=[],s)for(let a=Object.keys(s),c=0;c<a.length;++c)null!=s[a[c]]&&(this[a[c]]=s[a[c]])}return o.prototype.frameData=mt.emptyArray,o.prototype.classname=mt.emptyArray,o.create=function(a){return new o(a)},o.encode=function(a,c){if(c||(c=ii.create()),null!=a.frameData&&a.frameData.length)for(let d=0;d<a.frameData.length;++d)ae.com.android.app.viewcapture.data.FrameData.encode(a.frameData[d],c.uint32(10).fork()).ldelim();if(null!=a.classname&&a.classname.length)for(let d=0;d<a.classname.length;++d)c.uint32(18).string(a.classname[d]);return c},o.encodeDelimited=function(a,c){return this.encode(a,c).ldelim()},o.decode=function(a,c){a instanceof Be||(a=Be.create(a));let d=void 0===c?a.len:a.pos+c,p=new ae.com.android.app.viewcapture.data.ExportedData;for(;a.pos<d;){let g=a.uint32();switch(g>>>3){case 1:p.frameData&&p.frameData.length||(p.frameData=[]),p.frameData.push(ae.com.android.app.viewcapture.data.FrameData.decode(a,a.uint32()));break;case 2:p.classname&&p.classname.length||(p.classname=[]),p.classname.push(a.string());break;default:a.skipType(7&g)}}return p},o.decodeDelimited=function(a){return a instanceof Be||(a=new Be(a)),this.decode(a,a.uint32())},o.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.frameData&&a.hasOwnProperty("frameData")){if(!Array.isArray(a.frameData))return"frameData: array expected";for(let c=0;c<a.frameData.length;++c){let d=ae.com.android.app.viewcapture.data.FrameData.verify(a.frameData[c]);if(d)return"frameData."+d}}if(null!=a.classname&&a.hasOwnProperty("classname")){if(!Array.isArray(a.classname))return"classname: array expected";for(let c=0;c<a.classname.length;++c)if(!mt.isString(a.classname[c]))return"classname: string[] expected"}return null},o.fromObject=function(a){if(a instanceof ae.com.android.app.viewcapture.data.ExportedData)return a;let c=new ae.com.android.app.viewcapture.data.ExportedData;if(a.frameData){if(!Array.isArray(a.frameData))throw TypeError(".com.android.app.viewcapture.data.ExportedData.frameData: array expected");c.frameData=[];for(let d=0;d<a.frameData.length;++d){if("object"!=typeof a.frameData[d])throw TypeError(".com.android.app.viewcapture.data.ExportedData.frameData: object expected");c.frameData[d]=ae.com.android.app.viewcapture.data.FrameData.fromObject(a.frameData[d])}}if(a.classname){if(!Array.isArray(a.classname))throw TypeError(".com.android.app.viewcapture.data.ExportedData.classname: array expected");c.classname=[];for(let d=0;d<a.classname.length;++d)c.classname[d]=String(a.classname[d])}return c},o.toObject=function(a,c){c||(c={});let d={};if((c.arrays||c.defaults)&&(d.frameData=[],d.classname=[]),a.frameData&&a.frameData.length){d.frameData=[];for(let p=0;p<a.frameData.length;++p)d.frameData[p]=ae.com.android.app.viewcapture.data.FrameData.toObject(a.frameData[p],c)}if(a.classname&&a.classname.length){d.classname=[];for(let p=0;p<a.classname.length;++p)d.classname[p]=a.classname[p]}return d},o.prototype.toJSON=function(){return this.constructor.toObject(this,Rt.util.toJSONOptions)},o.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/com.android.app.viewcapture.data.ExportedData"},o}(),r.FrameData=function(){function o(s){if(s)for(let a=Object.keys(s),c=0;c<a.length;++c)null!=s[a[c]]&&(this[a[c]]=s[a[c]])}return o.prototype.timestamp=mt.Long?mt.Long.fromBits(0,0,!1):0,o.prototype.node=null,o.create=function(a){return new o(a)},o.encode=function(a,c){return c||(c=ii.create()),null!=a.timestamp&&Object.hasOwnProperty.call(a,"timestamp")&&c.uint32(8).int64(a.timestamp),null!=a.node&&Object.hasOwnProperty.call(a,"node")&&ae.com.android.app.viewcapture.data.ViewNode.encode(a.node,c.uint32(18).fork()).ldelim(),c},o.encodeDelimited=function(a,c){return this.encode(a,c).ldelim()},o.decode=function(a,c){a instanceof Be||(a=Be.create(a));let d=void 0===c?a.len:a.pos+c,p=new ae.com.android.app.viewcapture.data.FrameData;for(;a.pos<d;){let g=a.uint32();switch(g>>>3){case 1:p.timestamp=a.int64();break;case 2:p.node=ae.com.android.app.viewcapture.data.ViewNode.decode(a,a.uint32());break;default:a.skipType(7&g)}}return p},o.decodeDelimited=function(a){return a instanceof Be||(a=new Be(a)),this.decode(a,a.uint32())},o.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.timestamp&&a.hasOwnProperty("timestamp")&&!mt.isInteger(a.timestamp)&&!(a.timestamp&&mt.isInteger(a.timestamp.low)&&mt.isInteger(a.timestamp.high)))return"timestamp: integer|Long expected";if(null!=a.node&&a.hasOwnProperty("node")){let c=ae.com.android.app.viewcapture.data.ViewNode.verify(a.node);if(c)return"node."+c}return null},o.fromObject=function(a){if(a instanceof ae.com.android.app.viewcapture.data.FrameData)return a;let c=new ae.com.android.app.viewcapture.data.FrameData;if(null!=a.timestamp&&(mt.Long?(c.timestamp=mt.Long.fromValue(a.timestamp)).unsigned=!1:"string"==typeof a.timestamp?c.timestamp=parseInt(a.timestamp,10):"number"==typeof a.timestamp?c.timestamp=a.timestamp:"object"==typeof a.timestamp&&(c.timestamp=new mt.LongBits(a.timestamp.low>>>0,a.timestamp.high>>>0).toNumber())),null!=a.node){if("object"!=typeof a.node)throw TypeError(".com.android.app.viewcapture.data.FrameData.node: object expected");c.node=ae.com.android.app.viewcapture.data.ViewNode.fromObject(a.node)}return c},o.toObject=function(a,c){c||(c={});let d={};if(c.defaults){if(mt.Long){let p=new mt.Long(0,0,!1);d.timestamp=c.longs===String?p.toString():c.longs===Number?p.toNumber():p}else d.timestamp=c.longs===String?"0":0;d.node=null}return null!=a.timestamp&&a.hasOwnProperty("timestamp")&&(d.timestamp="number"==typeof a.timestamp?c.longs===String?String(a.timestamp):a.timestamp:c.longs===String?mt.Long.prototype.toString.call(a.timestamp):c.longs===Number?new mt.LongBits(a.timestamp.low>>>0,a.timestamp.high>>>0).toNumber():a.timestamp),null!=a.node&&a.hasOwnProperty("node")&&(d.node=ae.com.android.app.viewcapture.data.ViewNode.toObject(a.node,c)),d},o.prototype.toJSON=function(){return this.constructor.toObject(this,Rt.util.toJSONOptions)},o.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/com.android.app.viewcapture.data.FrameData"},o}(),r.ViewNode=function(){function o(s){if(this.children=[],s)for(let a=Object.keys(s),c=0;c<a.length;++c)null!=s[a[c]]&&(this[a[c]]=s[a[c]])}return o.prototype.classnameIndex=0,o.prototype.hashcode=0,o.prototype.children=mt.emptyArray,o.prototype.id="",o.prototype.left=0,o.prototype.top=0,o.prototype.width=0,o.prototype.height=0,o.prototype.scrollX=0,o.prototype.scrollY=0,o.prototype.translationX=0,o.prototype.translationY=0,o.prototype.scaleX=1,o.prototype.scaleY=1,o.prototype.alpha=1,o.prototype.willNotDraw=!1,o.prototype.clipChildren=!1,o.prototype.visibility=0,o.prototype.elevation=0,o.create=function(a){return new o(a)},o.encode=function(a,c){if(c||(c=ii.create()),null!=a.classnameIndex&&Object.hasOwnProperty.call(a,"classnameIndex")&&c.uint32(8).int32(a.classnameIndex),null!=a.hashcode&&Object.hasOwnProperty.call(a,"hashcode")&&c.uint32(16).int32(a.hashcode),null!=a.children&&a.children.length)for(let d=0;d<a.children.length;++d)ae.com.android.app.viewcapture.data.ViewNode.encode(a.children[d],c.uint32(26).fork()).ldelim();return null!=a.id&&Object.hasOwnProperty.call(a,"id")&&c.uint32(34).string(a.id),null!=a.left&&Object.hasOwnProperty.call(a,"left")&&c.uint32(40).int32(a.left),null!=a.top&&Object.hasOwnProperty.call(a,"top")&&c.uint32(48).int32(a.top),null!=a.width&&Object.hasOwnProperty.call(a,"width")&&c.uint32(56).int32(a.width),null!=a.height&&Object.hasOwnProperty.call(a,"height")&&c.uint32(64).int32(a.height),null!=a.scrollX&&Object.hasOwnProperty.call(a,"scrollX")&&c.uint32(72).int32(a.scrollX),null!=a.scrollY&&Object.hasOwnProperty.call(a,"scrollY")&&c.uint32(80).int32(a.scrollY),null!=a.translationX&&Object.hasOwnProperty.call(a,"translationX")&&c.uint32(93).float(a.translationX),null!=a.translationY&&Object.hasOwnProperty.call(a,"translationY")&&c.uint32(101).float(a.translationY),null!=a.scaleX&&Object.hasOwnProperty.call(a,"scaleX")&&c.uint32(109).float(a.scaleX),null!=a.scaleY&&Object.hasOwnProperty.call(a,"scaleY")&&c.uint32(117).float(a.scaleY),null!=a.alpha&&Object.hasOwnProperty.call(a,"alpha")&&c.uint32(125).float(a.alpha),null!=a.willNotDraw&&Object.hasOwnProperty.call(a,"willNotDraw")&&c.uint32(128).bool(a.willNotDraw),null!=a.clipChildren&&Object.hasOwnProperty.call(a,"clipChildren")&&c.uint32(136).bool(a.clipChildren),null!=a.visibility&&Object.hasOwnProperty.call(a,"visibility")&&c.uint32(144).int32(a.visibility),null!=a.elevation&&Object.hasOwnProperty.call(a,"elevation")&&c.uint32(157).float(a.elevation),c},o.encodeDelimited=function(a,c){return this.encode(a,c).ldelim()},o.decode=function(a,c){a instanceof Be||(a=Be.create(a));let d=void 0===c?a.len:a.pos+c,p=new ae.com.android.app.viewcapture.data.ViewNode;for(;a.pos<d;){let g=a.uint32();switch(g>>>3){case 1:p.classnameIndex=a.int32();break;case 2:p.hashcode=a.int32();break;case 3:p.children&&p.children.length||(p.children=[]),p.children.push(ae.com.android.app.viewcapture.data.ViewNode.decode(a,a.uint32()));break;case 4:p.id=a.string();break;case 5:p.left=a.int32();break;case 6:p.top=a.int32();break;case 7:p.width=a.int32();break;case 8:p.height=a.int32();break;case 9:p.scrollX=a.int32();break;case 10:p.scrollY=a.int32();break;case 11:p.translationX=a.float();break;case 12:p.translationY=a.float();break;case 13:p.scaleX=a.float();break;case 14:p.scaleY=a.float();break;case 15:p.alpha=a.float();break;case 16:p.willNotDraw=a.bool();break;case 17:p.clipChildren=a.bool();break;case 18:p.visibility=a.int32();break;case 19:p.elevation=a.float();break;default:a.skipType(7&g)}}return p},o.decodeDelimited=function(a){return a instanceof Be||(a=new Be(a)),this.decode(a,a.uint32())},o.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.classnameIndex&&a.hasOwnProperty("classnameIndex")&&!mt.isInteger(a.classnameIndex))return"classnameIndex: integer expected";if(null!=a.hashcode&&a.hasOwnProperty("hashcode")&&!mt.isInteger(a.hashcode))return"hashcode: integer expected";if(null!=a.children&&a.hasOwnProperty("children")){if(!Array.isArray(a.children))return"children: array expected";for(let c=0;c<a.children.length;++c){let d=ae.com.android.app.viewcapture.data.ViewNode.verify(a.children[c]);if(d)return"children."+d}}return null!=a.id&&a.hasOwnProperty("id")&&!mt.isString(a.id)?"id: string expected":null!=a.left&&a.hasOwnProperty("left")&&!mt.isInteger(a.left)?"left: integer expected":null!=a.top&&a.hasOwnProperty("top")&&!mt.isInteger(a.top)?"top: integer expected":null!=a.width&&a.hasOwnProperty("width")&&!mt.isInteger(a.width)?"width: integer expected":null!=a.height&&a.hasOwnProperty("height")&&!mt.isInteger(a.height)?"height: integer expected":null!=a.scrollX&&a.hasOwnProperty("scrollX")&&!mt.isInteger(a.scrollX)?"scrollX: integer expected":null!=a.scrollY&&a.hasOwnProperty("scrollY")&&!mt.isInteger(a.scrollY)?"scrollY: integer expected":null!=a.translationX&&a.hasOwnProperty("translationX")&&"number"!=typeof a.translationX?"translationX: number expected":null!=a.translationY&&a.hasOwnProperty("translationY")&&"number"!=typeof a.translationY?"translationY: number expected":null!=a.scaleX&&a.hasOwnProperty("scaleX")&&"number"!=typeof a.scaleX?"scaleX: number expected":null!=a.scaleY&&a.hasOwnProperty("scaleY")&&"number"!=typeof a.scaleY?"scaleY: number expected":null!=a.alpha&&a.hasOwnProperty("alpha")&&"number"!=typeof a.alpha?"alpha: number expected":null!=a.willNotDraw&&a.hasOwnProperty("willNotDraw")&&"boolean"!=typeof a.willNotDraw?"willNotDraw: boolean expected":null!=a.clipChildren&&a.hasOwnProperty("clipChildren")&&"boolean"!=typeof a.clipChildren?"clipChildren: boolean expected":null!=a.visibility&&a.hasOwnProperty("visibility")&&!mt.isInteger(a.visibility)?"visibility: integer expected":null!=a.elevation&&a.hasOwnProperty("elevation")&&"number"!=typeof a.elevation?"elevation: number expected":null},o.fromObject=function(a){if(a instanceof ae.com.android.app.viewcapture.data.ViewNode)return a;let c=new ae.com.android.app.viewcapture.data.ViewNode;if(null!=a.classnameIndex&&(c.classnameIndex=0|a.classnameIndex),null!=a.hashcode&&(c.hashcode=0|a.hashcode),a.children){if(!Array.isArray(a.children))throw TypeError(".com.android.app.viewcapture.data.ViewNode.children: array expected");c.children=[];for(let d=0;d<a.children.length;++d){if("object"!=typeof a.children[d])throw TypeError(".com.android.app.viewcapture.data.ViewNode.children: object expected");c.children[d]=ae.com.android.app.viewcapture.data.ViewNode.fromObject(a.children[d])}}return null!=a.id&&(c.id=String(a.id)),null!=a.left&&(c.left=0|a.left),null!=a.top&&(c.top=0|a.top),null!=a.width&&(c.width=0|a.width),null!=a.height&&(c.height=0|a.height),null!=a.scrollX&&(c.scrollX=0|a.scrollX),null!=a.scrollY&&(c.scrollY=0|a.scrollY),null!=a.translationX&&(c.translationX=Number(a.translationX)),null!=a.translationY&&(c.translationY=Number(a.translationY)),null!=a.scaleX&&(c.scaleX=Number(a.scaleX)),null!=a.scaleY&&(c.scaleY=Number(a.scaleY)),null!=a.alpha&&(c.alpha=Number(a.alpha)),null!=a.willNotDraw&&(c.willNotDraw=Boolean(a.willNotDraw)),null!=a.clipChildren&&(c.clipChildren=Boolean(a.clipChildren)),null!=a.visibility&&(c.visibility=0|a.visibility),null!=a.elevation&&(c.elevation=Number(a.elevation)),c},o.toObject=function(a,c){c||(c={});let d={};if((c.arrays||c.defaults)&&(d.children=[]),c.defaults&&(d.classnameIndex=0,d.hashcode=0,d.id="",d.left=0,d.top=0,d.width=0,d.height=0,d.scrollX=0,d.scrollY=0,d.translationX=0,d.translationY=0,d.scaleX=1,d.scaleY=1,d.alpha=1,d.willNotDraw=!1,d.clipChildren=!1,d.visibility=0,d.elevation=0),null!=a.classnameIndex&&a.hasOwnProperty("classnameIndex")&&(d.classnameIndex=a.classnameIndex),null!=a.hashcode&&a.hasOwnProperty("hashcode")&&(d.hashcode=a.hashcode),a.children&&a.children.length){d.children=[];for(let p=0;p<a.children.length;++p)d.children[p]=ae.com.android.app.viewcapture.data.ViewNode.toObject(a.children[p],c)}return null!=a.id&&a.hasOwnProperty("id")&&(d.id=a.id),null!=a.left&&a.hasOwnProperty("left")&&(d.left=a.left),null!=a.top&&a.hasOwnProperty("top")&&(d.top=a.top),null!=a.width&&a.hasOwnProperty("width")&&(d.width=a.width),null!=a.height&&a.hasOwnProperty("height")&&(d.height=a.height),null!=a.scrollX&&a.hasOwnProperty("scrollX")&&(d.scrollX=a.scrollX),null!=a.scrollY&&a.hasOwnProperty("scrollY")&&(d.scrollY=a.scrollY),null!=a.translationX&&a.hasOwnProperty("translationX")&&(d.translationX=c.json&&!isFinite(a.translationX)?String(a.translationX):a.translationX),null!=a.translationY&&a.hasOwnProperty("translationY")&&(d.translationY=c.json&&!isFinite(a.translationY)?String(a.translationY):a.translationY),null!=a.scaleX&&a.hasOwnProperty("scaleX")&&(d.scaleX=c.json&&!isFinite(a.scaleX)?String(a.scaleX):a.scaleX),null!=a.scaleY&&a.hasOwnProperty("scaleY")&&(d.scaleY=c.json&&!isFinite(a.scaleY)?String(a.scaleY):a.scaleY),null!=a.alpha&&a.hasOwnProperty("alpha")&&(d.alpha=c.json&&!isFinite(a.alpha)?String(a.alpha):a.alpha),null!=a.willNotDraw&&a.hasOwnProperty("willNotDraw")&&(d.willNotDraw=a.willNotDraw),null!=a.clipChildren&&a.hasOwnProperty("clipChildren")&&(d.clipChildren=a.clipChildren),null!=a.visibility&&a.hasOwnProperty("visibility")&&(d.visibility=a.visibility),null!=a.elevation&&a.hasOwnProperty("elevation")&&(d.elevation=c.json&&!isFinite(a.elevation)?String(a.elevation):a.elevation),d},o.prototype.toJSON=function(){return this.constructor.toObject(this,Rt.util.toJSONOptions)},o.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/com.android.app.viewcapture.data.ViewNode"},o}(),r}(),i}(),e}(),t}(),n})();var pU=J(40);class mU extends EventTarget{constructor(t){super(),this.device=t,this.scale=.5,this._playState=null}get currentFrame(){return this._playState?.currentFrame??0}get width(){return this._width??0}get height(){return this._height??0}get state(){return this._playState?"play":"stop"}drawCurrentFrame(t){!this._playState||t.drawImage(this._playState?.videoElement,0,0,t.canvas.width,t.canvas.height)}play(){var t=this;return Le(function*(){if(null!==t._playState)return;const e=document.createElement("video");e.muted=!0;const i=new pU({node:e,mode:"video",flushingTime:0,fps:120,clearBuffer:!0}),o=(yield t.device.shellCommand("wm size")).match(/\b(?<width>\d+)x(?<height>\d+)\b/);if(!o)throw new Error("Unable to determine screen size");t._width=parseInt(o.groups.width)*t.scale,t._height=parseInt(o.groups.height)*t.scale;const s=t.device.openStream(`shell:screenrecord --size=${t._width}x${t._height} --output-format=h264 - `);return t._playState=new gU(s,i,e),e.addEventListener("loadedmetadata",()=>{t._width=e.videoWidth,t._height=e.videoHeight,t.dispatchEvent(new CustomEvent("metadata-changed",{}))}),e.play()})()}stop(){var t=this;return Le(function*(){t._playState?.dispose(),t._playState=null})()}dispose(){this._playState?.dispose(),this._playState=null}}class gU{constructor(t,e,i){this.stream=t,this.remuxer=e,this.videoElement=i,this.currentFrame=0,t.onReceiveWrite=r=>{t.sendReady(),e.feed({video:r})}}dispose(){this.stream.close(),this.videoElement.pause(),this.remuxer.destroy()}}class _U{constructor(t){this._stream=t.openStream("sync:"),this._stream.keepOpen=!0}getFileSize(t){var e=this;return Le(function*(){const i=Pt(e._stream,"Sync client already disposed");yield mD("STAT",t,i);const r=yield _D(16,i),o=yD(r);if("STAT"!=o)throw new Error(`Server answered with unexpected command '${o}'`);return r.getUint32(8,!0)})()}pull(t){var e=this;return Le(function*(){os(null!=e._stream,"Sync client already disposed");const i=e._stream.device.openStream("sync:");return i.keepOpen=!0,new ReadableStream({start:r=>Le(function*(){try{for(mD("RECV",t,i);;){const o=yield _D(8,i),s=yD(o);if("DONE"==s)return;if("DATA"!=s)throw new Error(`SYNC failed. Received '${s}', expected 'DATA'`);const a=o.getUint32(4,!0),c=yield gD(a,i);r.enqueue(c)}}catch(o){r.error(o)}finally{r.close(),i.close()}})()})})()}dispose(){this._stream?.close(),this._stream=null}}function mD(n,t,e){return Um.apply(this,arguments)}function Um(){return(Um=Le(function*(n,t,e){rs(4==n.length),rs(t.length<=1024);let i=new DataOutputStream;i.highFirst=!1,i.writeBytes(stringToByteArray(n));const r=stringToByteArray(t);i.writeInt(r.length),i.writeBytes(r),yield e.write(new Uint8Array(i.data))})).apply(this,arguments)}function gD(n,t){return Vm.apply(this,arguments)}function Vm(){return(Vm=Le(function*(n,t){const e=new Rl;return t.read(n,function(i){e.resolve(i)}),e})).apply(this,arguments)}function _D(n,t){return Hm.apply(this,arguments)}function Hm(){return(Hm=Le(function*(n,t){const e=yield gD(n,t);return new DataView(e.buffer,e.byteOffset,e.byteLength)})).apply(this,arguments)}function yD(n){return String.fromCharCode(n.getInt8(0),n.getInt8(1),n.getInt8(2),n.getInt8(3))}class yU{constructor(t){this._device=t,this._captureState=null}record(){var t=this;return Le(function*(){if(null!==t._captureState)return;const e=`/data/local/tmp/motion-${Date.now()}.mp4`,i=t._device.openStream(`shell:screenrecord --output-format=mp4 ${e}`);t._captureState=new vU(i,e),yield Al(200)})()}stop(){var t=this;return Le(function*(){if(null===t._captureState)throw new Error("Illegal State: no video capture in progress");const{filename:e,shellStream:i}=t._captureState;return t._captureState=null,yield i.write("\x03"),yield i.write("\x03"),yield i.write("\x03"),i.close(),{video:t._pullVideo(e)}})()}_pullVideo(t){var e=this;return Le(function*(){const i=e._device,r=new _U(i);try{yield Promise.race([bU(t,r),Al(1e4)]);const o=new TransformStream({flush:()=>Le(function*(){yield i.shellCommand(`rm ${t}`)})()});return(yield r.pull(t)).pipeTo(o.writable),o.readable}finally{r.dispose()}})()}}class vU{constructor(t,e){this.shellStream=t,this.filename=e}}function bU(n,t){return jm.apply(this,arguments)}function jm(){return(jm=Le(function*(n,t){let e=yield t.getFileSize(n);for(;;){yield Al(1e3);const i=yield t.getFileSize(n);if(e>5e3&&e==i)return;e=i}})).apply(this,arguments)}class wU extends k{constructor(t,e){super()}schedule(t,e=0){return this}}const Xu={setInterval(n,t,...e){const{delegate:i}=Xu;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Xu;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class zm extends wU{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return Xu.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&Xu.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,B(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const $m={now:()=>($m.delegate||Date).now(),delegate:void 0};class Ol{constructor(t,e=Ol.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Ol.now=$m.now;class Gm extends Ol{constructor(t,e=Ol.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Pl=new Gm(zm),EU=Pl;function Fl(...n){return function CU(){return xs(1)}()(mn(n,Pa(n)))}function qn(n){return n<=0?()=>Ki:ce((t,e)=>{let i=0;t.subscribe(ee(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function vD(n){return j(()=>n)}function bD(n,t){return t?e=>Fl(t.pipe(qn(1),function DU(){return ce((n,t)=>{n.subscribe(ee(t,q))})}()),e.pipe(bD(n))):En((e,i)=>n(e,i).pipe(qn(1),vD(e)))}function Co(n=0,t,e=EU){let i=-1;return null!=t&&(xy(t)?e=t:i=t),new Qe(r=>{let o=function SU(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Zu(n,t=Pl){const e=Co(n,t);return bD(()=>e)}var Nl=pD.android.app.motiontool;const wD=1297044559;class Do extends EventTarget{constructor(t,e,i,r){super(),this.deviceId=t,this.processId=e,this.processName=i,this.windowId=r,this._state={type:"disconnected"},this._deviceConnected=!1,this._deviceConnectedPromise=new Rl,this._deviceStateChangeRequestToken=0}static createFromUrlParams(t){function e(a,c){const d=t.get(a);if(!d?.match(c))throw dD("InvalidUrlParams",`Invalid param ${a} (${d})`);return d}const i=e("serial",/[a-zA-Z0-9]{14}/),r=Number.parseInt(e("pid",/\d+/)),o=e("pname",/.+/),s=e("wid",/.+/);return new Do(i,r,o,s)}get state(){return this._state}set state(t){this._state=t,this.dispatchEvent(new CustomEvent("state-changed",{detail:t}))}connect(){var t=this;return Le(function*(){if("disconnected"!==t._state.type)throw new Error(`Unable to connect. Unexpected state ${t._state}`);os(!t._adbDevice);try{t.state={type:"connecting"};try{t._adbDevice=yield function MU(n){return qm.apply(this,arguments)}(t.deviceId)}catch(i){if(function cU(n,t){return n instanceof Error&&n.name===t}(i,"DeviceNotFound"))return void(t.state={type:"error",detail:"deviceNotFound",message:`No device with serial ${t.deviceId} found`});throw i}let e;t._adbDevice.stateCallback=t._deviceStateChanges.bind(t),yield t._adbDevice.connect(),yield t._deviceConnectedPromise,os(!t._jdwp),t._jdwp=new jdwp(t.processId,t._adbDevice);try{e=yield t._readProcessName()}catch(i){if(i instanceof Error&&"StreamDisconnectedError"===i.name)return void(t.state={type:"error",detail:"processNotFound",message:`Process with ID ${t.processId} not found`});throw i}if(e!==t.processName)return void(t.state={type:"error",detail:"processNotFound",message:`Process ID ${t.processId} reported unexpected name (${e}).`});yield t.sendHandshake(),t.state={type:"connected"}}catch(e){throw t.state={type:"error",detail:"unknown",exception:e},e}})()}sendRequest(t){var e=this;return Le(function*(){const i=Pt(e._jdwp);console.log(t);const r=Nl.MotionToolsRequest.encode(t).finish(),o=yield i.writeChunk(wD,r);if(o.chunkType!==wD)throw new Error(`Unexpected chunk type 0x${o.chunkType.toString(16)}`);const s=o.data.slice(o.pos),a=Nl.MotionToolsResponse.decode(s);return console.log(a),a})()}createLiveViewSource(){return new mU(Pt(this._adbDevice))}createVideoCapture(){var t=this;return Le(function*(){return new yU(Pt(t._adbDevice))})()}shellCommand(t){return Pt(this._adbDevice).shellCommand(t)}execOut(t){return Pt(this._adbDevice).openStream("exec-out:"+t).readAll()}disconnect(){return Le(function*(){})()}_deviceStateChanges(t){var e=this;return Le(function*(){const i=++e._deviceStateChangeRequestToken;let r=!1;switch(t){case STATE_DISCONNECTED:e._adbDevice?.closeAll(),e._adbDevice?.disconnect(),e._adbDevice=void 0,e.state={type:"disconnected"};break;case STATE_CONNECTING:e.state={type:"connecting"};break;case STATE_ERROR:e.state={type:"error",detail:"unknown",exception:new Error("adbDevice reported error state")};break;case STATE_UNAUTHORIZED:if(yield Zu(200),i!=e._deviceStateChangeRequestToken)return;e.state={type:"unauthorized"};break;case STATE_CONNECTED_DEVICE:e.state={type:"connecting"},r=!0}r&&!e._deviceConnected?(e._deviceConnected=!0,e._deviceConnectedPromise.resolve()):!r&&e._deviceConnected&&(e._deviceConnected=!1,e._deviceConnectedPromise=new Rl)})()}_readProcessName(){var t=this;return Le(function*(){const i=yield Pt(t._jdwp).writeChunk("HELO",[0,0,0,1]),o=(i.readInt(),i.readInt()),s=i.readInt(),a=i.readInt(),d=(i.readStr(s),i.readStr(a));return console.log(`Connected to process ${o} (${d})`),d})()}sendHandshake(){var t=this;return Le(function*(){const e=new Nl.MotionToolsRequest({handshake:new Nl.HandshakeRequest({window:new Nl.WindowIdentifier({rootWindow:t.windowId}),clientVersion:1})});yield t.sendRequest(e)})()}}function qm(){return qm=Le(function*(n){const e=(yield navigator.usb.getDevices()).find(o=>o.serialNumber===n);if(!e)throw dD("DeviceNotFound",`No device with serial ${n} found`);const i=yield fU(()=>TU(e),{delay:hD(500),attemptFailed:(o=Le(function*(s,a){console.log("Device is use, trying reset",a),yield e.reset()}),function(a,c){return o.apply(this,arguments)})});var o;return new AdbDevice(e,i)}),qm.apply(this,arguments)}function TU(n){return Wm.apply(this,arguments)}function Wm(){return(Wm=Le(function*(n){yield n.open(),n.configuration||(yield n.selectConfiguration(1));const t=n.configuration?.interfaces?.find(e=>e.alternate.interfaceClass===ADB_INTERFACE_CLASS&&e.alternate.interfaceSubclass===ADB_INTERFACE_SUB_CLASS&&e.alternate.interfaceProtocol===ADB_INTERFACE_PROTOCOL);if(null==t)throw new fD("Device does not support ADB interface");return yield n.claimInterface(t.interfaceNumber),t})).apply(this,arguments)}const Ym="screenrecord.mp4",ED="trace.pb.bin";var kU=J(153);(new TextEncoder).encode("#VV1NSC0PET1ME!#");const IU=(new TextEncoder).encode("#VV1NSC0PET1ME2#");function CD(n){return Xm.apply(this,arguments)}function Xm(){return(Xm=Le(function*(n){let t,e,i;const r=(0,kU.cn)();r.onError=E=>{console.error(`mp4box parser error: ${E}`),t=E},r.onReady=E=>{if(e=E,1!=e.videoTracks.length)throw new Error(`Recording must contain exactly 1 video track (found ${e.videoTracks.length})`);i=e.videoTracks[0],r.setExtractionOptions(i.id,"video"),e.metadataTracks.forEach(({id:S})=>r.setExtractionOptions(S,"metadata")),r.start()};const o=[];let s,a;function c(E){o.push({index:E.number,time:E.cts/E.timescale,ptsNanos:0n})}function d(E){if(E.data.length<16)return;const S=E.data.subarray(0,16),R=new DataView(E.data.buffer,E.data.byteOffset+16);if(uU(S,IU)&&2==R.getUint32(0,!0)){a=R.getBigUint64(4,!0);const te=R.getUint32(12,!0);s=[];for(let le=0;le<te;le++)s.push(R.getBigUint64(16+8*le,!0))}}r.onSamples=(E,S,R)=>{"video"===S?R.forEach(c):"metadata"==S&&R.forEach(d),r.releaseUsedSamples(E,R[R.length-1].number)};const p=(yield n.readable(Ym)).getReader();let g=0;for(;!t;){const{done:E,value:S}=yield p.read();if(E){r.flush();break}const R=S.buffer;R.fileStart=g,r.appendBuffer(R),g+=R.byteLength}if(t)throw yield p.cancel(t),new Error(t);if(!i)throw new Error("Video track not found");if(!s)throw new Error("Winscope data not found");os(s.length===o.length);for(let E=0;E<s.length;E++)o[E].ptsNanos=s[E];return r.stop(),{width:i.video.width,height:i.video.height,duration_nanos:1000000000n*BigInt(e.duration)/BigInt(e.timescale),videoFrames:o}})).apply(this,arguments)}class Zm extends EventTarget{constructor(t,e,i,r,o){super(),this.width=e,this.height=i,this.duration=r,this.frameTimes=o,this.seekable=!0,this._videoElement=null,this._currentSeekPromise=null;const s=document.createElement("video");s.muted=!0,s.src=t,s.addEventListener("timeupdate",a=>this.dispatchEvent(new Event("timeupdate"))),this._videoElement=s}static createVideoSource(t){return Le(function*(){const{width:e,height:i,duration_nanos:r,videoFrames:o}=yield CD(t);return new Zm(yield t.objectUrl(Ym),e,i,Number(r)/1e9,o.map(s=>s.time))})()}drawCurrentFrame(t){!this._videoElement||t.drawImage(this._videoElement,0,0,t.canvas.width,t.canvas.height)}get loop(){return this._videoElement?.loop??!1}set loop(t){Pt(this._videoElement).loop=t}get playbackRate(){return this._videoElement?.playbackRate??1}set playbackRate(t){Pt(this._videoElement).playbackRate=t}get state(){return this._videoElement?this._currentSeekPromise?"seek":this._videoElement.paused||this._videoElement.ended?"stop":"play":"stop"}play(){var t=this;return Le(function*(){t._videoElement?.play()})()}stop(){var t=this;return Le(function*(){t._videoElement?.pause(),t._cancelSeek()})()}dispose(){this._cancelSeek(),this._videoElement&&(this._videoElement.pause(),URL.revokeObjectURL(this._videoElement.src),this._videoElement.src="")}get currentTime(){return this._videoElement?.currentTime??0}seek(t){var e=this;return Le(function*(){if(!e._videoElement)return!1;if(e._cancelSeek(),e._videoElement.currentTime==t)return!0;const i=new Rl;e._currentSeekPromise=i;const r=new Eo;r.addListener(e._videoElement,"seeked",()=>i.resolve(!0)),e._videoElement.currentTime=t;try{return yield i}finally{r.dispose(),e._currentSeekPromise==i&&(e._currentSeekPromise=null)}})()}_cancelSeek(){this._currentSeekPromise?.resolve(!1),this._currentSeekPromise=null}}const tn=Rt.Reader,fa=Rt.Writer,Ue=Rt.util,Ge=Rt.roots.default||(Rt.roots.default={}),Ll=Ge.motion=(()=>{const n={};return n.Trace=function(){function t(e){if(this.frames=[],e)for(let i=Object.keys(e),r=0;r<i.length;++r)null!=e[i[r]]&&(this[i[r]]=e[i[r]])}return t.prototype.id="",t.prototype.version=0,t.prototype.name="",t.prototype.captureTime=null,t.prototype.processName="",t.prototype.windowName="",t.prototype.duration=null,t.prototype.videoMetadata=null,t.prototype.frames=Ue.emptyArray,t.create=function(i){return new t(i)},t.encode=function(i,r){if(r||(r=fa.create()),null!=i.id&&Object.hasOwnProperty.call(i,"id")&&r.uint32(10).string(i.id),null!=i.version&&Object.hasOwnProperty.call(i,"version")&&r.uint32(16).int32(i.version),null!=i.name&&Object.hasOwnProperty.call(i,"name")&&r.uint32(26).string(i.name),null!=i.captureTime&&Object.hasOwnProperty.call(i,"captureTime")&&Ge.google.protobuf.Timestamp.encode(i.captureTime,r.uint32(34).fork()).ldelim(),null!=i.processName&&Object.hasOwnProperty.call(i,"processName")&&r.uint32(42).string(i.processName),null!=i.windowName&&Object.hasOwnProperty.call(i,"windowName")&&r.uint32(50).string(i.windowName),null!=i.duration&&Object.hasOwnProperty.call(i,"duration")&&Ge.google.protobuf.Duration.encode(i.duration,r.uint32(58).fork()).ldelim(),null!=i.videoMetadata&&Object.hasOwnProperty.call(i,"videoMetadata")&&Ge.motion.VideoMetadata.encode(i.videoMetadata,r.uint32(66).fork()).ldelim(),null!=i.frames&&i.frames.length)for(let o=0;o<i.frames.length;++o)Ge.motion.Frame.encode(i.frames[o],r.uint32(74).fork()).ldelim();return r},t.encodeDelimited=function(i,r){return this.encode(i,r).ldelim()},t.decode=function(i,r){i instanceof tn||(i=tn.create(i));let o=void 0===r?i.len:i.pos+r,s=new Ge.motion.Trace;for(;i.pos<o;){let a=i.uint32();switch(a>>>3){case 1:s.id=i.string();break;case 2:s.version=i.int32();break;case 3:s.name=i.string();break;case 4:s.captureTime=Ge.google.protobuf.Timestamp.decode(i,i.uint32());break;case 5:s.processName=i.string();break;case 6:s.windowName=i.string();break;case 7:s.duration=Ge.google.protobuf.Duration.decode(i,i.uint32());break;case 8:s.videoMetadata=Ge.motion.VideoMetadata.decode(i,i.uint32());break;case 9:s.frames&&s.frames.length||(s.frames=[]),s.frames.push(Ge.motion.Frame.decode(i,i.uint32()));break;default:i.skipType(7&a)}}return s},t.decodeDelimited=function(i){return i instanceof tn||(i=new tn(i)),this.decode(i,i.uint32())},t.verify=function(i){if("object"!=typeof i||null===i)return"object expected";if(null!=i.id&&i.hasOwnProperty("id")&&!Ue.isString(i.id))return"id: string expected";if(null!=i.version&&i.hasOwnProperty("version")&&!Ue.isInteger(i.version))return"version: integer expected";if(null!=i.name&&i.hasOwnProperty("name")&&!Ue.isString(i.name))return"name: string expected";if(null!=i.captureTime&&i.hasOwnProperty("captureTime")){let r=Ge.google.protobuf.Timestamp.verify(i.captureTime);if(r)return"captureTime."+r}if(null!=i.processName&&i.hasOwnProperty("processName")&&!Ue.isString(i.processName))return"processName: string expected";if(null!=i.windowName&&i.hasOwnProperty("windowName")&&!Ue.isString(i.windowName))return"windowName: string expected";if(null!=i.duration&&i.hasOwnProperty("duration")){let r=Ge.google.protobuf.Duration.verify(i.duration);if(r)return"duration."+r}if(null!=i.videoMetadata&&i.hasOwnProperty("videoMetadata")){let r=Ge.motion.VideoMetadata.verify(i.videoMetadata);if(r)return"videoMetadata."+r}if(null!=i.frames&&i.hasOwnProperty("frames")){if(!Array.isArray(i.frames))return"frames: array expected";for(let r=0;r<i.frames.length;++r){let o=Ge.motion.Frame.verify(i.frames[r]);if(o)return"frames."+o}}return null},t.fromObject=function(i){if(i instanceof Ge.motion.Trace)return i;let r=new Ge.motion.Trace;if(null!=i.id&&(r.id=String(i.id)),null!=i.version&&(r.version=0|i.version),null!=i.name&&(r.name=String(i.name)),null!=i.captureTime){if("object"!=typeof i.captureTime)throw TypeError(".motion.Trace.captureTime: object expected");r.captureTime=Ge.google.protobuf.Timestamp.fromObject(i.captureTime)}if(null!=i.processName&&(r.processName=String(i.processName)),null!=i.windowName&&(r.windowName=String(i.windowName)),null!=i.duration){if("object"!=typeof i.duration)throw TypeError(".motion.Trace.duration: object expected");r.duration=Ge.google.protobuf.Duration.fromObject(i.duration)}if(null!=i.videoMetadata){if("object"!=typeof i.videoMetadata)throw TypeError(".motion.Trace.videoMetadata: object expected");r.videoMetadata=Ge.motion.VideoMetadata.fromObject(i.videoMetadata)}if(i.frames){if(!Array.isArray(i.frames))throw TypeError(".motion.Trace.frames: array expected");r.frames=[];for(let o=0;o<i.frames.length;++o){if("object"!=typeof i.frames[o])throw TypeError(".motion.Trace.frames: object expected");r.frames[o]=Ge.motion.Frame.fromObject(i.frames[o])}}return r},t.toObject=function(i,r){r||(r={});let o={};if((r.arrays||r.defaults)&&(o.frames=[]),r.defaults&&(o.id="",o.version=0,o.name="",o.captureTime=null,o.processName="",o.windowName="",o.duration=null,o.videoMetadata=null),null!=i.id&&i.hasOwnProperty("id")&&(o.id=i.id),null!=i.version&&i.hasOwnProperty("version")&&(o.version=i.version),null!=i.name&&i.hasOwnProperty("name")&&(o.name=i.name),null!=i.captureTime&&i.hasOwnProperty("captureTime")&&(o.captureTime=Ge.google.protobuf.Timestamp.toObject(i.captureTime,r)),null!=i.processName&&i.hasOwnProperty("processName")&&(o.processName=i.processName),null!=i.windowName&&i.hasOwnProperty("windowName")&&(o.windowName=i.windowName),null!=i.duration&&i.hasOwnProperty("duration")&&(o.duration=Ge.google.protobuf.Duration.toObject(i.duration,r)),null!=i.videoMetadata&&i.hasOwnProperty("videoMetadata")&&(o.videoMetadata=Ge.motion.VideoMetadata.toObject(i.videoMetadata,r)),i.frames&&i.frames.length){o.frames=[];for(let s=0;s<i.frames.length;++s)o.frames[s]=Ge.motion.Frame.toObject(i.frames[s],r)}return o},t.prototype.toJSON=function(){return this.constructor.toObject(this,Rt.util.toJSONOptions)},t.getTypeUrl=function(i){return void 0===i&&(i="type.googleapis.com"),i+"/motion.Trace"},t}(),n.VideoMetadata=function(){function t(e){if(e)for(let i=Object.keys(e),r=0;r<i.length;++r)null!=e[i[r]]&&(this[i[r]]=e[i[r]])}return t.prototype.widthPx=0,t.prototype.heightPx=0,t.prototype.density=0,t.create=function(i){return new t(i)},t.encode=function(i,r){return r||(r=fa.create()),null!=i.widthPx&&Object.hasOwnProperty.call(i,"widthPx")&&r.uint32(8).int32(i.widthPx),null!=i.heightPx&&Object.hasOwnProperty.call(i,"heightPx")&&r.uint32(16).int32(i.heightPx),null!=i.density&&Object.hasOwnProperty.call(i,"density")&&r.uint32(24).int32(i.density),r},t.encodeDelimited=function(i,r){return this.encode(i,r).ldelim()},t.decode=function(i,r){i instanceof tn||(i=tn.create(i));let o=void 0===r?i.len:i.pos+r,s=new Ge.motion.VideoMetadata;for(;i.pos<o;){let a=i.uint32();switch(a>>>3){case 1:s.widthPx=i.int32();break;case 2:s.heightPx=i.int32();break;case 3:s.density=i.int32();break;default:i.skipType(7&a)}}return s},t.decodeDelimited=function(i){return i instanceof tn||(i=new tn(i)),this.decode(i,i.uint32())},t.verify=function(i){return"object"!=typeof i||null===i?"object expected":null!=i.widthPx&&i.hasOwnProperty("widthPx")&&!Ue.isInteger(i.widthPx)?"widthPx: integer expected":null!=i.heightPx&&i.hasOwnProperty("heightPx")&&!Ue.isInteger(i.heightPx)?"heightPx: integer expected":null!=i.density&&i.hasOwnProperty("density")&&!Ue.isInteger(i.density)?"density: integer expected":null},t.fromObject=function(i){if(i instanceof Ge.motion.VideoMetadata)return i;let r=new Ge.motion.VideoMetadata;return null!=i.widthPx&&(r.widthPx=0|i.widthPx),null!=i.heightPx&&(r.heightPx=0|i.heightPx),null!=i.density&&(r.density=0|i.density),r},t.toObject=function(i,r){r||(r={});let o={};return r.defaults&&(o.widthPx=0,o.heightPx=0,o.density=0),null!=i.widthPx&&i.hasOwnProperty("widthPx")&&(o.widthPx=i.widthPx),null!=i.heightPx&&i.hasOwnProperty("heightPx")&&(o.heightPx=i.heightPx),null!=i.density&&i.hasOwnProperty("density")&&(o.density=i.density),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,Rt.util.toJSONOptions)},t.getTypeUrl=function(i){return void 0===i&&(i="type.googleapis.com"),i+"/motion.VideoMetadata"},t}(),n.Frame=function(){function t(e){if(e)for(let i=Object.keys(e),r=0;r<i.length;++r)null!=e[i[r]]&&(this[i[r]]=e[i[r]])}return t.prototype.frameNumber=0,t.prototype.frameNanos=Ue.Long?Ue.Long.fromBits(0,0,!1):0,t.prototype.videoTimeSeconds=0,t.prototype.viewHierarchy=null,t.create=function(i){return new t(i)},t.encode=function(i,r){return r||(r=fa.create()),null!=i.frameNumber&&Object.hasOwnProperty.call(i,"frameNumber")&&r.uint32(8).int32(i.frameNumber),null!=i.frameNanos&&Object.hasOwnProperty.call(i,"frameNanos")&&r.uint32(16).int64(i.frameNanos),null!=i.videoTimeSeconds&&Object.hasOwnProperty.call(i,"videoTimeSeconds")&&r.uint32(25).double(i.videoTimeSeconds),null!=i.viewHierarchy&&Object.hasOwnProperty.call(i,"viewHierarchy")&&Ge.motion.ViewNode.encode(i.viewHierarchy,r.uint32(34).fork()).ldelim(),r},t.encodeDelimited=function(i,r){return this.encode(i,r).ldelim()},t.decode=function(i,r){i instanceof tn||(i=tn.create(i));let o=void 0===r?i.len:i.pos+r,s=new Ge.motion.Frame;for(;i.pos<o;){let a=i.uint32();switch(a>>>3){case 1:s.frameNumber=i.int32();break;case 2:s.frameNanos=i.int64();break;case 3:s.videoTimeSeconds=i.double();break;case 4:s.viewHierarchy=Ge.motion.ViewNode.decode(i,i.uint32());break;default:i.skipType(7&a)}}return s},t.decodeDelimited=function(i){return i instanceof tn||(i=new tn(i)),this.decode(i,i.uint32())},t.verify=function(i){if("object"!=typeof i||null===i)return"object expected";if(null!=i.frameNumber&&i.hasOwnProperty("frameNumber")&&!Ue.isInteger(i.frameNumber))return"frameNumber: integer expected";if(null!=i.frameNanos&&i.hasOwnProperty("frameNanos")&&!Ue.isInteger(i.frameNanos)&&!(i.frameNanos&&Ue.isInteger(i.frameNanos.low)&&Ue.isInteger(i.frameNanos.high)))return"frameNanos: integer|Long expected";if(null!=i.videoTimeSeconds&&i.hasOwnProperty("videoTimeSeconds")&&"number"!=typeof i.videoTimeSeconds)return"videoTimeSeconds: number expected";if(null!=i.viewHierarchy&&i.hasOwnProperty("viewHierarchy")){let r=Ge.motion.ViewNode.verify(i.viewHierarchy);if(r)return"viewHierarchy."+r}return null},t.fromObject=function(i){if(i instanceof Ge.motion.Frame)return i;let r=new Ge.motion.Frame;if(null!=i.frameNumber&&(r.frameNumber=0|i.frameNumber),null!=i.frameNanos&&(Ue.Long?(r.frameNanos=Ue.Long.fromValue(i.frameNanos)).unsigned=!1:"string"==typeof i.frameNanos?r.frameNanos=parseInt(i.frameNanos,10):"number"==typeof i.frameNanos?r.frameNanos=i.frameNanos:"object"==typeof i.frameNanos&&(r.frameNanos=new Ue.LongBits(i.frameNanos.low>>>0,i.frameNanos.high>>>0).toNumber())),null!=i.videoTimeSeconds&&(r.videoTimeSeconds=Number(i.videoTimeSeconds)),null!=i.viewHierarchy){if("object"!=typeof i.viewHierarchy)throw TypeError(".motion.Frame.viewHierarchy: object expected");r.viewHierarchy=Ge.motion.ViewNode.fromObject(i.viewHierarchy)}return r},t.toObject=function(i,r){r||(r={});let o={};if(r.defaults){if(o.frameNumber=0,Ue.Long){let s=new Ue.Long(0,0,!1);o.frameNanos=r.longs===String?s.toString():r.longs===Number?s.toNumber():s}else o.frameNanos=r.longs===String?"0":0;o.videoTimeSeconds=0,o.viewHierarchy=null}return null!=i.frameNumber&&i.hasOwnProperty("frameNumber")&&(o.frameNumber=i.frameNumber),null!=i.frameNanos&&i.hasOwnProperty("frameNanos")&&(o.frameNanos="number"==typeof i.frameNanos?r.longs===String?String(i.frameNanos):i.frameNanos:r.longs===String?Ue.Long.prototype.toString.call(i.frameNanos):r.longs===Number?new Ue.LongBits(i.frameNanos.low>>>0,i.frameNanos.high>>>0).toNumber():i.frameNanos),null!=i.videoTimeSeconds&&i.hasOwnProperty("videoTimeSeconds")&&(o.videoTimeSeconds=r.json&&!isFinite(i.videoTimeSeconds)?String(i.videoTimeSeconds):i.videoTimeSeconds),null!=i.viewHierarchy&&i.hasOwnProperty("viewHierarchy")&&(o.viewHierarchy=Ge.motion.ViewNode.toObject(i.viewHierarchy,r)),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,Rt.util.toJSONOptions)},t.getTypeUrl=function(i){return void 0===i&&(i="type.googleapis.com"),i+"/motion.Frame"},t}(),n.ViewNode=function(){function t(e){if(this.children=[],e)for(let i=Object.keys(e),r=0;r<i.length;++r)null!=e[i[r]]&&(this[i[r]]=e[i[r]])}return t.prototype.classname="",t.prototype.hashcode=0,t.prototype.children=Ue.emptyArray,t.prototype.id="",t.prototype.left=0,t.prototype.top=0,t.prototype.width=0,t.prototype.height=0,t.prototype.scrollX=0,t.prototype.scrollY=0,t.prototype.translationX=0,t.prototype.translationY=0,t.prototype.scaleX=0,t.prototype.scaleY=0,t.prototype.alpha=0,t.prototype.willNotDraw=!1,t.prototype.clipChildren=!1,t.prototype.visibility=0,t.prototype.elevation=0,t.create=function(i){return new t(i)},t.encode=function(i,r){if(r||(r=fa.create()),null!=i.classname&&Object.hasOwnProperty.call(i,"classname")&&r.uint32(10).string(i.classname),null!=i.hashcode&&Object.hasOwnProperty.call(i,"hashcode")&&r.uint32(16).int32(i.hashcode),null!=i.children&&i.children.length)for(let o=0;o<i.children.length;++o)Ge.motion.ViewNode.encode(i.children[o],r.uint32(26).fork()).ldelim();return null!=i.id&&Object.hasOwnProperty.call(i,"id")&&r.uint32(34).string(i.id),null!=i.left&&Object.hasOwnProperty.call(i,"left")&&r.uint32(40).int32(i.left),null!=i.top&&Object.hasOwnProperty.call(i,"top")&&r.uint32(48).int32(i.top),null!=i.width&&Object.hasOwnProperty.call(i,"width")&&r.uint32(56).int32(i.width),null!=i.height&&Object.hasOwnProperty.call(i,"height")&&r.uint32(64).int32(i.height),null!=i.scrollX&&Object.hasOwnProperty.call(i,"scrollX")&&r.uint32(72).int32(i.scrollX),null!=i.scrollY&&Object.hasOwnProperty.call(i,"scrollY")&&r.uint32(80).int32(i.scrollY),null!=i.translationX&&Object.hasOwnProperty.call(i,"translationX")&&r.uint32(93).float(i.translationX),null!=i.translationY&&Object.hasOwnProperty.call(i,"translationY")&&r.uint32(101).float(i.translationY),null!=i.scaleX&&Object.hasOwnProperty.call(i,"scaleX")&&r.uint32(109).float(i.scaleX),null!=i.scaleY&&Object.hasOwnProperty.call(i,"scaleY")&&r.uint32(117).float(i.scaleY),null!=i.alpha&&Object.hasOwnProperty.call(i,"alpha")&&r.uint32(125).float(i.alpha),null!=i.willNotDraw&&Object.hasOwnProperty.call(i,"willNotDraw")&&r.uint32(128).bool(i.willNotDraw),null!=i.clipChildren&&Object.hasOwnProperty.call(i,"clipChildren")&&r.uint32(136).bool(i.clipChildren),null!=i.visibility&&Object.hasOwnProperty.call(i,"visibility")&&r.uint32(144).int32(i.visibility),null!=i.elevation&&Object.hasOwnProperty.call(i,"elevation")&&r.uint32(157).float(i.elevation),r},t.encodeDelimited=function(i,r){return this.encode(i,r).ldelim()},t.decode=function(i,r){i instanceof tn||(i=tn.create(i));let o=void 0===r?i.len:i.pos+r,s=new Ge.motion.ViewNode;for(;i.pos<o;){let a=i.uint32();switch(a>>>3){case 1:s.classname=i.string();break;case 2:s.hashcode=i.int32();break;case 3:s.children&&s.children.length||(s.children=[]),s.children.push(Ge.motion.ViewNode.decode(i,i.uint32()));break;case 4:s.id=i.string();break;case 5:s.left=i.int32();break;case 6:s.top=i.int32();break;case 7:s.width=i.int32();break;case 8:s.height=i.int32();break;case 9:s.scrollX=i.int32();break;case 10:s.scrollY=i.int32();break;case 11:s.translationX=i.float();break;case 12:s.translationY=i.float();break;case 13:s.scaleX=i.float();break;case 14:s.scaleY=i.float();break;case 15:s.alpha=i.float();break;case 16:s.willNotDraw=i.bool();break;case 17:s.clipChildren=i.bool();break;case 18:s.visibility=i.int32();break;case 19:s.elevation=i.float();break;default:i.skipType(7&a)}}return s},t.decodeDelimited=function(i){return i instanceof tn||(i=new tn(i)),this.decode(i,i.uint32())},t.verify=function(i){if("object"!=typeof i||null===i)return"object expected";if(null!=i.classname&&i.hasOwnProperty("classname")&&!Ue.isString(i.classname))return"classname: string expected";if(null!=i.hashcode&&i.hasOwnProperty("hashcode")&&!Ue.isInteger(i.hashcode))return"hashcode: integer expected";if(null!=i.children&&i.hasOwnProperty("children")){if(!Array.isArray(i.children))return"children: array expected";for(let r=0;r<i.children.length;++r){let o=Ge.motion.ViewNode.verify(i.children[r]);if(o)return"children."+o}}return null!=i.id&&i.hasOwnProperty("id")&&!Ue.isString(i.id)?"id: string expected":null!=i.left&&i.hasOwnProperty("left")&&!Ue.isInteger(i.left)?"left: integer expected":null!=i.top&&i.hasOwnProperty("top")&&!Ue.isInteger(i.top)?"top: integer expected":null!=i.width&&i.hasOwnProperty("width")&&!Ue.isInteger(i.width)?"width: integer expected":null!=i.height&&i.hasOwnProperty("height")&&!Ue.isInteger(i.height)?"height: integer expected":null!=i.scrollX&&i.hasOwnProperty("scrollX")&&!Ue.isInteger(i.scrollX)?"scrollX: integer expected":null!=i.scrollY&&i.hasOwnProperty("scrollY")&&!Ue.isInteger(i.scrollY)?"scrollY: integer expected":null!=i.translationX&&i.hasOwnProperty("translationX")&&"number"!=typeof i.translationX?"translationX: number expected":null!=i.translationY&&i.hasOwnProperty("translationY")&&"number"!=typeof i.translationY?"translationY: number expected":null!=i.scaleX&&i.hasOwnProperty("scaleX")&&"number"!=typeof i.scaleX?"scaleX: number expected":null!=i.scaleY&&i.hasOwnProperty("scaleY")&&"number"!=typeof i.scaleY?"scaleY: number expected":null!=i.alpha&&i.hasOwnProperty("alpha")&&"number"!=typeof i.alpha?"alpha: number expected":null!=i.willNotDraw&&i.hasOwnProperty("willNotDraw")&&"boolean"!=typeof i.willNotDraw?"willNotDraw: boolean expected":null!=i.clipChildren&&i.hasOwnProperty("clipChildren")&&"boolean"!=typeof i.clipChildren?"clipChildren: boolean expected":null!=i.visibility&&i.hasOwnProperty("visibility")&&!Ue.isInteger(i.visibility)?"visibility: integer expected":null!=i.elevation&&i.hasOwnProperty("elevation")&&"number"!=typeof i.elevation?"elevation: number expected":null},t.fromObject=function(i){if(i instanceof Ge.motion.ViewNode)return i;let r=new Ge.motion.ViewNode;if(null!=i.classname&&(r.classname=String(i.classname)),null!=i.hashcode&&(r.hashcode=0|i.hashcode),i.children){if(!Array.isArray(i.children))throw TypeError(".motion.ViewNode.children: array expected");r.children=[];for(let o=0;o<i.children.length;++o){if("object"!=typeof i.children[o])throw TypeError(".motion.ViewNode.children: object expected");r.children[o]=Ge.motion.ViewNode.fromObject(i.children[o])}}return null!=i.id&&(r.id=String(i.id)),null!=i.left&&(r.left=0|i.left),null!=i.top&&(r.top=0|i.top),null!=i.width&&(r.width=0|i.width),null!=i.height&&(r.height=0|i.height),null!=i.scrollX&&(r.scrollX=0|i.scrollX),null!=i.scrollY&&(r.scrollY=0|i.scrollY),null!=i.translationX&&(r.translationX=Number(i.translationX)),null!=i.translationY&&(r.translationY=Number(i.translationY)),null!=i.scaleX&&(r.scaleX=Number(i.scaleX)),null!=i.scaleY&&(r.scaleY=Number(i.scaleY)),null!=i.alpha&&(r.alpha=Number(i.alpha)),null!=i.willNotDraw&&(r.willNotDraw=Boolean(i.willNotDraw)),null!=i.clipChildren&&(r.clipChildren=Boolean(i.clipChildren)),null!=i.visibility&&(r.visibility=0|i.visibility),null!=i.elevation&&(r.elevation=Number(i.elevation)),r},t.toObject=function(i,r){r||(r={});let o={};if((r.arrays||r.defaults)&&(o.children=[]),r.defaults&&(o.classname="",o.hashcode=0,o.id="",o.left=0,o.top=0,o.width=0,o.height=0,o.scrollX=0,o.scrollY=0,o.translationX=0,o.translationY=0,o.scaleX=0,o.scaleY=0,o.alpha=0,o.willNotDraw=!1,o.clipChildren=!1,o.visibility=0,o.elevation=0),null!=i.classname&&i.hasOwnProperty("classname")&&(o.classname=i.classname),null!=i.hashcode&&i.hasOwnProperty("hashcode")&&(o.hashcode=i.hashcode),i.children&&i.children.length){o.children=[];for(let s=0;s<i.children.length;++s)o.children[s]=Ge.motion.ViewNode.toObject(i.children[s],r)}return null!=i.id&&i.hasOwnProperty("id")&&(o.id=i.id),null!=i.left&&i.hasOwnProperty("left")&&(o.left=i.left),null!=i.top&&i.hasOwnProperty("top")&&(o.top=i.top),null!=i.width&&i.hasOwnProperty("width")&&(o.width=i.width),null!=i.height&&i.hasOwnProperty("height")&&(o.height=i.height),null!=i.scrollX&&i.hasOwnProperty("scrollX")&&(o.scrollX=i.scrollX),null!=i.scrollY&&i.hasOwnProperty("scrollY")&&(o.scrollY=i.scrollY),null!=i.translationX&&i.hasOwnProperty("translationX")&&(o.translationX=r.json&&!isFinite(i.translationX)?String(i.translationX):i.translationX),null!=i.translationY&&i.hasOwnProperty("translationY")&&(o.translationY=r.json&&!isFinite(i.translationY)?String(i.translationY):i.translationY),null!=i.scaleX&&i.hasOwnProperty("scaleX")&&(o.scaleX=r.json&&!isFinite(i.scaleX)?String(i.scaleX):i.scaleX),null!=i.scaleY&&i.hasOwnProperty("scaleY")&&(o.scaleY=r.json&&!isFinite(i.scaleY)?String(i.scaleY):i.scaleY),null!=i.alpha&&i.hasOwnProperty("alpha")&&(o.alpha=r.json&&!isFinite(i.alpha)?String(i.alpha):i.alpha),null!=i.willNotDraw&&i.hasOwnProperty("willNotDraw")&&(o.willNotDraw=i.willNotDraw),null!=i.clipChildren&&i.hasOwnProperty("clipChildren")&&(o.clipChildren=i.clipChildren),null!=i.visibility&&i.hasOwnProperty("visibility")&&(o.visibility=i.visibility),null!=i.elevation&&i.hasOwnProperty("elevation")&&(o.elevation=r.json&&!isFinite(i.elevation)?String(i.elevation):i.elevation),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,Rt.util.toJSONOptions)},t.getTypeUrl=function(i){return void 0===i&&(i="type.googleapis.com"),i+"/motion.ViewNode"},t}(),n})(),AU=Ge.google=(()=>{const n={};return n.protobuf=function(){const t={};return t.Timestamp=function(){function e(i){if(i)for(let r=Object.keys(i),o=0;o<r.length;++o)null!=i[r[o]]&&(this[r[o]]=i[r[o]])}return e.prototype.seconds=Ue.Long?Ue.Long.fromBits(0,0,!1):0,e.prototype.nanos=0,e.create=function(r){return new e(r)},e.encode=function(r,o){return o||(o=fa.create()),null!=r.seconds&&Object.hasOwnProperty.call(r,"seconds")&&o.uint32(8).int64(r.seconds),null!=r.nanos&&Object.hasOwnProperty.call(r,"nanos")&&o.uint32(16).int32(r.nanos),o},e.encodeDelimited=function(r,o){return this.encode(r,o).ldelim()},e.decode=function(r,o){r instanceof tn||(r=tn.create(r));let s=void 0===o?r.len:r.pos+o,a=new Ge.google.protobuf.Timestamp;for(;r.pos<s;){let c=r.uint32();switch(c>>>3){case 1:a.seconds=r.int64();break;case 2:a.nanos=r.int32();break;default:r.skipType(7&c)}}return a},e.decodeDelimited=function(r){return r instanceof tn||(r=new tn(r)),this.decode(r,r.uint32())},e.verify=function(r){return"object"!=typeof r||null===r?"object expected":null==r.seconds||!r.hasOwnProperty("seconds")||Ue.isInteger(r.seconds)||r.seconds&&Ue.isInteger(r.seconds.low)&&Ue.isInteger(r.seconds.high)?null!=r.nanos&&r.hasOwnProperty("nanos")&&!Ue.isInteger(r.nanos)?"nanos: integer expected":null:"seconds: integer|Long expected"},e.fromObject=function(r){if(r instanceof Ge.google.protobuf.Timestamp)return r;let o=new Ge.google.protobuf.Timestamp;return null!=r.seconds&&(Ue.Long?(o.seconds=Ue.Long.fromValue(r.seconds)).unsigned=!1:"string"==typeof r.seconds?o.seconds=parseInt(r.seconds,10):"number"==typeof r.seconds?o.seconds=r.seconds:"object"==typeof r.seconds&&(o.seconds=new Ue.LongBits(r.seconds.low>>>0,r.seconds.high>>>0).toNumber())),null!=r.nanos&&(o.nanos=0|r.nanos),o},e.toObject=function(r,o){o||(o={});let s={};if(o.defaults){if(Ue.Long){let a=new Ue.Long(0,0,!1);s.seconds=o.longs===String?a.toString():o.longs===Number?a.toNumber():a}else s.seconds=o.longs===String?"0":0;s.nanos=0}return null!=r.seconds&&r.hasOwnProperty("seconds")&&(s.seconds="number"==typeof r.seconds?o.longs===String?String(r.seconds):r.seconds:o.longs===String?Ue.Long.prototype.toString.call(r.seconds):o.longs===Number?new Ue.LongBits(r.seconds.low>>>0,r.seconds.high>>>0).toNumber():r.seconds),null!=r.nanos&&r.hasOwnProperty("nanos")&&(s.nanos=r.nanos),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,Rt.util.toJSONOptions)},e.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/google.protobuf.Timestamp"},e}(),t.Duration=function(){function e(i){if(i)for(let r=Object.keys(i),o=0;o<r.length;++o)null!=i[r[o]]&&(this[r[o]]=i[r[o]])}return e.prototype.seconds=Ue.Long?Ue.Long.fromBits(0,0,!1):0,e.prototype.nanos=0,e.create=function(r){return new e(r)},e.encode=function(r,o){return o||(o=fa.create()),null!=r.seconds&&Object.hasOwnProperty.call(r,"seconds")&&o.uint32(8).int64(r.seconds),null!=r.nanos&&Object.hasOwnProperty.call(r,"nanos")&&o.uint32(16).int32(r.nanos),o},e.encodeDelimited=function(r,o){return this.encode(r,o).ldelim()},e.decode=function(r,o){r instanceof tn||(r=tn.create(r));let s=void 0===o?r.len:r.pos+o,a=new Ge.google.protobuf.Duration;for(;r.pos<s;){let c=r.uint32();switch(c>>>3){case 1:a.seconds=r.int64();break;case 2:a.nanos=r.int32();break;default:r.skipType(7&c)}}return a},e.decodeDelimited=function(r){return r instanceof tn||(r=new tn(r)),this.decode(r,r.uint32())},e.verify=function(r){return"object"!=typeof r||null===r?"object expected":null==r.seconds||!r.hasOwnProperty("seconds")||Ue.isInteger(r.seconds)||r.seconds&&Ue.isInteger(r.seconds.low)&&Ue.isInteger(r.seconds.high)?null!=r.nanos&&r.hasOwnProperty("nanos")&&!Ue.isInteger(r.nanos)?"nanos: integer expected":null:"seconds: integer|Long expected"},e.fromObject=function(r){if(r instanceof Ge.google.protobuf.Duration)return r;let o=new Ge.google.protobuf.Duration;return null!=r.seconds&&(Ue.Long?(o.seconds=Ue.Long.fromValue(r.seconds)).unsigned=!1:"string"==typeof r.seconds?o.seconds=parseInt(r.seconds,10):"number"==typeof r.seconds?o.seconds=r.seconds:"object"==typeof r.seconds&&(o.seconds=new Ue.LongBits(r.seconds.low>>>0,r.seconds.high>>>0).toNumber())),null!=r.nanos&&(o.nanos=0|r.nanos),o},e.toObject=function(r,o){o||(o={});let s={};if(o.defaults){if(Ue.Long){let a=new Ue.Long(0,0,!1);s.seconds=o.longs===String?a.toString():o.longs===Number?a.toNumber():a}else s.seconds=o.longs===String?"0":0;s.nanos=0}return null!=r.seconds&&r.hasOwnProperty("seconds")&&(s.seconds="number"==typeof r.seconds?o.longs===String?String(r.seconds):r.seconds:o.longs===String?Ue.Long.prototype.toString.call(r.seconds):o.longs===Number?new Ue.LongBits(r.seconds.low>>>0,r.seconds.high>>>0).toNumber():r.seconds),null!=r.nanos&&r.hasOwnProperty("nanos")&&(s.nanos=r.nanos),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,Rt.util.toJSONOptions)},e.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/google.protobuf.Duration"},e}(),t}(),n})();class Qm{constructor(t,e,i){this._length=t,this._min=e,this._max=i,this._data=[],this._lastSetIndex=-1,this._bitset=new DataView(new ArrayBuffer(Math.ceil(t/8)))}static createNumber(t,e,i){return new Qm(t,e??OU,i??PU)}setValue(t,e){rs(t>this._lastSetIndex),this._lastSetIndex=t,rs(t<this._length);const i=t>0?xD(t-1,this._bitset):-1;if(i<0||this._data[i]!==e){this._data.push(e);const r=t/8;this._bitset.setUint8(r,this._bitset.getUint8(r)|1<<t%8)}return this}build(){const t=this._min(this._data),e=this._max(this._data);return this._data.length<=1?new DD(this._length,this._data[0],t,e):new SD(this._length,t,e,this._bitset,this._data)}}function OU(n){let t;for(let e=0;e<n.length;e++){const i=n[e];void 0!==i&&(void 0===t||t>i)&&(t=i)}return t}function PU(n){let t;for(let e=0;e<n.length;e++){const i=n[e];void 0!==i&&(void 0===t||t<i)&&(t=i)}return t}class DD{constructor(t,e,i,r){this.length=t,this.value=e,this.min=i,this.max=r,this.activeRanges=[]}at(t){return this.value}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.value}hasChangesInRange(t,e){return!1}}class SD{constructor(t,e,i,r,o){this.length=t,this.min=e,this.max=i,this._bitset=r,this._data=o}at(t){const e=xD(t,this._bitset);return this._data[e]}*[Symbol.iterator](){let t=-1;for(let e=0;e<this.length;e++)this._bitset.getUint8(e/8)&1<<e%8&&t++,os(t>=0),os(t<this._data.length),yield this._data[t]}get testOnlyActualValueCount(){return this._data.length}hasChangesInRange(t,e){return!0}get activeRanges(){if(!this._activeRanges){let t=1;for(;t<this.length&&!(this._bitset.getUint8(t/8)&1<<t%8);)t++;1==t&&(t=0);let e=this.length-1;for(;e>t&&!(this._bitset.getUint8(e/8)&1<<e%8);)e--;this._activeRanges=[{start:t,end:e}]}return this._activeRanges}}function xD(n,t){let e=0,i=0;const r=Math.floor(n/32);for(let a=0;a<r;a++)e+=Jm(t.getUint32(i)),i+=4;const o=Math.floor(n/8);for(let a=i;a<o;a++)e+=Jm(t.getUint8(i)),i++;const s=255>>7-n%8;return e+=Jm(t.getUint8(i)&s),e-1}function Jm(n){return 16843009*((n=(858993459&(n-=n>>1&1431655765))+(n>>2&858993459))+(n>>4)&252645135)>>24}class FU{constructor(t){this.properties=t}query(){return[]}}class LU{constructor(){this._cache=new Map}viewId(t,e,i){const r=Pt(this._cache,"ViewIdFactory was already disposed"),o=t+"@"+e.toString(16);let s=r.get(o);return s||(s=new eg(o,t,e,i),r.set(o,s)),s}viewIdOfNode(t){const e=Pt(t.classname),i=Pt(t.hashcode);return this.viewId(e,i,null!==t.id?t.id:void 0)}dispose(){this._cache=void 0}}class eg{constructor(t,e,i,r){this.instanceKey=t,this.classname=e,this.hash=i,this.resourceId=r}matches(t){return t instanceof eg&&this.classname==t.classname&&this.resourceId==t.resourceId}get label(){if(!this._cachedLabel){const t=this.classname.substring(this.classname.lastIndexOf(".")+1);this._cachedLabel=this.resourceId?`${t}@${this.resourceId}`:t}return this._cachedLabel}}class BU{constructor(t,e){this.frameTimes=t,this.duration=e;let i=t.length>0?t[0]:0;rs(0===i);for(let r=1;r<t.length;r++){const o=t[r];rs(o>i),rs(o<=this.duration),i=o}}get frameCount(){return this.frameTimes.length}timeToFrame(t){if(t<0)return Number.NEGATIVE_INFINITY;if(t>=this.duration)return Number.POSITIVE_INFINITY;const e=this.frameTimes;let i=0,r=e.length-1;for(;i<=r;){let o=i+r>>1;if(e[o]===t)return o;t<e[o]?r=o-1:i=o+1}return r}frameToTime(t){if((t=Math.floor(t))<0)return Number.NEGATIVE_INFINITY;const e=this.frameTimes;return t>=e.length?Number.POSITIVE_INFINITY:e[t]}}var Hi=null;try{Hi=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Xt(n,t,e){this.low=0|n,this.high=0|t,this.unsigned=!!e}function Wn(n){return!0===(n&&n.__isLong__)}function MD(n){var t=Math.clz32(n&-n);return n?31-t:t}Object.defineProperty(Xt.prototype,"__isLong__",{value:!0}),Xt.isLong=Wn;var TD={},kD={};function ss(n,t){var e,i,r;return t?(r=0<=(n>>>=0)&&n<256)&&(i=kD[n])?i:(e=xt(n,0,!0),r&&(kD[n]=e),e):(r=-128<=(n|=0)&&n<128)&&(i=TD[n])?i:(e=xt(n,n<0?-1:0,!1),r&&(TD[n]=e),e)}function ji(n,t){if(isNaN(n))return t?Jr:dr;if(t){if(n<0)return Jr;if(n>=AD)return ND}else{if(n<=-RD)return ui;if(n+1>=RD)return FD}return n<0?ji(-n,t).neg():xt(n%pa|0,n/pa|0,t)}function xt(n,t,e){return new Xt(n,t,e)}Xt.fromInt=ss,Xt.fromNumber=ji,Xt.fromBits=xt;var Qu=Math.pow;function tg(n,t,e){if(0===n.length)throw Error("empty string");if("number"==typeof t?(e=t,t=!1):t=!!t,"NaN"===n||"Infinity"===n||"+Infinity"===n||"-Infinity"===n)return t?Jr:dr;if((e=e||10)<2||36<e)throw RangeError("radix");var i;if((i=n.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return tg(n.substring(1),t,e).neg();for(var r=ji(Qu(e,8)),o=dr,s=0;s<n.length;s+=8){var a=Math.min(8,n.length-s),c=parseInt(n.substring(s,s+a),e);if(a<8){var d=ji(Qu(e,a));o=o.mul(d).add(ji(c))}else o=(o=o.mul(r)).add(ji(c))}return o.unsigned=t,o}function ur(n,t){return"number"==typeof n?ji(n,t):"string"==typeof n?tg(n,t):xt(n.low,n.high,"boolean"==typeof t?t:n.unsigned)}Xt.fromString=tg,Xt.fromValue=ur;var pa=4294967296,AD=pa*pa,RD=AD/2,OD=ss(1<<24),dr=ss(0);Xt.ZERO=dr;var Jr=ss(0,!0);Xt.UZERO=Jr;var ma=ss(1);Xt.ONE=ma;var PD=ss(1,!0);Xt.UONE=PD;var ng=ss(-1);Xt.NEG_ONE=ng;var FD=xt(-1,2147483647,!1);Xt.MAX_VALUE=FD;var ND=xt(-1,-1,!0);Xt.MAX_UNSIGNED_VALUE=ND;var ui=xt(0,-2147483648,!1);Xt.MIN_VALUE=ui;var we=Xt.prototype;we.toInt=function(){return this.unsigned?this.low>>>0:this.low},we.toNumber=function(){return this.unsigned?(this.high>>>0)*pa+(this.low>>>0):this.high*pa+(this.low>>>0)},we.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(ui)){var e=ji(t),i=this.div(e),r=i.mul(e).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var o=ji(Qu(t,6),this.unsigned),s=this,a="";;){var c=s.div(o),p=(s.sub(c.mul(o)).toInt()>>>0).toString(t);if((s=c).isZero())return p+a;for(;p.length<6;)p="0"+p;a=""+p+a}},we.getHighBits=function(){return this.high},we.getHighBitsUnsigned=function(){return this.high>>>0},we.getLowBits=function(){return this.low},we.getLowBitsUnsigned=function(){return this.low>>>0},we.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ui)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},we.isZero=function(){return 0===this.high&&0===this.low},we.eqz=we.isZero,we.isNegative=function(){return!this.unsigned&&this.high<0},we.isPositive=function(){return this.unsigned||this.high>=0},we.isOdd=function(){return 1==(1&this.low)},we.isEven=function(){return 0==(1&this.low)},we.equals=function(t){return Wn(t)||(t=ur(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},we.eq=we.equals,we.notEquals=function(t){return!this.eq(t)},we.neq=we.notEquals,we.ne=we.notEquals,we.lessThan=function(t){return this.comp(t)<0},we.lt=we.lessThan,we.lessThanOrEqual=function(t){return this.comp(t)<=0},we.lte=we.lessThanOrEqual,we.le=we.lessThanOrEqual,we.greaterThan=function(t){return this.comp(t)>0},we.gt=we.greaterThan,we.greaterThanOrEqual=function(t){return this.comp(t)>=0},we.gte=we.greaterThanOrEqual,we.ge=we.greaterThanOrEqual,we.compare=function(t){if(Wn(t)||(t=ur(t)),this.eq(t))return 0;var e=this.isNegative(),i=t.isNegative();return e&&!i?-1:!e&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},we.comp=we.compare,we.negate=function(){return!this.unsigned&&this.eq(ui)?ui:this.not().add(ma)},we.neg=we.negate,we.add=function(t){Wn(t)||(t=ur(t));var p=0,g=0,E=0,S=0;return E+=(S+=(65535&this.low)+(65535&t.low))>>>16,g+=(E+=(this.low>>>16)+(t.low>>>16))>>>16,p+=(g+=(65535&this.high)+(65535&t.high))>>>16,p+=(this.high>>>16)+(t.high>>>16),xt((E&=65535)<<16|(S&=65535),(p&=65535)<<16|(g&=65535),this.unsigned)},we.subtract=function(t){return Wn(t)||(t=ur(t)),this.add(t.neg())},we.sub=we.subtract,we.multiply=function(t){if(this.isZero())return this;if(Wn(t)||(t=ur(t)),Hi)return xt(Hi.mul(this.low,this.high,t.low,t.high),Hi.get_high(),this.unsigned);if(t.isZero())return this.unsigned?Jr:dr;if(this.eq(ui))return t.isOdd()?ui:dr;if(t.eq(ui))return this.isOdd()?ui:dr;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(OD)&&t.lt(OD))return ji(this.toNumber()*t.toNumber(),this.unsigned);var r=65535&this.high,o=this.low>>>16,s=65535&this.low,c=65535&t.high,d=t.low>>>16,p=65535&t.low,g=0,E=0,S=0,R=0;return S+=(R+=s*p)>>>16,E+=(S+=o*p)>>>16,S&=65535,E+=(S+=s*d)>>>16,g+=(E+=r*p)>>>16,E&=65535,g+=(E+=o*d)>>>16,E&=65535,g+=(E+=s*c)>>>16,g+=(this.high>>>16)*p+r*d+o*c+s*(t.high>>>16),xt((S&=65535)<<16|(R&=65535),(g&=65535)<<16|(E&=65535),this.unsigned)},we.mul=we.multiply,we.divide=function(t){if(Wn(t)||(t=ur(t)),t.isZero())throw Error("division by zero");var i,r,o;if(Hi)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?xt((this.unsigned?Hi.div_u:Hi.div_s)(this.low,this.high,t.low,t.high),Hi.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Jr:dr;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Jr;if(t.gt(this.shru(1)))return PD;o=Jr}else{if(this.eq(ui))return t.eq(ma)||t.eq(ng)?ui:t.eq(ui)?ma:(i=this.shr(1).div(t).shl(1)).eq(dr)?t.isNegative()?ma:ng:(r=this.sub(t.mul(i)),o=i.add(r.div(t)));if(t.eq(ui))return this.unsigned?Jr:dr;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();o=dr}for(r=this;r.gte(t);){i=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var a=Math.ceil(Math.log(i)/Math.LN2),c=a<=48?1:Qu(2,a-48),d=ji(i),p=d.mul(t);p.isNegative()||p.gt(r);)p=(d=ji(i-=c,this.unsigned)).mul(t);d.isZero()&&(d=ma),o=o.add(d),r=r.sub(p)}return o},we.div=we.divide,we.modulo=function(t){return Wn(t)||(t=ur(t)),Hi?xt((this.unsigned?Hi.rem_u:Hi.rem_s)(this.low,this.high,t.low,t.high),Hi.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},we.mod=we.modulo,we.rem=we.modulo,we.not=function(){return xt(~this.low,~this.high,this.unsigned)},we.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},we.clz=we.countLeadingZeros,we.countTrailingZeros=function(){return this.low?MD(this.low):MD(this.high)+32},we.ctz=we.countTrailingZeros,we.and=function(t){return Wn(t)||(t=ur(t)),xt(this.low&t.low,this.high&t.high,this.unsigned)},we.or=function(t){return Wn(t)||(t=ur(t)),xt(this.low|t.low,this.high|t.high,this.unsigned)},we.xor=function(t){return Wn(t)||(t=ur(t)),xt(this.low^t.low,this.high^t.high,this.unsigned)},we.shiftLeft=function(t){return Wn(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?xt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):xt(0,this.low<<t-32,this.unsigned)},we.shl=we.shiftLeft,we.shiftRight=function(t){return Wn(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?xt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):xt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},we.shr=we.shiftRight,we.shiftRightUnsigned=function(t){return Wn(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?xt(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):xt(32===t?this.high:this.high>>>t-32,0,this.unsigned)},we.shru=we.shiftRightUnsigned,we.shr_u=we.shiftRightUnsigned,we.rotateLeft=function(t){var e;return Wn(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?xt(this.high,this.low,this.unsigned):t<32?xt(this.low<<t|this.high>>>(e=32-t),this.high<<t|this.low>>>e,this.unsigned):xt(this.high<<(t-=32)|this.low>>>(e=32-t),this.low<<t|this.high>>>e,this.unsigned)},we.rotl=we.rotateLeft,we.rotateRight=function(t){var e;return Wn(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?xt(this.high,this.low,this.unsigned):t<32?xt(this.high<<(e=32-t)|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned):xt(this.low<<(e=32-(t-=32))|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)},we.rotr=we.rotateRight,we.toSigned=function(){return this.unsigned?xt(this.low,this.high,!1):this},we.toUnsigned=function(){return this.unsigned?this:xt(this.low,this.high,!0)},we.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},we.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},we.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},Xt.fromBytes=function(t,e,i){return i?Xt.fromBytesLE(t,e):Xt.fromBytesBE(t,e)},Xt.fromBytesLE=function(t,e){return new Xt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},Xt.fromBytesBE=function(t,e){return new Xt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)};const LD=Xt;class ig{constructor(t,e,i,r){this.viewIdFactory=t,this.properties=e,this.timeline=i,this.videoSource=r}static load(t){return Le(function*(){const e=Ll.Trace.decode(yield t.read(ED)),i=new LU,r=LD.fromValue(Pt(e.duration?.seconds)).toNumber()+(e.duration?.nanos??0)/1e9,o=new BU(e.frames?.map(c=>Pt(c.videoTimeSeconds))??[],r),s=function NU(n,t){const e=new Map,i=n.frames.length;for(let o=0;o<i;o++){let a=function(d,p,g){if(null==g)return;const E=d.instanceKey+"#"+p;let S=e.get(E);S||(S={builder:Qm.createNumber(i),viewId:d,propertyName:p},e.set(E,S)),S.builder.setValue(o,g)},c=function(d,p){if(!d)return;const g=t.viewIdOfNode(d);if(a(g,"left",d.left),a(g,"top",d.top),a(g,"width",d.width),a(g,"height",d.height),a(g,"scrollX",d.scrollX),a(g,"scrollY",d.scrollY),a(g,"translationX",d.translationX),a(g,"translationY",d.translationY),a(g,"scaleX",d.scaleX),a(g,"scaleY",d.scaleY),a(g,"alpha",d.alpha),a(g,"willNotDraw",d.willNotDraw?1:0),a(g,"clipChildren",d.clipChildren?1:0),a(g,"visibility",d.visibility),a(g,"elevation",d.elevation),d.children?.length){const E=[...p,d];for(const S of d.children)c(S,E)}};c(n.frames[o].viewHierarchy,[])}const r=[];for(const o of e.values()){const{viewId:s,propertyName:a}=o,p={type:"view-property",label:`${s.label} ${a}`,viewId:s,propertyName:a,selector:"sdfghjkl",series:o.builder.build()};r.push(p)}return new FU(r)}(e,i),a=yield Zm.createVideoSource(t);return new ig(i,s,o,a)})()}dispose(){this.videoSource.dispose(),this.viewIdFactory.dispose()}}const BD=new ve("BlobStorageFactory");class rg{constructor(t){this.rootDirectory=t}static createStorage(t){return Le(function*(){return new rg(yield function VU(n){return og.apply(this,arguments)}(t))})()}writeable(t){var e=this;return Le(function*(){return(yield e.rootDirectory.getFileHandle(t,{create:!0})).createWritable()})()}readable(t){var e=this;return Le(function*(){return(yield(yield e.rootDirectory.getFileHandle(t)).getFile()).stream()})()}objectUrl(t){var e=this;return Le(function*(){const i=yield e.rootDirectory.getFileHandle(t);return URL.createObjectURL(yield i.getFile())})()}read(t){var e=this;return Le(function*(){const i=yield e.rootDirectory.getFileHandle(t);return new Uint8Array(yield(yield i.getFile()).arrayBuffer())})()}}function og(){return(og=Le(function*(n){const t=yield navigator.storage.getDirectory();try{return yield t.getDirectoryHandle(n)}catch{return yield t.getDirectoryHandle(n,{create:!0})}})).apply(this,arguments)}class UD{parse(t){const e=t.split("\n").map(r=>{const o=r.indexOf("#");return r.substring(0,-1!=o?o:r.length).replace(/\s+/," ").trim()}).filter(r=>r.length>0),i=[];for(const r of e){const o=r.split(" "),s=o[0],a=o.slice(1);try{i.push(HU(s,a))}catch(c){return{status:"error",message:c.message}}}return 0==i.length?{status:"empty"}:{status:"success",script:i}}}function HU(n,t){function e(i){const r=t[i];if(!r.match(/\d+/))throw new Error(`[${n}] Expected int argument but got '${r}'`);return parseInt(r)}switch(n){case"begin":return{type:"begin"};case"end":return{type:"end"};case"sleep":if(1!=t.length)throw new Error(`[${n}] wrong number of arguments - expected 1 but got ${t.length}`);return{type:"sleep",durationMillis:e(0)};case"swipe":if(t.length<4)throw new Error(`[${n}] too few arguments - expected 4 but got ${t.length}`);if(t.length>5)throw new Error(`[${n}] too many arguments`);const i=t.length>4?e(4):300;return{type:"swipe",start:{x:e(0),y:e(1)},end:{x:e(2),y:e(3)},durationMillis:i};case"tap":if(2!=t.length)throw new Error(`[${n}] wrong number of arguments - expected 2 but got ${t.length}`);return{type:"tap",at:{x:e(0),y:e(1)}};default:throw new Error(`unknown command "${n}"`)}throw new Error("Function not implemented.")}class VD{constructor(t,e){this._motionConnection=t,this._callbacks=e,this._parser=new UD}run(t){var e=this;return Le(function*(){const i=e.parseAndValidate(t),r={begin:e._callbacks.beginRecording,end:e._callbacks.endRecording,sleep:o=>e._handleSleep(o),swipe:o=>e._handleSwipe(o),tap:o=>e._handleTap(o)};for(const o of i)yield r[o.type](o)})()}parseAndValidate(t){{const e=this._parser.parse(t);if("error"==e.status)throw new Error(e.message);const i=[];return"success"==e.status&&i.push(...e.script),this.validate(i)}}validate(t){let e=-1,i=-1;for(let o=0;o<t.length;o++)if("begin"==t[o].type){if(-1!=e)throw new Error("Validation error: duplicate 'begin'");if(-1!=i)throw new Error("Validation error: 'begin' after 'end'");e=o}else if("end"==t[o].type){if(-1!=i)throw new Error("Validation error: duplicate 'end'");i=o}const r=[...t];return-1==e&&r.unshift({type:"begin"}),-1==i&&r.push({type:"end"}),r}_handleSwipe(t){var e=this;return Le(function*(){yield e._motionConnection.shellCommand(`input swipe ${t.start.x} ${t.start.y} ${t.end.x} ${t.end.y} ${t.durationMillis}`)})()}_handleTap(t){var e=this;return Le(function*(){yield e._motionConnection.shellCommand(`input tap ${t.at.x} ${t.at.y}`)})()}_handleSleep(t){return Le(function*(){yield Al(t.durationMillis)})()}}function HD(n,t){let e=0,i=t.length-1;for(;e<=i;){let r=e+i>>1;if(t[r]===n)return r;n<t[r]?i=r-1:e=r+1}return i<0?0:i<t.length-1&&Math.abs(Number(t[i+1]-n))<Math.abs(Number(t[i]-n))?i+1:i}var as=pD.android.app.motiontool,jD=AU.protobuf.Timestamp,jU=Ll.Frame,zU=Ll.VideoMetadata,zD=Ll.Trace;const sg="recorder.service.ts.lifecycle";let ag=(()=>{class n{constructor(e,i){this._motionConnection=e,this._blobStorageFactory=i,this._inProgressRecording=null,this._isRecording=!1,this._runningTraceDataPoll=Promise.resolve()}get isRecording(){return this._isRecording}loadRecoring(e){var i=this;return Le(function*(){return ig.load(yield i._blobStorageFactory(e))})()}recordScript(e){var i=this;return Le(function*(){return yield navigator.locks.request(sg,Le(function*(){i._isRecording=!0;const r=new Rl;try{return yield new VD(i._motionConnection,{beginRecording:()=>i._doStartRecording(),endRecording:(s=Le(function*(){const a=yield i._doStopRecording();yield a.traceEnded,a.recordingAvailable.then(c=>r.resolve(c))}),function(){return s.apply(this,arguments)})}).run(e),yield r}finally{i._isRecording=!1}var s}))})()}startRecording(e){var i=this;return Le(function*(){yield navigator.locks.request(sg,Le(function*(){i._isRecording=!0,yield i._doStartRecording()}))})()}stopRecording(){var e=this;return Le(function*(){return yield navigator.locks.request(sg,Le(function*(){try{return(yield e._doStopRecording()).recordingAvailable}finally{e._isRecording=!1}}))})()}_doStartRecording(){var e=this;return Le(function*(){os(!e._inProgressRecording);const i=yield e._motionConnection.createVideoCapture(),r=yield e._beginTrace();yield i.record(),e._inProgressRecording=new GU(i,r),e._scheduleTraceDataPoll()})()}_doStopRecording(){var e=this;return Le(function*(){const i=Pt(e._inProgressRecording);e._inProgressRecording=null;const{video:r}=yield i.videoCapture.stop();yield e._cancelTraceDataPoll();const o=crypto.randomUUID(),s=yield e._blobStorageFactory(o),a=e._endTrace(i),c=a.then(Le(function*(){yield(yield r).pipeTo(yield s.writeable(Ym));const{processName:p,windowId:g}=e._motionConnection,E=g.substring(0,g.indexOf("/"));return yield function qU(n,t){return lg.apply(this,arguments)}(s,{recordingId:o,startTime:i.startTime,capturedMotion:i.pollData,processName:p,windowName:E}),o}));return{traceEnded:a,recordingAvailable:c}})()}_beginTrace(){var e=this;return Le(function*(){const i=new as.MotionToolsRequest({beginTrace:new as.BeginTraceRequest({window:new as.WindowIdentifier({rootWindow:e._motionConnection.windowId})})}),r=yield e._motionConnection.sendRequest(i);if(r.error)throw new Error(r.error.message??"Unknown error");return Pt(r.beginTrace?.traceId)})()}_endTrace(e){var i=this;return Le(function*(){const r=new as.MotionToolsRequest({endTrace:new as.EndTraceRequest({traceId:e.traceId})}),o=yield i._motionConnection.sendRequest(r);if(o.error)throw new Error(o.error.message??"Unknown error");const s=Pt(o.endTrace?.exportedData);e.pollData.push(s)})()}_scheduleTraceDataPoll(){var e=this;return Le(function*(){!e._inProgressRecording||(e._scheduledTraceDataPoll=window.setTimeout(Le(function*(){e._scheduledTraceDataPoll=void 0,e._runningTraceDataPoll=e._collectTraceData(),e._runningTraceDataPoll.then(()=>e._scheduleTraceDataPoll())}),5e3))})()}_cancelTraceDataPoll(){var e=this;return Le(function*(){yield e._runningTraceDataPoll,clearInterval(e._scheduledTraceDataPoll)})()}_collectTraceData(){var e=this;return Le(function*(){const i=Pt(e._inProgressRecording),r=new as.MotionToolsRequest({pollTrace:new as.PollTraceRequest({traceId:i.traceId})}),o=yield e._motionConnection.sendRequest(r);if(o.error)throw new Error(o.error.message??"Unknown error");const s=Pt(o.pollTrace?.exportedData);i.pollData.push(s)})()}}return n.\u0275fac=function(e){return new(e||n)(se(Do),se(BD))},n.\u0275prov=Se({token:n,factory:n.\u0275fac}),n})();class GU{constructor(t,e){this.videoCapture=t,this.traceId=e,this.pollData=[],this.startTime=new Date}}function lg(){return(lg=Le(function*(n,t){const e=yield CD(n),i=new Map(t.capturedMotion.flatMap(g=>[...WU(g).entries()]));let r=[...i.keys()].sort(),o=0n;for(let g=1;g<r.length;g++)o+=r[g]-r[g-1];const s=o/BigInt(r.length-1),a=e.videoFrames.map((g,E)=>{const S=HD(g.ptsNanos-4n*s,r);return new jU({frameNumber:g.index,videoTimeSeconds:g.time,viewHierarchy:i.get(r[S])})}),c=new zD({id:t.recordingId,version:1,name:`Recording on ${t.startTime}`,captureTime:new jD({seconds:t.startTime.getTime()/1e3,nanos:t.startTime.getTime()%1e3*1e6}),processName:t.processName,windowName:t.windowName,duration:new jD({seconds:Number(e.duration_nanos/1000000000n),nanos:Number(e.duration_nanos%1000000000n)}),videoMetadata:new zU({widthPx:e.width,heightPx:e.height}),frames:a}),d=zD.encode(c).finish(),p=(yield n.writeable(ED)).getWriter();try{yield p.write(d)}finally{yield p.close(),p.releaseLock()}})).apply(this,arguments)}function WU({frameData:n,classname:t}){function e(i){return t?.at(i)??"UNKNOWN"}return new Map(n.map(({timestamp:i,node:r})=>[dU(LD.fromValue(Pt(i))),$D(Pt(r),e)]))}function $D(n,t){return new Ll.ViewNode({classname:n.classnameIndex?t(n.classnameIndex):null,hashcode:n.hashcode,id:n.id,left:n.left,top:n.top,width:n.width,height:n.height,scrollX:n.scrollX,scrollY:n.scrollY,translationX:n.translationX,translationY:n.translationY,scaleX:n.scaleX,scaleY:n.scaleY,alpha:n.alpha,willNotDraw:n.willNotDraw,clipChildren:n.clipChildren,visibility:n.visibility,elevation:n.elevation,children:n.children?.map(e=>$D(e,t))})}let cg=(()=>{class n extends EventTarget{constructor(){super(...arguments),this.progressCount=0}get isActive(){return this.progressCount>0}trackPromise(e){return queueMicrotask(()=>{this.beginProgress(),e.finally(()=>this.endProgress())}),e}beginProgress(){this.progressCount++,1==this.progressCount&&this.dispatchEvent(new Event("progress-started"))}endProgress(){console.assert(this.progressCount>0),this.progressCount--,0==this.progressCount&&this.dispatchEvent(new Event("progress-ended"))}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=hn(n)))(i||n)}}(),n.\u0275prov=Se({token:n,factory:n.\u0275fac}),n})();const YU=JSON.stringify({loopVideo:!1,playbackRate:1,gestureScript:"",useGestureScript:!1});let Ju=(()=>{class n{constructor(){this._preferences=function KU(){const n=JSON.parse(YU);try{return{...n,...JSON.parse(localStorage.getItem("preferences")??"{}")}}catch(t){return console.error("Unable to restore preferences",t),n}}()}get loopVideo(){return this._preferences.loopVideo}set loopVideo(e){this.loopVideo!=e&&(this._preferences.loopVideo=e,ed(this._preferences))}get playbackRate(){return this._preferences.playbackRate}set playbackRate(e){this.playbackRate!=e&&(this._preferences.playbackRate=e,ed(this._preferences))}get gestureScript(){return this._preferences.gestureScript}set gestureScript(e){this.gestureScript!=e&&(this._preferences.gestureScript=e,ed(this._preferences))}get useGestureScript(){return this._preferences.useGestureScript}set useGestureScript(e){this.useGestureScript!=e&&(this._preferences.useGestureScript=e,ed(this._preferences))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Se({token:n,factory:n.\u0275fac}),n})();function ed(n){localStorage.setItem("preferences",JSON.stringify(n))}function Fe(...n){return mn(n,Pa(n))}class di extends I{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const td=Y(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:XU}=Array,{getPrototypeOf:ZU,prototype:QU,keys:JU}=Object;function GD(n){if(1===n.length){const t=n[0];if(XU(t))return{args:t,keys:null};if(function e3(n){return n&&"object"==typeof n&&ZU(n)===QU}(t)){const e=JU(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:t3}=Array;function ug(n){return j(t=>function n3(n,t){return t3(t)?n(...t):n(t)}(n,t))}function qD(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function dg(...n){const t=Pa(n),e=My(n),{args:i,keys:r}=GD(n);if(0===i.length)return mn([],t);const o=new Qe(function r3(n,t,e=Jt){return i=>{WD(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)WD(t,()=>{const d=mn(n[c],t);let p=!1;d.subscribe(ee(i,g=>{o[c]=g,p||(p=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>qD(r,s):Jt));return e?o.pipe(ug(e)):o}function WD(n,t,e){n?Or(e,n,t):t()}function YD(n){return new Qe(t=>{Bn(n()).subscribe(t)})}function ls(n,t){const e=D(n)?n:()=>n,i=r=>r.error(e());return new Qe(t?r=>t.schedule(i,0,r):i)}function hg(){return ce((n,t)=>{let e=null;n._refCount++;const i=ee(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class fg extends Qe{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,re(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new k;const e=this.getSubject();t.add(this.source.subscribe(ee(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=k.EMPTY)}return t}refCount(){return hg()(this)}}function Fn(n,t){return ce((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(ee(i,c=>{r?.unsubscribe();let d=0;const p=o++;Bn(n(c,p)).subscribe(r=ee(i,g=>i.next(t?t(c,g,p,d++):g),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function hr(...n){const t=Pa(n);return ce((e,i)=>{(t?Fl(n,e,t):Fl(n,e)).subscribe(i)})}function Mt(n,t){return ce((e,i)=>{let r=0;e.subscribe(ee(i,o=>n.call(t,o,r++)&&i.next(o)))})}function nd(n){return ce((t,e)=>{let i=!1;t.subscribe(ee(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function KD(n=o3){return ce((t,e)=>{let i=!1;t.subscribe(ee(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function o3(){return new td}function eo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Mt((r,o)=>n(r,o,i)):Jt,qn(1),e?nd(t):KD(()=>new td))}function So(n,t){return D(t)?En(n,t,1):En(n,1)}function Vt(n,t,e){const i=D(n)||t||e?{next:n,error:t,complete:e}:n;return i?ce((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(ee(o,c=>{var d;null===(d=i.next)||void 0===d||d.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var d;a=!1,null===(d=i.error)||void 0===d||d.call(i,c),o.error(c)},()=>{var c,d;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(d=i.finalize)||void 0===d||d.call(i)}))}):Jt}function xr(n){return ce((t,e)=>{let o,i=null,r=!1;i=t.subscribe(ee(e,void 0,void 0,s=>{o=Bn(n(s,xr(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function s3(n,t,e,i,r){return(o,s)=>{let a=e,c=t,d=0;o.subscribe(ee(s,p=>{const g=d++;c=a?n(c,p,g):(a=!0,p),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function pg(n,t){return ce(s3(n,t,arguments.length>=2,!0))}function mg(n){return n<=0?()=>Ki:ce((t,e)=>{let i=[];t.subscribe(ee(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function XD(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Mt((r,o)=>n(r,o,i)):Jt,mg(1),e?nd(t):KD(()=>new td))}function id(n){return ce((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const dt="primary",Bl=Symbol("RouteTitle");class l3{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ga(n){return new l3(n)}function c3(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Mr(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!ZD(n[r],t[r]))return!1;return!0}function ZD(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function QD(n){return Array.prototype.concat.apply([],n)}function JD(n){return n.length>0?n[n.length-1]:null}function Nn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function xo(n){return Ip(n)?n:ul(n)?mn(Promise.resolve(n)):Fe(n)}const h3={exact:function nS(n,t,e){if(!us(n.segments,t.segments)||!rd(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!nS(n.children[i],t.children[i],e))return!1;return!0},subset:iS},eS={exact:function f3(n,t){return Mr(n,t)},subset:function p3(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>ZD(n[e],t[e]))},ignored:()=>!0};function tS(n,t,e){return h3[e.paths](n.root,t.root,e.matrixParams)&&eS[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function iS(n,t,e){return rS(n,t,t.segments,e)}function rS(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!us(r,e)||t.hasChildren()||!rd(r,e,i))}if(n.segments.length===e.length){if(!us(n.segments,e)||!rd(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!iS(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(us(n.segments,r)&&rd(n.segments,r,i)&&n.children[dt])&&rS(n.children[dt],t,o,i)}}function rd(n,t,e){return t.every((i,r)=>eS[e](n[r].parameters,i.parameters))}class cs{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ga(this.queryParams)),this._queryParamMap}toString(){return _3.serialize(this)}}class ft{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Nn(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return od(this)}}class Ul{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ga(this.parameters)),this._parameterMap}toString(){return lS(this)}}function us(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let oS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Se({token:n,factory:function(){return new _g},providedIn:"root"}),n})();class _g{parse(t){const e=new x3(t);return new cs(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Vl(t.root,!0)}`,i=function b3(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${sd(e)}=${sd(r)}`).join("&"):`${sd(e)}=${sd(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function y3(n){return encodeURI(n)}(t.fragment)}`:""}`}}const _3=new _g;function od(n){return n.segments.map(t=>lS(t)).join("/")}function Vl(n,t){if(!n.hasChildren())return od(n);if(t){const e=n.children[dt]?Vl(n.children[dt],!1):"",i=[];return Nn(n.children,(r,o)=>{o!==dt&&i.push(`${o}:${Vl(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function g3(n,t){let e=[];return Nn(n.children,(i,r)=>{r===dt&&(e=e.concat(t(i,r)))}),Nn(n.children,(i,r)=>{r!==dt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===dt?[Vl(n.children[dt],!1)]:[`${r}:${Vl(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[dt]?`${od(n)}/${e[0]}`:`${od(n)}/(${e.join("//")})`}}function sS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sd(n){return sS(n).replace(/%3B/gi,";")}function yg(n){return sS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ad(n){return decodeURIComponent(n)}function aS(n){return ad(n.replace(/\+/g,"%20"))}function lS(n){return`${yg(n.path)}${function v3(n){return Object.keys(n).map(t=>`;${yg(t)}=${yg(n[t])}`).join("")}(n.parameters)}`}const w3=/^[^\/()?;=#]+/;function ld(n){const t=n.match(w3);return t?t[0]:""}const E3=/^[^=?&#]+/,D3=/^[^&#]+/;class x3{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ft([],{}):new ft([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[dt]=new ft(t,e)),i}parseSegment(){const t=ld(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new de(4009,!1);return this.capture(t),new Ul(ad(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ld(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=ld(this.remaining);r&&(i=r,this.capture(i))}t[ad(e)]=ad(i)}parseQueryParam(t){const e=function C3(n){const t=n.match(E3);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function S3(n){const t=n.match(D3);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=aS(e),o=aS(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ld(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new de(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=dt);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[dt]:new ft([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new de(4011,!1)}}function vg(n){return n.segments.length>0?new ft([],{[dt]:n}):n}function cd(n){const t={};for(const i of Object.keys(n.children)){const o=cd(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function M3(n){if(1===n.numberOfChildren&&n.children[dt]){const t=n.children[dt];return new ft(n.segments.concat(t.segments),t.children)}return n}(new ft(n.segments,t))}function ds(n){return n instanceof cs}function I3(n,t,e,i,r){if(0===e.length)return _a(t.root,t.root,t.root,i,r);const o=function dS(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new uS(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Nn(o.outlets,(c,d)=>{a[d]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new uS(e,t,i)}(e);return o.toRoot()?_a(t.root,t.root,new ft([],{}),i,r):function s(c){const d=function R3(n,t,e,i){if(n.isAbsolute)return new ya(t.root,!0,0);if(-1===i)return new ya(e,e===t.root,0);return function hS(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new de(4005,!1);r=i.segments.length}return new ya(i,!1,r-o)}(e,i+(Hl(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,c),p=d.processChildren?zl(d.segmentGroup,d.index,o.commands):wg(d.segmentGroup,d.index,o.commands);return _a(t.root,d.segmentGroup,p,i,r)}(n.snapshot?._lastPathIndex)}function Hl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function jl(n){return"object"==typeof n&&null!=n&&n.outlets}function _a(n,t,e,i,r){let s,o={};i&&Nn(i,(c,d)=>{o[d]=Array.isArray(c)?c.map(p=>`${p}`):`${c}`}),s=n===t?e:cS(n,t,e);const a=vg(cd(s));return new cs(a,o,r)}function cS(n,t,e){const i={};return Nn(n.children,(r,o)=>{i[o]=r===t?e:cS(r,t,e)}),new ft(n.segments,i)}class uS{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Hl(i[0]))throw new de(4003,!1);const r=i.find(jl);if(r&&r!==JD(i))throw new de(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ya{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function wg(n,t,e){if(n||(n=new ft([],{})),0===n.segments.length&&n.hasChildren())return zl(n,t,e);const i=function P3(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(jl(a))break;const c=`${a}`,d=i<e.length-1?e[i+1]:null;if(r>0&&void 0===c)break;if(c&&d&&"object"==typeof d&&void 0===d.outlets){if(!pS(c,d,s))return o;i+=2}else{if(!pS(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new ft(n.segments.slice(0,i.pathIndex),{});return o.children[dt]=new ft(n.segments.slice(i.pathIndex),n.children),zl(o,0,r)}return i.match&&0===r.length?new ft(n.segments,{}):i.match&&!n.hasChildren()?Eg(n,t,e):i.match?zl(n,0,r):Eg(n,t,e)}function zl(n,t,e){if(0===e.length)return new ft(n.segments,{});{const i=function O3(n){return jl(n[0])?n[0].outlets:{[dt]:n}}(e),r={};return Nn(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=wg(n.children[s],t,o))}),Nn(n.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new ft(n.segments,r)}}function Eg(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(jl(o)){const c=F3(o.outlets);return new ft(i,c)}if(0===r&&Hl(e[0])){i.push(new Ul(n.segments[t].path,fS(e[0]))),r++;continue}const s=jl(o)?o.outlets[dt]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&Hl(a)?(i.push(new Ul(s,fS(a))),r+=2):(i.push(new Ul(s,{})),r++)}return new ft(i,{})}function F3(n){const t={};return Nn(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Eg(new ft([],{}),0,e))}),t}function fS(n){const t={};return Nn(n,(e,i)=>t[i]=`${e}`),t}function pS(n,t,e){return n==e.path&&Mr(t,e.parameters)}class to{constructor(t,e){this.id=t,this.url=e}}class Cg extends to{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hs extends to{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ud extends to{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mS extends to{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class N3 extends to{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class L3 extends to{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B3 extends to{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class U3 extends to{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V3 extends to{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class H3{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class j3{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class z3{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $3{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class G3{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class q3{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gS{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class _S{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Dg(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Dg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Sg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Sg(t,this._root).map(e=>e.value)}}function Dg(n,t){if(n===t.value)return t;for(const e of t.children){const i=Dg(n,e);if(i)return i}return null}function Sg(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Sg(n,e);if(i.length)return i.unshift(t),i}return[]}class no{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function va(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class yS extends _S{constructor(t,e){super(t),this.snapshot=e,xg(this,t)}toString(){return this.snapshot.toString()}}function vS(n,t){const e=function Y3(n,t){const s=new dd([],{},{},"",{},dt,t,null,n.root,-1,{});return new wS("",new no(s,[]))}(n,t),i=new di([new Ul("",{})]),r=new di({}),o=new di({}),s=new di({}),a=new di(""),c=new Mo(i,r,s,a,o,dt,t,e.root);return c.snapshot=e.root,new yS(new no(c,[]),e)}class Mo{constructor(t,e,i,r,o,s,a,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(j(d=>d[Bl]))??Fe(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(j(t=>ga(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(j(t=>ga(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bS(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function K3(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class dd{constructor(t,e,i,r,o,s,a,c,d,p,g,E){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.[Bl],this.routeConfig=c,this._urlSegment=d,this._lastPathIndex=p,this._correctedLastPathIndex=E??p,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ga(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ga(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wS extends _S{constructor(t,e){super(e),this.url=t,xg(this,e)}toString(){return ES(this._root)}}function xg(n,t){t.value._routerState=n,t.children.forEach(e=>xg(n,e))}function ES(n){const t=n.children.length>0?` { ${n.children.map(ES).join(", ")} } `:"";return`${n.value}${t}`}function Mg(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Mr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Mr(t.params,e.params)||n.params.next(e.params),function u3(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Mr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Mr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Tg(n,t){const e=Mr(n.params,t.params)&&function m3(n,t){return us(n,t)&&n.every((e,i)=>Mr(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Tg(n.parent,t.parent))}function $l(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Z3(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return $l(n,i,r);return $l(n,i)})}(n,t,e);return new no(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>$l(n,a)),s}}const i=function Q3(n){return new Mo(new di(n.url),new di(n.params),new di(n.queryParams),new di(n.fragment),new di(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>$l(n,o));return new no(i,r)}}const kg="ngNavigationCancelingError";function CS(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=ds(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=DS(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function DS(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[kg]=!0,i.cancellationCode=t,e&&(i.url=e),i}function SS(n){return xS(n)&&ds(n.url)}function xS(n){return n&&n[kg]}class J3{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Gl,this.attachRef=null}}let Gl=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new J3,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hd=!1;let Ig=(()=>{class n{constructor(e,i,r,o,s){this.parentContexts=e,this.location=i,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ze,this.deactivateEvents=new Ze,this.attachEvents=new Ze,this.detachEvents=new Ze,this.name=r||dt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new de(4012,hd);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new de(4012,hd);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new de(4012,hd);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new de(4013,hd);this._activatedRoute=e;const r=this.location,s=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new eV(e,a,r.injector);if(i&&function tV(n){return!!n.resolveComponentFactory}(i)){const d=i.resolveComponentFactory(s);this.activated=r.createComponent(d,r.length,c)}else this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(V(Gl),V(In),yr("name"),V(Pn),V(mo))},n.\u0275dir=Re({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class eV{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Mo?this.route:t===Gl?this.childContexts:this.parent.get(t,e)}}let Ag=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bt({type:n,selectors:[["ng-component"]],standalone:!0,features:[tE],decls:1,vars:0,template:function(e,i){1&e&&rt(0,"router-outlet")},dependencies:[Ig],encapsulation:2}),n})();function MS(n,t){return n.providers&&!n._injector&&(n._injector=Eu(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Og(n){const t=n.children&&n.children.map(Og),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==dt&&(e.component=Ag),e}function zi(n){return n.outlet||dt}function TS(n,t){const e=n.filter(i=>zi(i)===t);return e.push(...n.filter(i=>zi(i)!==t)),e}function ql(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class sV{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Mg(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=va(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Nn(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=va(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=va(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=va(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new q3(o.value.snapshot))}),t.children.length&&this.forwardEvent(new $3(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(Mg(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Mg(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=ql(r.snapshot),c=a?.get(go)??null;s.attachRef=null,s.route=r,s.resolver=c,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class kS{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class fd{constructor(t,e){this.component=t,this.route=e}}function aV(n,t,e){const i=n._root;return Wl(i,t?t._root:null,e,[i.value])}function ba(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function kk(n){return null!==Dc(n)}(n)?t.get(n):n:i}function Wl(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=va(t);return n.children.forEach(s=>{(function cV(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function uV(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!us(n.url,t.url);case"pathParamsOrQueryParamsChange":return!us(n.url,t.url)||!Mr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tg(n,t)||!Mr(n.queryParams,t.queryParams);default:return!Tg(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new kS(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Wl(n,t,o.component?a?a.children:null:e,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new fd(a.outlet.component,s))}else s&&Yl(t,a,r),r.canActivateChecks.push(new kS(i)),Wl(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Nn(o,(s,a)=>Yl(s,e.getContext(a),r)),r}function Yl(n,t,e){const i=va(n),r=n.value;Nn(i,(o,s)=>{Yl(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new fd(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Kl(n){return"function"==typeof n}function Pg(n){return n instanceof td||"EmptyError"===n?.name}const pd=Symbol("INITIAL_VALUE");function wa(){return Fn(n=>dg(n.map(t=>t.pipe(qn(1),hr(pd)))).pipe(j(t=>{for(const e of t)if(!0!==e){if(e===pd)return pd;if(!1===e||e instanceof cs)return e}return!0}),Mt(t=>t!==pd),qn(1)))}function IS(n){return function wn(...n){return nn(n)}(Vt(t=>{if(ds(t))throw CS(0,t)}),j(t=>!0===t))}const Fg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function AS(n,t,e,i,r){const o=Ng(n,t,e);return o.matched?function MV(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Fe(r.map(s=>{const a=ba(s,n);return xo(function gV(n){return n&&Kl(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(wa(),IS()):Fe(!0)}(i=MS(t,i),t,e).pipe(j(s=>!0===s?o:{...Fg})):Fe(o)}function Ng(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Fg}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||c3)(e,n,t);if(!r)return{...Fg};const o={};Nn(r.posParams,(a,c)=>{o[c]=a.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function md(n,t,e,i,r="corrected"){if(e.length>0&&function IV(n,t,e){return e.some(i=>gd(n,t,i)&&zi(i)!==dt)}(n,e,i)){const s=new ft(t,function kV(n,t,e,i){const r={};r[dt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&zi(o)!==dt){const s=new ft([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,r[zi(o)]=s}return r}(n,t,i,new ft(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function AV(n,t,e){return e.some(i=>gd(n,t,i))}(n,e,i)){const s=new ft(n.segments,function TV(n,t,e,i,r,o){const s={};for(const a of i)if(gd(n,e,a)&&!r[zi(a)]){const c=new ft([],{});c._sourceSegment=n,c._segmentIndexShift="legacy"===o?n.segments.length:t.length,s[zi(a)]=c}return{...r,...s}}(n,t,e,i,n.children,r));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new ft(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function gd(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function RS(n,t,e,i){return!!(zi(n)===i||i!==dt&&gd(t,e,n))&&("**"===n.path||Ng(t,n,e).matched)}function OS(n,t,e){return 0===t.length&&!n.children[e]}const _d=!1;class yd{constructor(t){this.segmentGroup=t||null}}class PS{constructor(t){this.urlTree=t}}function Xl(n){return ls(new yd(n))}function FS(n){return ls(new PS(n))}class FV{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=md(this.urlTree.root,[],[],this.config).segmentGroup,e=new ft(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,dt).pipe(j(o=>this.createUrlTree(cd(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xr(o=>{if(o instanceof PS)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof yd?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,dt).pipe(j(r=>this.createUrlTree(cd(r),t.queryParams,t.fragment))).pipe(xr(r=>{throw r instanceof yd?this.noMatchError(r):r}))}noMatchError(t){return new de(4002,_d)}createUrlTree(t,e,i){const r=vg(t);return new cs(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(j(o=>new ft([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return mn(r).pipe(So(o=>{const s=i.children[o],a=TS(e,o);return this.expandSegmentGroup(t,a,s,o).pipe(j(c=>({segment:c,outlet:o})))}),pg((o,s)=>(o[s.outlet]=s.segment,o),{}),XD())}expandSegment(t,e,i,r,o,s){return mn(i).pipe(So(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,o,s).pipe(xr(d=>{if(d instanceof yd)return Fe(null);throw d}))),eo(a=>!!a),xr((a,c)=>{if(Pg(a))return OS(e,r,o)?Fe(new ft([],{})):Xl(e);throw a}))}expandSegmentAgainstRoute(t,e,i,r,o,s,a){return RS(r,e,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s):Xl(e):Xl(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?FS(o):this.lineralizeSegments(i,o).pipe(En(s=>{const a=new ft(s,{});return this.expandSegment(t,a,e,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:c,remainingSegments:d,positionalParamSegments:p}=Ng(e,r,o);if(!a)return Xl(e);const g=this.applyRedirectCommands(c,r.redirectTo,p);return r.redirectTo.startsWith("/")?FS(g):this.lineralizeSegments(r,g).pipe(En(E=>this.expandSegment(t,e,i,E.concat(d),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=MS(i,t),i.loadChildren?(i._loadedRoutes?Fe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(j(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new ft(r,{})))):Fe(new ft(r,{}))):AS(e,i,r,t).pipe(Fn(({matched:s,consumedSegments:a,remainingSegments:c})=>s?this.getChildConfig(t=i._injector??t,i,r).pipe(En(p=>{const g=p.injector??t,E=p.routes,{segmentGroup:S,slicedSegments:R}=md(e,a,c,E),W=new ft(S.segments,S.children);if(0===R.length&&W.hasChildren())return this.expandChildren(g,E,W).pipe(j(oe=>new ft(a,oe)));if(0===E.length&&0===R.length)return Fe(new ft(a,{}));const te=zi(i)===o;return this.expandSegment(g,W,E,R,te?dt:o,!0).pipe(j(_e=>new ft(a.concat(_e.segments),_e.children)))})):Xl(e)))}getChildConfig(t,e,i){return e.children?Fe({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Fe({routes:e._loadedRoutes,injector:e._loadedInjector}):function xV(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Fe(!0):Fe(r.map(s=>{const a=ba(s,n);return xo(function hV(n){return n&&Kl(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(wa(),IS())}(t,e,i).pipe(En(r=>r?this.configLoader.loadChildren(t,e).pipe(Vt(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function OV(n){return ls(DS(_d,3))}())):Fe({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Fe(i);if(r.numberOfChildren>1||!r.children[dt])return ls(new de(4e3,_d));r=r.children[dt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new cs(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Nn(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return Nn(e.children,(a,c)=>{s[c]=this.createSegmentGroup(t,a,i,r)}),new ft(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new de(4001,_d);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class LV{}class VV{constructor(t,e,i,r,o,s,a,c){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=c}recognize(){const t=md(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,dt).pipe(j(e=>{if(null===e)return null;const i=new dd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},dt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new no(i,e),o=new wS(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=bS(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return mn(Object.keys(i.children)).pipe(So(r=>{const o=i.children[r],s=TS(e,r);return this.processSegmentGroup(t,s,o,r)}),pg((r,o)=>r&&o?(r.push(...o),r):null),function a3(n,t=!1){return ce((e,i)=>{let r=0;e.subscribe(ee(i,o=>{const s=n(o,r++);(s||t)&&i.next(o),!s&&i.complete()}))})}(r=>null!==r),nd(null),XD(),j(r=>{if(null===r)return null;const o=NS(r);return function HV(n){n.sort((t,e)=>t.value.outlet===dt?-1:e.value.outlet===dt?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return mn(e).pipe(So(s=>this.processSegmentAgainstRoute(s._injector??t,s,i,r,o)),eo(s=>!!s),xr(s=>{if(Pg(s))return OS(i,r,o)?Fe([]):Fe(null);throw s}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!RS(e,i,r,o))return Fe(null);let s;if("**"===e.path){const a=r.length>0?JD(r).parameters:{},c=BS(i)+r.length;s=Fe({snapshot:new dd(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VS(e),zi(e),e.component??e._loadedComponent??null,e,LS(i),c,HS(e),c),consumedSegments:[],remainingSegments:[]})}else s=AS(i,e,r,t).pipe(j(({matched:a,consumedSegments:c,remainingSegments:d,parameters:p})=>{if(!a)return null;const g=BS(i)+c.length;return{snapshot:new dd(c,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VS(e),zi(e),e.component??e._loadedComponent??null,e,LS(i),g,HS(e),g),consumedSegments:c,remainingSegments:d}}));return s.pipe(Fn(a=>{if(null===a)return Fe(null);const{snapshot:c,consumedSegments:d,remainingSegments:p}=a;t=e._injector??t;const g=e._loadedInjector??t,E=function jV(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:S,slicedSegments:R}=md(i,d,p,E.filter(te=>void 0===te.redirectTo),this.relativeLinkResolution);if(0===R.length&&S.hasChildren())return this.processChildren(g,E,S).pipe(j(te=>null===te?null:[new no(c,te)]));if(0===E.length&&0===R.length)return Fe([new no(c,[])]);const W=zi(e)===o;return this.processSegment(g,E,S,R,W?dt:o).pipe(j(te=>null===te?null:[new no(c,te)]))}))}}function zV(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function NS(n){const t=[],e=new Set;for(const i of n){if(!zV(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=NS(i.children);t.push(new no(i.value,r))}return t.filter(i=>!e.has(i))}function LS(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function BS(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function VS(n){return n.data||{}}function HS(n){return n.resolve||{}}function jS(n){return"string"==typeof n.title||null===n.title}function Lg(n){return Fn(t=>{const e=n(t);return e?mn(e).pipe(j(()=>t)):Fe(t)})}let zS=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===dt);return i}getResolvedTitleForRoute(e){return e.data[Bl]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Se({token:n,factory:function(){return $t($S)},providedIn:"root"}),n})(),$S=(()=>{class n extends zS{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(se(sD))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ZV{}class JV extends class QV{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const bd=new ve("",{providedIn:"root",factory:()=>({})}),Bg=new ve("ROUTES");let Ug=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Fe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=xo(e.loadComponent()).pipe(Vt(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),id(()=>{this.componentLoaders.delete(e)})),r=new fg(i,()=>new I).pipe(hg());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Fe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(j(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let c,d,p=!1;Array.isArray(a)?d=a:(c=a.create(e).injector,d=QD(c.get(Bg,[],ze.Self|ze.Optional)));return{routes:d.map(Og),injector:c}}),id(()=>{this.childrenLoaders.delete(i)})),s=new fg(o,()=>new I).pipe(hg());return this.childrenLoaders.set(i,s),s}loadModuleFactoryOrRoutes(e){return xo(e()).pipe(En(i=>i instanceof Jw||Array.isArray(i)?Fe(i):mn(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(se(jn),se(nm))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class qS{}class t8{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function n8(n){throw n}function i8(n,t,e){return t.parse("/")}const r8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},o8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function WS(){const n=$t(oS),t=$t(Gl),e=$t(Ou),i=$t(jn),r=$t(nm),o=$t(Bg,{optional:!0})??[],s=$t(bd,{optional:!0})??{},a=$t($S),c=$t(zS,{optional:!0}),d=$t(qS,{optional:!0}),p=$t(ZV,{optional:!0}),g=new Tn(null,n,t,e,i,r,QD(o));return d&&(g.urlHandlingStrategy=d),p&&(g.routeReuseStrategy=p),g.titleStrategy=c??a,function s8(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(s,g),g}let Tn=(()=>{class n{constructor(e,i,r,o,s,a,c){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new I,this.errorHandler=n8,this.malformedUriErrorHandler=i8,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Fe(void 0),this.urlHandlingStrategy=new t8,this.routeReuseStrategy=new JV,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(Ug),this.configLoader.onLoadEndListener=E=>this.triggerEvent(new j3(E)),this.configLoader.onLoadStartListener=E=>this.triggerEvent(new H3(E)),this.ngModule=s.get(es),this.console=s.get(a2);const g=s.get(qe);this.isNgZoneEnabled=g instanceof qe&&qe.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function d3(){return new cs(new ft([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vS(this.currentUrlTree,this.rootComponentType),this.transitions=new di({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Mt(r=>0!==r.id),j(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Fn(r=>{let o=!1,s=!1;return Fe(r).pipe(Vt(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Fn(a=>{const c=this.browserUrlTree.toString(),d=!this.navigated||a.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||d)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return YS(a.source)&&(this.browserUrlTree=a.extractedUrl),Fe(a).pipe(Fn(g=>{const E=this.transitions.getValue();return i.next(new Cg(g.id,this.serializeUrl(g.extractedUrl),g.source,g.restoredState)),E!==this.transitions.getValue()?Ki:Promise.resolve(g)}),function NV(n,t,e,i){return Fn(r=>function PV(n,t,e,i,r){return new FV(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(j(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Vt(g=>{this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects},r.urlAfterRedirects=g.urlAfterRedirects}),function GV(n,t,e,i,r,o){return En(s=>function UV(n,t,e,i,r,o,s="emptyOnly",a="legacy"){return new VV(n,t,e,i,r,s,a,o).recognize().pipe(Fn(c=>null===c?function BV(n){return new Qe(t=>t.error(n))}(new LV):Fe(c)))}(n,t,e,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r,o).pipe(j(a=>({...s,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Vt(g=>{if(r.targetSnapshot=g.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!g.extras.skipLocationChange){const S=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl);this.setBrowserUrl(S,g)}this.browserUrlTree=g.urlAfterRedirects}const E=new N3(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);i.next(E)}));if(d&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:E,extractedUrl:S,source:R,restoredState:W,extras:te}=a,le=new Cg(E,this.serializeUrl(S),R,W);i.next(le);const _e=vS(S,this.rootComponentType).snapshot;return Fe(r={...a,targetSnapshot:_e,urlAfterRedirects:S,extras:{...te,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Ki}),Vt(a=>{const c=new L3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(c)}),j(a=>r={...a,guards:aV(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function yV(n,t){return En(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?Fe({...e,guardsResult:!0}):function vV(n,t,e,i){return mn(n).pipe(En(r=>function SV(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Fe(o.map(a=>{const c=ql(t)??r,d=ba(a,c);return xo(function mV(n){return n&&Kl(n.canDeactivate)}(d)?d.canDeactivate(n,t,e,i):c.runInContext(()=>d(n,t,e,i))).pipe(eo())})).pipe(wa()):Fe(!0)}(r.component,r.route,e,t,i)),eo(r=>!0!==r,!0))}(s,i,r,n).pipe(En(a=>a&&function dV(n){return"boolean"==typeof n}(a)?function bV(n,t,e,i){return mn(t).pipe(So(r=>Fl(function EV(n,t){return null!==n&&t&&t(new z3(n)),Fe(!0)}(r.route.parent,i),function wV(n,t){return null!==n&&t&&t(new G3(n)),Fe(!0)}(r.route,i),function DV(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function lV(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>YD(()=>Fe(s.guards.map(c=>{const d=ql(s.node)??e,p=ba(c,d);return xo(function pV(n){return n&&Kl(n.canActivateChild)}(p)?p.canActivateChild(i,n):d.runInContext(()=>p(i,n))).pipe(eo())})).pipe(wa())));return Fe(o).pipe(wa())}(n,r.path,e),function CV(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Fe(!0);const r=i.map(o=>YD(()=>{const s=ql(t)??e,a=ba(o,s);return xo(function fV(n){return n&&Kl(n.canActivate)}(a)?a.canActivate(t,n):s.runInContext(()=>a(t,n))).pipe(eo())}));return Fe(r).pipe(wa())}(n,r.route,e))),eo(r=>!0!==r,!0))}(i,o,n,t):Fe(a)),j(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Vt(a=>{if(r.guardsResult=a.guardsResult,ds(a.guardsResult))throw CS(0,a.guardsResult);const c=new B3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(c)}),Mt(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Lg(a=>{if(a.guards.canActivateChecks.length)return Fe(a).pipe(Vt(c=>{const d=new U3(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(d)}),Fn(c=>{let d=!1;return Fe(c).pipe(function qV(n,t){return En(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Fe(e);let o=0;return mn(r).pipe(So(s=>function WV(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!jS(r)&&(o[Bl]=r.title),function YV(n,t,e,i){const r=function KV(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Fe({});const o={};return mn(r).pipe(En(s=>function XV(n,t,e,i){const r=ql(t)??i,o=ba(n,r);return xo(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[s],t,e,i).pipe(eo(),Vt(a=>{o[s]=a}))),mg(1),vD(o),xr(s=>Pg(s)?Ki:ls(s)))}(o,n,t,i).pipe(j(s=>(n._resolvedData=s,n.data=bS(n,e).resolve,r&&jS(r)&&(n.data[Bl]=r.title),null)))}(s.route,i,n,t)),Vt(()=>o++),mg(1),En(s=>o===r.length?Fe(e):Ki))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Vt({next:()=>d=!0,complete:()=>{d||(this.restoreHistory(c),this.cancelNavigationTransition(c,"",2))}}))}),Vt(c=>{const d=new V3(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(d)}))}),Lg(a=>{const c=d=>{const p=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(d.routeConfig).pipe(Vt(g=>{d.component=g}),j(()=>{})));for(const g of d.children)p.push(...c(g));return p};return dg(c(a.targetSnapshot.root)).pipe(nd(),qn(1))}),Lg(()=>this.afterPreactivation()),j(a=>{const c=function X3(n,t,e){const i=$l(n,t._root,e?e._root:void 0);return new yS(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return r={...a,targetRouterState:c}}),Vt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>j(i=>(new sV(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Vt({next(){o=!0},complete(){o=!0}}),id(()=>{o||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),xr(a=>{if(s=!0,xS(a)){SS(a)||(this.navigated=!0,this.restoreHistory(r,!0));const c=new ud(r.id,this.serializeUrl(r.extractedUrl),a.message,a.cancellationCode);if(i.next(c),SS(a)){const d=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),p={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||YS(r.source)};this.scheduleNavigation(d,"imperative",null,p,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const c=new mS(r.id,this.serializeUrl(r.extractedUrl),a,r.targetSnapshot??void 0);i.next(c);try{r.resolve(this.errorHandler(a))}catch(d){r.reject(d)}}return Ki}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const a={...o};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(r.state=a)}const s=this.parseUrl(e.url);this.scheduleNavigation(s,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Og),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,d=r||this.routerState.root,p=c?this.currentUrlTree.fragment:s;let g=null;switch(a){case"merge":g={...this.currentUrlTree.queryParams,...o};break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}return null!==g&&(g=this.removeEmptyProps(g)),I3(d,this.currentUrlTree,e,g,p??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=ds(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function a8(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new de(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...r8}:!1===i?{...o8}:i,ds(e))return tS(this.currentUrlTree,e,r);const o=this.parseUrl(e);return tS(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new hs(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,d;s?(a=s.resolve,c=s.reject,d=s.promise):d=new Promise((E,S)=>{a=E,c=S});const p=++this.navigationId;let g;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),g=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):g=0,this.setTransition({id:p,targetPageId:g,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(E=>Promise.reject(E))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const o=new ud(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){ol()},n.\u0275prov=Se({token:n,factory:function(){return WS()},providedIn:"root"}),n})();function YS(n){return"imperative"!==n}class KS{}let u8=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Mt(e=>e instanceof hs),So(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=Eu(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return mn(r).pipe(xs())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Fe(null);const o=r.pipe(En(s=>null===s?Fe(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return i.loadComponent&&!i._loadedComponent?mn([o,this.loader.loadComponent(i)]).pipe(xs()):o})}}return n.\u0275fac=function(e){return new(e||n)(se(Tn),se(nm),se(mo),se(KS),se(Ug))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jg=new ve("");let XS=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Cg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof hs&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof gS&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new gS(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){ol()},n.\u0275prov=Se({token:n,factory:n.\u0275fac}),n})();function Ea(n,t){return{\u0275kind:n,\u0275providers:t}}function zg(n){return[{provide:Bg,multi:!0,useValue:n}]}function QS(){const n=$t(jn);return t=>{const e=n.get(ns);if(t!==e.components[0])return;const i=n.get(Tn),r=n.get(JS);1===n.get($g)&&i.initialNavigation(),n.get(ex,null,ze.Optional)?.setUpPreloading(),n.get(jg,null,ze.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const JS=new ve("",{factory:()=>new I}),$g=new ve("",{providedIn:"root",factory:()=>1});const ex=new ve("");function p8(n){return Ea(0,[{provide:ex,useExisting:u8},{provide:KS,useExisting:n}])}const tx=new ve("ROUTER_FORROOT_GUARD"),m8=[Ou,{provide:oS,useClass:_g},{provide:Tn,useFactory:WS},Gl,{provide:Mo,useFactory:function ZS(n){return n.routerState.root},deps:[Tn]},Ug];function g8(){return new YE("Router",Tn)}let nx=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[m8,[],zg(e),{provide:tx,useFactory:b8,deps:[[Tn,new po,new zs]]},{provide:bd,useValue:i||{}},i?.useHash?{provide:bo,useClass:bC}:{provide:bo,useClass:vC},{provide:jg,useFactory:()=>{const n=$t(Tn),t=$t(dB),e=$t(bd);return e.scrollOffset&&t.setOffset(e.scrollOffset),new XS(n,t,e)}},i?.preloadingStrategy?p8(i.preloadingStrategy).\u0275providers:[],{provide:YE,multi:!0,useFactory:g8},i?.initialNavigation?w8(i):[],[{provide:ix,useFactory:QS},{provide:HE,multi:!0,useExisting:ix}]]}}static forChild(e){return{ngModule:n,providers:[zg(e)]}}}return n.\u0275fac=function(e){return new(e||n)(se(tx,8))},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[Ag]}),n})();function b8(n){return"guarded"}function w8(n){return["disabled"===n.initialNavigation?Ea(3,[{provide:xu,multi:!0,useFactory:()=>{const t=$t(Tn);return()=>{t.setUpLocationChangeListener()}}},{provide:$g,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ea(2,[{provide:$g,useValue:0},{provide:xu,multi:!0,deps:[jn],useFactory:t=>{const e=t.get(W2,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(o=>{const s=t.get(Tn),a=t.get(JS);(function r(o){t.get(Tn).events.pipe(Mt(a=>a instanceof hs||a instanceof ud||a instanceof mS),j(a=>a instanceof hs||a instanceof ud&&(0===a.code||1===a.code)&&null),Mt(a=>null!==a),qn(1)).subscribe(()=>{o()})})(()=>{o(!0),i=!0}),s.afterPreactivation=()=>(o(!0),i||a.closed?Fe(void 0):a),s.initialNavigation()}))}}]).\u0275providers:[]]}const ix=new ve("");let Gg;try{Gg=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Gg=!1}let Zl,Dd,fs,qg,Ei=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function uB(n){return n===UC}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Gg)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(se(tm))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function io(n){return function C8(){if(null==Zl&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Zl=!0}))}finally{Zl=Zl||!1}return Zl}()?n:!!n.capture}function ox(){if(null==fs){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return fs=!1,fs;if("scrollBehavior"in document.documentElement.style)fs=!0;else{const n=Element.prototype.scrollTo;fs=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return fs}function Ql(){if("object"!=typeof document||!document)return 0;if(null==Dd){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Dd=0,0===n.scrollLeft&&(n.scrollLeft=1,Dd=0===n.scrollLeft?1:2),n.remove()}return Dd}function Sd(n){if(function D8(){if(null==qg){const n=typeof document<"u"?document.head:null;qg=!(!n||!n.createShadowRoot&&!n.attachShadow)}return qg}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function fr(n){return n.composedPath?n.composedPath()[0]:n.target}function Wg(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Td(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Xg(n,t=Pl){return ce((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const d=o;o=null,i.next(d)}};function c(){const d=s+n,p=t.now();if(p<d)return r=this.schedule(void 0,d-p),void i.add(r);a()}e.subscribe(ee(i,d=>{o=d,s=t.now(),r||(r=t.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function ux(n){return Mt((t,e)=>n<=e)}function kd(n,t=Jt){return n=n??B8,ce((e,i)=>{let r,o=!0;e.subscribe(ee(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function B8(n,t){return n===t}function ri(n){return ce((t,e)=>{Bn(n).subscribe(ee(e,()=>e.complete(),q)),!e.closed&&t.subscribe(e)})}function Qt(n){return null!=n&&"false"!=`${n}`}function Yn(n,t=0){return function U8(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Id(n){return Array.isArray(n)?n:[n]}function vn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function bn(n){return n instanceof ct?n.nativeElement:n}const dx=new Set;let Da,V8=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):j8}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function H8(n){if(!dx.has(n))try{Da||(Da=document.createElement("style"),Da.setAttribute("type","text/css"),document.head.appendChild(Da)),Da.sheet&&(Da.sheet.insertRule(`@media ${n} {body{ }}`,0),dx.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(se(Ei))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function j8(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let z8=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new I}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return hx(Id(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=dg(hx(Id(e)).map(s=>this._registerQuery(s).observable));return o=Fl(o.pipe(qn(1)),o.pipe(ux(1),Xg(0))),o.pipe(j(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:d})=>{a.matches=a.matches||c,a.breakpoints[d]=c}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Qe(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(hr(i),j(({matches:s})=>({query:e,matches:s})),ri(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(se(V8),se(qe))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hx(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class mx extends class q8{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new I,this._typeaheadSubscription=k.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new I,this.change=new I,t instanceof ts&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Vt(e=>this._pressedLetters.push(e)),Xg(t),Mt(()=>this._pressedLetters.length>0),j(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Td(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof ts?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}function Ad(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Rd(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Q8=new ve("cdk-input-modality-detector-options"),J8={ignoreKeys:[18,17,224,91,16]},Sa=io({passive:!0,capture:!0});let eH=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new di(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=fr(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ad(s)?"keyboard":"mouse"),this._mostRecentTarget=fr(s))},this._onTouchstart=s=>{Rd(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=fr(s))},this._options={...J8,...o},this.modalityDetected=this._modality.pipe(ux(1)),this.modalityChanged=this.modalityDetected.pipe(kd()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Sa),r.addEventListener("mousedown",this._onMousedown,Sa),r.addEventListener("touchstart",this._onTouchstart,Sa)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Sa),document.removeEventListener("mousedown",this._onMousedown,Sa),document.removeEventListener("touchstart",this._onTouchstart,Sa))}}return n.\u0275fac=function(e){return new(e||n)(se(Ei),se(qe),se(Je),se(Q8,8))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nH=new ve("cdk-focus-monitor-default-options"),Od=io({passive:!0,capture:!0});let ps=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new I,this._rootNodeFocusAndBlurListener=a=>{for(let d=fr(a);d;d=d.parentElement)"focus"===a.type?this._onFocus(a,d):this._onBlur(a,d)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,i=!1){const r=bn(e);if(!this._platform.isBrowser||1!==r.nodeType)return Fe(null);const o=Sd(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new I,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=bn(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=bn(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=fr(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Od),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Od)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ri(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Od),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Od),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(se(qe),se(Ei),se(eH),se(Je,8),se(nH,8))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yx="cdk-high-contrast-black-on-white",vx="cdk-high-contrast-white-on-black",Zg="cdk-high-contrast-active";let iH=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=$t(z8).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Zg,yx,vx),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Zg,yx):2===i&&e.add(Zg,vx)}}}return n.\u0275fac=function(e){return new(e||n)(se(Ei),se(Je))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rH=new ve("cdk-dir-doc",{providedIn:"root",factory:function oH(){return $t(Je)}}),sH=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ms=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new Ze,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function aH(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?sH.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(se(rH,8))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({}),n})();const cH=new ve("mat-sanity-checks",{providedIn:"root",factory:function lH(){return!0}});let Zt=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Wg()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(se(iH),se(cH,8),se(Je))},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[Jl,Jl]}),n})();function ec(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Qt(t)}}}function To(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Pd(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Qt(t)}}}function Fd(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Yn(e):this.defaultTabIndex}}}let dH=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hH{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ex={enterDuration:225,exitDuration:150},Qg=io({passive:!0}),Cx=["mousedown","touchstart"],Dx=["mouseup","mouseleave","touchend","touchcancel"];class pH{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=bn(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Ex,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function mH(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,c=e-r.top,d=o.enterDuration,p=document.createElement("div");p.classList.add("mat-ripple-element"),p.style.left=a-s+"px",p.style.top=c-s+"px",p.style.height=2*s+"px",p.style.width=2*s+"px",null!=i.color&&(p.style.backgroundColor=i.color),p.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(p);const g=window.getComputedStyle(p),S=g.transitionDuration,R="none"===g.transitionProperty||"0s"===S||"0s, 0s"===S,W=new hH(this,p,i,R);p.style.transform="scale3d(1, 1, 1)",W.state=0,i.persistent||(this._mostRecentTransientRipple=W);let te=null;return!R&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const le=()=>this._finishRippleTransition(W),_e=()=>this._destroyRipple(W);p.addEventListener("transitionend",le),p.addEventListener("transitioncancel",_e),te={onTransitionEnd:le,onTransitionCancel:_e}}),this._activeRipples.set(W,te),(R||!d)&&this._finishRippleTransition(W),W}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...Ex,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=bn(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Cx))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Dx),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Ad(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Rd(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Qg)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(Cx.forEach(t=>{this._triggerElement.removeEventListener(t,this,Qg)}),this._pointerUpEventsRegistered&&Dx.forEach(t=>{this._triggerElement.removeEventListener(t,this,Qg)}))}}const gH=new ve("mat-ripple-global-options");let xa=(()=>{class n{constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new pH(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(V(ct),V(qe),V(Ei),V(gH,8),V(Bi,8))},n.\u0275dir=Re({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&Yt("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Nd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[Zt,Zt]}),n})();const _H=["*",[["mat-toolbar-row"]]],yH=["*","mat-toolbar-row"],vH=To(class{constructor(n){this._elementRef=n}});let bH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Re({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),wH=(()=>{class n extends vH{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(V(ct),V(Ei),V(Je))},n.\u0275cmp=Bt({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&Li(r,bH,5),2&e){let o;Nt(o=Lt())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&Yt("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[$e],ngContentSelectors:yH,decls:2,vars:0,template:function(e,i){1&e&&(ir(_H),$n(0),$n(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),EH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[Zt,Zt]}),n})();function Sx(...n){const t=My(n),{args:e,keys:i}=GD(n),r=new Qe(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let c=s,d=s;for(let p=0;p<s;p++){let g=!1;Bn(e[p]).subscribe(ee(o,E=>{g||(g=!0,d--),a[p]=E},()=>c--,void 0,()=>{(!c||!g)&&(d||o.next(i?qD(i,a):a),o.complete())}))}});return t?r.pipe(ug(t)):r}class CH{}class ko{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ko?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ko;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ko?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class DH{encodeKey(t){return xx(t)}encodeValue(t){return xx(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const xH=/%(\d[a-f0-9])/gi,MH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xx(n){return encodeURIComponent(n).replace(xH,(t,e)=>MH[e]??t)}function Ld(n){return`${n}`}class Io{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new DH,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function SH(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(Ld):[Ld(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Io({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Ld(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Ld(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class TH{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Mx(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Tx(n){return typeof Blob<"u"&&n instanceof Blob}function kx(n){return typeof FormData<"u"&&n instanceof FormData}class nc{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function kH(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new ko),this.context||(this.context=new TH),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Io,this.urlWithParams=e}serializeBody(){return null===this.body?null:Mx(this.body)||Tx(this.body)||kx(this.body)||function IH(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Io?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||kx(this.body)?null:Tx(this.body)?this.body.type||null:Mx(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Io?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,d=t.params||this.params;const p=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((g,E)=>g.set(E,t.setHeaders[E]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((g,E)=>g.set(E,t.setParams[E]),d)),new nc(e,i,o,{params:d,headers:c,context:p,reportProgress:a,responseType:r,withCredentials:s})}}var Ln=(()=>((Ln=Ln||{})[Ln.Sent=0]="Sent",Ln[Ln.UploadProgress=1]="UploadProgress",Ln[Ln.ResponseHeader=2]="ResponseHeader",Ln[Ln.DownloadProgress=3]="DownloadProgress",Ln[Ln.Response=4]="Response",Ln[Ln.User=5]="User",Ln))();class Jg extends class AH{constructor(t,e=200,i="OK"){this.headers=t.headers||new ko,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Ln.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Jg({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function e_(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ax=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof nc)o=e;else{let c,d;c=r.headers instanceof ko?r.headers:new ko(r.headers),r.params&&(d=r.params instanceof Io?r.params:new Io({fromObject:r.params})),o=new nc(e,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=Fe(o).pipe(So(c=>this.handler.handle(c)));if(e instanceof nc||"events"===r.observe)return s;const a=s.pipe(Mt(c=>c instanceof Jg));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(j(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(j(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(j(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(j(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Io).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,e_(r,i))}post(e,i,r={}){return this.request("POST",e,e_(r,i))}put(e,i,r={}){return this.request("PUT",e,e_(r,i))}}return n.\u0275fac=function(e){return new(e||n)(se(CH))},n.\u0275prov=Se({token:n,factory:n.\u0275fac}),n})();const OH=["*"];let Bd;function ic(n){return function PH(){if(void 0===Bd&&(Bd=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Bd=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Bd}()?.createHTML(n)||n}function Rx(n){return Error(`Unable to find icon with the name "${n}"`)}function Ox(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Px(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class gs{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Ud=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new gs(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(At.HTML,r);if(!s)throw Px(r);const a=ic(s);return this._addSvgIconConfig(e,i,new gs("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new gs(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(At.HTML,i);if(!o)throw Px(i);const s=ic(o);return this._addSvgIconSetConfig(e,new gs("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(At.RESOURCE_URL,e);if(!i)throw Ox(e);const r=this._cachedIconsByUrl.get(i);return r?Fe(Vd(r)):this._loadSvgIconFromConfig(new gs(e,null)).pipe(Vt(o=>this._cachedIconsByUrl.set(i,o)),j(o=>Vd(o)))}getNamedSvgIcon(e,i=""){const r=Fx(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):ls(Rx(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Fe(Vd(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(j(i=>Vd(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Fe(r):Sx(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(xr(a=>{const d=`Loading icon set URL: ${this._sanitizer.sanitize(At.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(d)),Fe(null)})))).pipe(j(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw Rx(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Vt(i=>e.svgText=i),j(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Fe(null):this._fetchIcon(e).pipe(Vt(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(ic("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(ic("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function FH(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(At.RESOURCE_URL,i);if(!s)throw Ox(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(j(d=>ic(d)),id(()=>this._inProgressUrlFetches.delete(s)),Ah());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(Fx(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return LH(o)?new gs(o.url,null,o.options):new gs(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(se(Ax,8),se(Lm),se(Je,8),se(Hr))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Vd(n){return n.cloneNode(!0)}function Fx(n,t){return n+":"+t}function LH(n){return!(!n.url||!n.options)}const BH=To(class{constructor(n){this._elementRef=n}}),UH=new ve("MAT_ICON_DEFAULT_OPTIONS"),VH=new ve("mat-icon-location",{providedIn:"root",factory:function HH(){const n=$t(Je),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Nx=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],jH=Nx.map(n=>`[${n}]`).join(", "),zH=/^url\(['"]?#(.*?)['"]?\)$/;let Hd=(()=>{class n extends BH{constructor(e,i,r,o,s,a){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=k.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Qt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(jH),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)Nx.forEach(s=>{const a=i[o],c=a.getAttribute(s),d=c?c.match(zH):null;if(d){let p=r.get(a);p||(p=[],r.set(a,p)),p.push({name:s,value:d[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(qn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(V(ct),V(Ud),yr("aria-hidden"),V(VH),V(Hr),V(UH,8))},n.\u0275cmp=Bt({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(Et("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),Yt("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[$e],ngContentSelectors:OH,decls:1,vars:0,template:function(e,i){1&e&&(ir(),$n(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Lx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[Zt,Zt]}),n})();const $H=["addListener","removeListener"],GH=["addEventListener","removeEventListener"],qH=["on","off"];function Ao(n,t,e,i){if(D(e)&&(i=e,e=void 0),i)return Ao(n,t,e).pipe(ug(i));const[r,o]=function KH(n){return D(n.addEventListener)&&D(n.removeEventListener)}(n)?GH.map(s=>a=>n[s](t,a,e)):function WH(n){return D(n.addListener)&&D(n.removeListener)}(n)?$H.map(Bx(n,t)):function YH(n){return D(n.on)&&D(n.off)}(n)?qH.map(Bx(n,t)):[];if(!r&&kh(n))return En(s=>Ao(s,t,e))(Bn(n));if(!r)throw new TypeError("Invalid event target");return new Qe(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function Bx(n,t){return e=>i=>n[e](t,i)}const XH=["primaryValueBar"],ZH=To(class{constructor(n){this._elementRef=n}},"primary"),QH=new ve("mat-progress-bar-location",{providedIn:"root",factory:function JH(){const n=$t(Je),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),e4=new ve("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let t4=0,n4=(()=>{class n extends ZH{constructor(e,i,r,o,s,a){super(e),this._ngZone=i,this._animationMode=r,this._changeDetectorRef=a,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new Ze,this._animationEndSubscription=k.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+t4++;const c=o?o.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${c}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===r,s&&(s.color&&(this.color=this.defaultColor=s.color),this.mode=s.mode||this.mode)}get value(){return this._value}set value(e){this._value=Ux(Yn(e)||0),this._changeDetectorRef?.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=Ux(e||0),this._changeDetectorRef?.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=Ao(e,"transitionend").pipe(Mt(i=>i.target===e)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(V(ct),V(qe),V(Bi,8),V(QH,8),V(e4,8),V(Pn))},n.\u0275cmp=Bt({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&An(XH,5),2&e){let r;Nt(r=Lt())&&(i._primaryValueBar=r.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(Et("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),Yt("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[$e],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(Ee(0,"div",0),qo(),Ee(1,"svg",1)(2,"defs")(3,"pattern",2),rt(4,"circle",3),xe()(),rt(5,"rect",4),xe(),function nf(){!function fI(){et.lFrame.currentNamespace=null}()}(),rt(6,"div",5)(7,"div",6,7)(9,"div",8),xe()),2&e&&(ke(3),Ne("id",i.progressbarId),ke(2),Et("fill",i._rectangleFillValue),ke(1),Ne("ngStyle",i._bufferTransform()),ke(1),Ne("ngStyle",i._primaryTransform()))},dependencies:[xm],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}.mat-progress-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}'],encapsulation:2,changeDetection:0}),n})();function Ux(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let r4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[Qr,Zt,Zt]}),n})();const o4=["mat-button",""],s4=["*"],l4=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],c4=To(ec(Pd(class{constructor(n){this._elementRef=n}})));let n_,t_=(()=>{class n extends c4{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of l4)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(V(ct),V(ps),V(Bi,8))},n.\u0275cmp=Bt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&An(xa,5),2&e){let r;Nt(r=Lt())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(Et("disabled",i.disabled||null),Yt("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[$e],attrs:o4,ngContentSelectors:s4,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(ir(),Ee(0,"span",0),$n(1),xe(),rt(2,"span",1)(3,"span",2)),2&e&&(ke(2),Yt("mat-button-ripple-round",i.isRoundButton||i.isIconButton),Ne("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[xa],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Vx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[Nd,Zt,Zt]}),n})(),u4=1;const jd={};function Hx(n){return n in jd&&(delete jd[n],!0)}const d4={setImmediate(n){const t=u4++;return jd[t]=!0,n_||(n_=Promise.resolve()),n_.then(()=>Hx(t)&&n()),t},clearImmediate(n){Hx(n)}},{setImmediate:h4,clearImmediate:f4}=d4,zd={setImmediate(...n){const{delegate:t}=zd;return(t?.setImmediate||h4)(...n)},clearImmediate(n){const{delegate:t}=zd;return(t?.clearImmediate||f4)(n)},delegate:void 0},i_=new class m4 extends Gm{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class p4 extends zm{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=zd.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(zd.clearImmediate(e),t._scheduled=void 0)}});class jx{}const ro="*";function _s(n,t){return{type:7,name:n,definitions:t,options:{}}}function Tr(n,t=null){return{type:4,styles:t,timings:n}}function zx(n,t=null){return{type:2,steps:n,options:t}}function pn(n){return{type:6,styles:n,offset:null}}function ys(n,t,e){return{type:0,name:n,styles:t,options:e}}function kr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function $x(n){Promise.resolve().then(n)}class rc{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){$x(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Gx{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?$x(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class o_{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class _4 extends o_{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class s_ extends o_{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class y4 extends o_{constructor(t){super(),this.element=t instanceof ct?t.nativeElement:t}}class qx{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof _4?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof s_?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof y4?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class v4 extends qx{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||jn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let b4=(()=>{class n extends qx{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Ze,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(V(go),V(In),V(Je))},n.\u0275dir=Re({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[$e]}),n})(),Wx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({}),n})();const oc={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=oc;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new k(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=oc;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=oc;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},Yx=new class E4 extends Gm{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class w4 extends zm{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=oc.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(oc.cancelAnimationFrame(e),t._scheduled=void 0)}});function Kx(n){return!!n&&(n instanceof Qe||D(n.lift)&&D(n.subscribe))}function a_(n,t=Pl){return function C4(n){return ce((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const d=r;r=null,e.next(d)}s&&e.complete()},c=()=>{o=null,s&&e.complete()};t.subscribe(ee(e,d=>{i=!0,r=d,o||Bn(n(d)).subscribe(o=ee(e,a,c))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>Co(n,t))}class S4 extends I{constructor(t=1/0,e=1/0,i=$m){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=e.now();let a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}}class k4 extends class M4{}{constructor(t){super(),this._data=t}connect(){return Kx(this._data)?this._data:Fe(this._data)}disconnect(){}}class I4{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,i,r,o){t.forEachOperation((s,a,c)=>{let d,p;null==s.previousIndex?(d=this._insertView(()=>i(s,a,c),c,e,r(s)),p=d?1:0):null==c?(this._detachAndCacheView(a,e),p=3):(d=this._moveView(a,c,e,r(s)),p=2),o&&o({context:d?.context,operation:p,record:s})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,i,r){const o=this._insertViewFromCache(e,i);if(o)return void(o.context.$implicit=r);const s=t();return i.createEmbeddedView(s.templateRef,s.context,s.index)}_detachAndCacheView(t,e){const i=e.detach(t);this._maybeCacheView(i,e)}_moveView(t,e,i,r){const o=i.get(t);return i.move(o,e),o.context.$implicit=r,o}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const i=e.indexOf(t);-1===i?t.destroy():e.remove(i)}}_insertViewFromCache(t,e){const i=this._viewCache.pop();return i&&e.insert(i,t),i||null}}let Xx=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zx=new ve("_ViewRepeater"),A4=["contentWrapper"],R4=["*"],Qx=new ve("VIRTUAL_SCROLL_STRATEGY");class O4{constructor(t,e,i){this._scrolledIndexChange=new I,this.scrolledIndexChange=this._scrolledIndexChange.pipe(kd()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,i){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},i=this._viewport.getViewportSize(),r=this._viewport.getDataLength();let o=this._viewport.measureScrollOffset(),s=this._itemSize>0?o/this._itemSize:0;if(e.end>r){const c=Math.ceil(i/this._itemSize),d=Math.max(0,Math.min(s,r-c));s!=d&&(s=d,o=d*this._itemSize,e.start=Math.floor(s)),e.end=Math.max(0,Math.min(r,e.start+c))}const a=o-e.start*this._itemSize;if(a<this._minBufferPx&&0!=e.start){const c=Math.ceil((this._maxBufferPx-a)/this._itemSize);e.start=Math.max(0,e.start-c),e.end=Math.min(r,Math.ceil(s+(i+this._minBufferPx)/this._itemSize))}else{const c=e.end*this._itemSize-(o+i);if(c<this._minBufferPx&&e.end!=r){const d=Math.ceil((this._maxBufferPx-c)/this._itemSize);d>0&&(e.end=Math.min(r,e.end+d),e.start=Math.max(0,Math.floor(s-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(s))}}function P4(n){return n._scrollStrategy}let F4=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new O4(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=Yn(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=Yn(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=Yn(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Re({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[ht([{provide:Qx,useFactory:P4,deps:[St(()=>n)]}]),Cn]}),n})(),$d=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new I,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Qe(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(a_(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Fe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Mt(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=bn(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ao(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(se(qe),se(Ei),se(Je,8))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jx=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new I,this._elementScrolled=new Qe(s=>this.ngZone.runOutsideAngular(()=>Ao(this.elementRef.nativeElement,"scroll").pipe(ri(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Ql()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Ql()?e.left=e.right:1==Ql()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;ox()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?r:i:"end"==e&&(e=s?i:r),s&&2==Ql()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==Ql()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(V(ct),V($d),V(qe),V(ms,8))},n.\u0275dir=Re({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),sc=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new I,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(a_(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(se(Ei),se(qe),se(Je,8))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const B4=new ve("VIRTUAL_SCROLLABLE");let eM=(()=>{class n extends Jx{constructor(e,i,r,o){super(e,i,r,o)}measureViewportSize(e){const i=this.elementRef.nativeElement;return"horizontal"===e?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(V(ct),V($d),V(qe),V(ms,8))},n.\u0275dir=Re({type:n,features:[$e]}),n})();const V4=typeof requestAnimationFrame<"u"?Yx:i_;let tM=(()=>{class n extends eM{constructor(e,i,r,o,s,a,c,d){super(e,a,r,s),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=d,this._platform=$t(Ei),this._detachedSubject=new I,this._renderedRangeSubject=new I,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Qe(p=>this._scrollStrategy.scrolledIndexChange.subscribe(g=>Promise.resolve().then(()=>this.ngZone.run(()=>p.next(g))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=k.EMPTY,this._viewportChanges=c.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=Qt(e)}ngOnInit(){!this._platform.isBrowser||(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(hr(null),a_(0,V4)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(ri(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function U4(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&"to-start"===i?0:e;const o="horizontal"==this.orientation,s=o?"X":"Y";let c=`translate${s}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(c+=` translate${s}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=c&&(this._renderedContentTransform=c,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollable.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i;const r="left",o="right",s="rtl"==this.dir?.value;i="start"==e?s?o:r:"end"==e?s?r:o:e||("horizontal"===this.orientation?"left":"top");const a=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-a}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(V(ct),V(Pn),V(qe),V(Qx,8),V(ms,8),V($d),V(sc),V(B4,8))},n.\u0275cmp=Bt({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&An(A4,7),2&e){let r;Nt(r=Lt())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&Yt("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[ht([{provide:Jx,useFactory:(t,e)=>t||e,deps:[eM,n]}]),$e],ngContentSelectors:R4,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(ir(),Ee(0,"div",0,1),$n(2),xe(),rt(3,"div",2)),2&e&&(ke(3),qr("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})();function nM(n,t,e){if(!e.getBoundingClientRect)return 0;const r=e.getBoundingClientRect();return"horizontal"===n?"start"===t?r.left:r.right:"start"===t?r.top:r.bottom}let H4=(()=>{class n{constructor(e,i,r,o,s,a){this._viewContainerRef=e,this._template=i,this._differs=r,this._viewRepeater=o,this._viewport=s,this.viewChange=new I,this._dataSourceChanges=new I,this.dataStream=this._dataSourceChanges.pipe(hr(null),function D4(){return ce((n,t)=>{let e,i=!1;n.subscribe(ee(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}(),Fn(([c,d])=>this._changeDataSource(c,d)),function x4(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,Ah({connector:()=>new S4(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new I,this.dataStream.subscribe(c=>{this._data=c,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(ri(this._destroyed)).subscribe(c=>{this._renderedRange=c,this.viewChange.observers.length&&a.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function T4(n){return n&&"function"==typeof n.connect&&!(n instanceof fg)}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new k4(Kx(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(i,r)=>e(i+(this._renderedRange?this._renderedRange.start:0),r):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=Yn(e)}measureRangeSize(e,i){if(e.start>=e.end)return 0;const r=e.start-this._renderedRange.start,o=e.end-e.start;let s,a;for(let c=0;c<o;c++){const d=this._viewContainerRef.get(c+r);if(d&&d.rootNodes.length){s=a=d.rootNodes[0];break}}for(let c=o-1;c>-1;c--){const d=this._viewContainerRef.get(c+r);if(d&&d.rootNodes.length){a=d.rootNodes[d.rootNodes.length-1];break}}return s&&a?nM(i,"end",a)-nM(i,"start",s):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,i):i)),this._needsUpdate=!0)}_changeDataSource(e,i){return e&&e.disconnect(this),this._needsUpdate=!0,i?i.connect(this):Fe()}_updateContext(){const e=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=e,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(o,s,a)=>this._getEmbeddedViewArgs(o,a),o=>o.item),e.forEachIdentityChange(o=>{this._viewContainerRef.get(o.currentIndex).context.$implicit=o.item});const i=this._data.length;let r=this._viewContainerRef.length;for(;r--;){const o=this._viewContainerRef.get(r);o.context.index=this._renderedRange.start+r,o.context.count=i,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,i){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}return n.\u0275fac=function(e){return new(e||n)(V(In),V(wi),V(El),V(Zx),V(tM,4),V(qe))},n.\u0275dir=Re({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[ht([{provide:Zx,useClass:I4}])]}),n})(),Gd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({}),n})(),l_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[Jl,Gd,Jl,Gd]}),n})();const iM=ox();class j4{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=vn(-this._previousScrollPosition.left),t.style.top=vn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),iM&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),iM&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class z4{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class rM{enable(){}disable(){}attach(){}}function c_(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function oM(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class $4{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();c_(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let G4=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new rM,this.close=s=>new z4(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new j4(this._viewportRuler,this._document),this.reposition=s=>new $4(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(se($d),se(sc),se(qe),se(Je))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class sM{constructor(t){if(this.scrollStrategy=new rM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class q4{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let aM=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(se(Je))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W4=(()=>{class n extends aM{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(se(Je),se(qe,8))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y4=(()=>{class n extends aM{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=fr(o)},this._clickListener=o=>{const s=fr(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let d=c.length-1;d>-1;d--){const p=c[d];if(p._outsidePointerEvents.observers.length<1||!p.hasAttached())continue;if(p.overlayElement.contains(s)||p.overlayElement.contains(a))break;const g=p._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>g.next(o)):g.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(se(Je),se(Ei),se(qe,8))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lM=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Wg()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),Wg()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(se(Je),se(Ei))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class K4{constructor(t,e,i,r,o,s,a,c,d,p=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=d,this._animationsDisabled=p,this._backdropElement=null,this._backdropClick=new I,this._attachments=new I,this._detachments=new I,this._locationChanges=k.EMPTY,this._backdropClickHandler=g=>this._backdropClick.next(g),this._backdropTransitionendHandler=g=>{this._disposeBackdrop(g.target)},this._keydownEvents=new I,this._outsidePointerEvents=new I,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(qn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=vn(this._config.width),t.height=vn(this._config.height),t.minWidth=vn(this._config.minWidth),t.minHeight=vn(this._config.minHeight),t.maxWidth=vn(this._config.maxWidth),t.maxHeight=vn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Id(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(ri(lo(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const cM="cdk-overlay-connected-position-bounding-box",X4=/([A-Za-z%]+)$/;class Z4{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new I,this._resizeSubscription=k.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(cM),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(t,r,a),d=this._getOverlayPoint(c,e,a),p=this._getOverlayFit(d,e,i,a);if(p.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(p,d,i)?o.push({position:a,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<p.visibleArea)&&(s={overlayFit:p,overlayPoint:d,originPoint:c,position:a,overlayRect:e})}if(o.length){let a=null,c=-1;for(const d of o){const p=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);p>c&&(c=p,a=d)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&vs(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(cM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=dM(e);let{x:s,y:a}=t,c=this._getOffset(r,"x"),d=this._getOffset(r,"y");c&&(s+=c),d&&(a+=d);let E=0-a,S=a+o.height-i.height,R=this._subtractOverflows(o.width,0-s,s+o.width-i.width),W=this._subtractOverflows(o.height,E,S),te=R*W;return{visibleArea:te,isCompletelyWithinViewport:o.width*o.height===te,fitsInViewportVertically:W===o.height,fitsInViewportHorizontally:R==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=uM(this._overlayRef.getConfig().minHeight),a=uM(this._overlayRef.getConfig().minWidth),d=t.fitsInViewportHorizontally||null!=a&&a<=o;return(t.fitsInViewportVertically||null!=s&&s<=r)&&d}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=dM(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),c=Math.max(o.top-i.top-t.y,0),d=Math.max(o.left-i.left-t.x,0);let p=0,g=0;return p=r.width<=o.width?d||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,g=r.height<=o.height?c||-a:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:p,y:g},{x:t.x+p,y:t.y+g}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new q4(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,p,g,E;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const S=Math.min(i.bottom-t.y+i.top,t.y),R=this._lastBoundingBoxSize.height;o=2*S,s=t.y-S,o>R&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-R/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)E=i.width-t.x+this._viewportMargin,p=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)g=t.x,p=i.right-t.x;else{const S=Math.min(i.right-t.x+i.left,t.x),R=this._lastBoundingBoxSize.width;p=2*S,g=t.x-S,p>R&&!this._isInitialRender&&!this._growAfterOpen&&(g=t.x-R/2)}return{top:s,left:g,bottom:a,right:E,width:p,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=vn(i.height),r.top=vn(i.top),r.bottom=vn(i.bottom),r.width=vn(i.width),r.left=vn(i.left),r.right=vn(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=vn(o)),s&&(r.maxWidth=vn(s))}this._lastBoundingBoxSize=i,vs(this._boundingBox.style,r)}_resetBoundingBoxStyles(){vs(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){vs(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const p=this._viewportRuler.getViewportScrollPosition();vs(i,this._getExactOverlayY(e,t,p)),vs(i,this._getExactOverlayX(e,t,p))}else i.position="static";let a="",c=this._getOffset(e,"x"),d=this._getOffset(e,"y");c&&(a+=`translateX(${c}px) `),d&&(a+=`translateY(${d}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=vn(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=vn(s.maxWidth):o&&(i.maxWidth="")),vs(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=vn(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=vn(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:oM(t,i),isOriginOutsideView:c_(t,i),isOverlayClipped:oM(e,i),isOverlayOutsideView:c_(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Id(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ct)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function vs(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function uM(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(X4);return e&&"px"!==e?null:parseFloat(t)}return n||null}function dM(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const hM="cdk-global-overlay-wrapper";class Q4{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(hM),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),d=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),p=this._xPosition,g=this._xOffset,E="rtl"===this._overlayRef.getConfig().direction;let S="",R="",W="";c?W="flex-start":"center"===p?(W="center",E?R=g:S=g):E?"left"===p||"end"===p?(W="flex-end",S=g):("right"===p||"start"===p)&&(W="flex-start",R=g):"left"===p||"start"===p?(W="flex-start",S=g):("right"===p||"end"===p)&&(W="flex-end",R=g),t.position=this._cssPosition,t.marginLeft=c?"0":S,t.marginTop=d?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":R,e.justifyContent=W,e.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(hM),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let J4=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Q4}flexibleConnectedTo(e){return new Z4(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(se(sc),se(Je),se(Ei),se(lM))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ej=0,qd=(()=>{class n{constructor(e,i,r,o,s,a,c,d,p,g,E,S){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=d,this._directionality=p,this._location=g,this._outsideClickDispatcher=E,this._animationsModuleType=S}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new sM(e);return s.direction=s.direction||this._directionality.value,new K4(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+ej++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(ns)),new v4(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(se(G4),se(lM),se(go),se(J4),se(W4),se(jn),se(qe),se(Je),se(ms),se(Ou),se(Y4),se(Bi,8))},n.\u0275prov=Se({token:n,factory:n.\u0275fac}),n})();const ij={provide:new ve("cdk-connected-overlay-scroll-strategy"),deps:[qd],useFactory:function nj(n){return()=>n.scrollStrategies.reposition()}};let rj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({providers:[qd,ij],imports:[Jl,Wx,l_,l_]}),n})();const oj=["mat-menu-item",""];function sj(n,t){1&n&&(qo(),Ee(0,"svg",2),rt(1,"polygon",3),xe())}const fM=["*"];function aj(n,t){if(1&n){const e=mu();Ee(0,"div",0),Ct("keydown",function(r){return $o(e),Go(rn()._handleKeydown(r))})("click",function(){return $o(e),Go(rn().closed.emit("click"))})("@transformMenu.start",function(r){return $o(e),Go(rn()._onAnimationStart(r))})("@transformMenu.done",function(r){return $o(e),Go(rn()._onAnimationDone(r))}),Ee(1,"div",1),$n(2),xe()()}if(2&n){const e=rn();Ne("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),Et("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const Wd={transformMenu:_s("transformMenu",[ys("void",pn({opacity:0,transform:"scale(0.8)"})),kr("void => enter",Tr("120ms cubic-bezier(0, 0, 0.2, 1)",pn({opacity:1,transform:"scale(1)"}))),kr("* => void",Tr("100ms 25ms linear",pn({opacity:0})))]),fadeInItems:_s("fadeInItems",[ys("showing",pn({opacity:1})),kr("void => *",[pn({opacity:0}),Tr("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},lj=new ve("MatMenuContent"),u_=new ve("MAT_MENU_PANEL"),cj=Pd(ec(class{}));let ac=(()=>{class n extends cj{constructor(e,i,r,o,s){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=s,this.role="menuitem",this._hovered=new I,this._focused=new I,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(V(ct),V(Je),V(ps),V(u_,8),V(Pn))},n.\u0275cmp=Bt({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&Ct("click",function(o){return i._checkDisabled(o)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(Et("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),Yt("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[$e],attrs:oj,ngContentSelectors:fM,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(ir(),$n(0),rt(1,"div",0),Ut(2,sj,2,0,"svg",1)),2&e&&(ke(1),Ne("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),ke(1),Ne("ngIf",i._triggersSubmenu))},dependencies:[Zr,xa],encapsulation:2,changeDetection:0}),n})();const pM=new ve("mat-menu-default-options",{providedIn:"root",factory:function uj(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let dj=0,lc=(()=>{class n{constructor(e,i,r,o){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new ts,this._tabSubscription=k.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new I,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Ze,this.close=this.closed,this.panelId="mat-menu-panel-"+dj++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Qt(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Qt(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new mx(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(hr(this._directDescendantItems),Fn(e=>lo(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(hr(this._directDescendantItems),Fn(i=>lo(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Td(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe(qn(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(hr(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(V(ct),V(qe),V(pM),V(Pn))},n.\u0275dir=Re({type:n,contentQueries:function(e,i,r){if(1&e&&(Li(r,lj,5),Li(r,ac,5),Li(r,ac,4)),2&e){let o;Nt(o=Lt())&&(i.lazyContent=o.first),Nt(o=Lt())&&(i._allItems=o),Nt(o=Lt())&&(i.items=o)}},viewQuery:function(e,i){if(1&e&&An(wi,5),2&e){let r;Nt(r=Lt())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),mM=(()=>{class n extends lc{constructor(e,i,r,o){super(e,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(V(ct),V(qe),V(pM),V(Pn))},n.\u0275cmp=Bt({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&Et("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[ht([{provide:u_,useExisting:n}]),$e],ngContentSelectors:fM,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(ir(),Ut(0,aj,3,6,"ng-template"))},dependencies:[IC],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Wd.transformMenu,Wd.fadeInItems]},changeDetection:0}),n})();const gM=new ve("mat-menu-scroll-strategy"),fj={provide:gM,deps:[qd],useFactory:function hj(n){return()=>n.scrollStrategies.reposition()}},_M=io({passive:!0});let pj=(()=>{class n{constructor(e,i,r,o,s,a,c,d,p){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=a,this._dir=c,this._focusMonitor=d,this._ngZone=p,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=k.EMPTY,this._hoverSubscription=k.EMPTY,this._menuCloseSubscription=k.EMPTY,this._handleTouchStart=g=>{Rd(g)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new Ze,this.onMenuOpen=this.menuOpened,this.menuClosed=new Ze,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=s instanceof lc?s:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,_M),a&&(a._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,_M),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),o=r.positionStrategy;this._setPosition(e,o),r.hasBackdrop=e.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof lc&&(e._startAnimation(),e._directDescendantItems.changes.pipe(ri(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof lc?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Mt(r=>"void"===r.toState),qn(1),ri(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new sM({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",s="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,s)):e.setPositionClasses(o,s)})}_setPosition(e,i){let[r,o]="before"===e.xPosition?["end","start"]:["start","end"],[s,a]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[c,d]=[s,a],[p,g]=[r,o],E=0;if(this.triggersSubmenu()){if(g=r="before"===e.xPosition?"start":"end",o=p="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const S=this._parentMaterialMenu.items.first;this._parentInnerPadding=S?S._getHostElement().offsetTop:0}E="bottom"===s?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(c="top"===s?"bottom":"top",d="top"===a?"bottom":"top");i.withPositions([{originX:r,originY:c,overlayX:p,overlayY:s,offsetY:E},{originX:o,originY:c,overlayX:g,overlayY:s,offsetY:E},{originX:r,originY:d,overlayX:p,overlayY:a,offsetY:-E},{originX:o,originY:d,overlayX:g,overlayY:a,offsetY:-E}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments();return lo(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:Fe(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Mt(s=>s!==this._menuItemInstance),Mt(()=>this._menuOpen)):Fe(),i)}_handleMousedown(e){Ad(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Mt(e=>e===this._menuItemInstance&&!e.disabled),Zu(0,i_)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof lc&&this.menu._isAnimating?this.menu._animationDone.pipe(qn(1),Zu(0,i_),ri(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new s_(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(V(qd),V(ct),V(In),V(gM),V(u_,8),V(ac,10),V(ms,8),V(ps),V(qe))},n.\u0275dir=Re({type:n,hostVars:3,hostBindings:function(e,i){1&e&&Ct("click",function(o){return i._handleClick(o)})("mousedown",function(o){return i._handleMousedown(o)})("keydown",function(o){return i._handleKeydown(o)}),2&e&&Et("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),yM=(()=>{class n extends pj{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=hn(n)))(i||n)}}(),n.\u0275dir=Re({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[$e]}),n})(),vM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({providers:[fj],imports:[Qr,Zt,Nd,rj,Gd,Zt]}),n})(),mj=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Qt(e)}get inset(){return this._inset}set inset(e){this._inset=Qt(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bt({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(Et("aria-orientation",i.vertical?"vertical":"horizontal"),Yt("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),gj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[Zt,Zt]}),n})();function d_(n){let e,t=1/0;return null!=n&&("object"==typeof n?({count:t=1/0,delay:e}=n):t=n),t<=0?()=>Ki:ce((i,r)=>{let s,o=0;const a=()=>{if(s?.unsubscribe(),s=null,null!=e){const d="number"==typeof e?Co(e):Bn(e(o)),p=ee(r,()=>{p.unsubscribe(),c()});d.subscribe(p)}else c()},c=()=>{let d=!1;s=i.subscribe(ee(r,void 0,()=>{++o<t?s?a():d=!0:r.complete()})),d&&a()};c()})}const _j={leading:!0,trailing:!1};function bM(n,t=_j){return ce((e,i)=>{const{leading:r,trailing:o}=t;let s=!1,a=null,c=null,d=!1;const p=()=>{c?.unsubscribe(),c=null,o&&(S(),d&&i.complete())},g=()=>{c=null,d&&i.complete()},E=R=>c=Bn(n(R)).subscribe(ee(i,p,g)),S=()=>{if(s){s=!1;const R=a;a=null,i.next(R),!d&&E(R)}};e.subscribe(ee(i,R=>{s=!0,a=R,(!c||c.closed)&&(r?S():E(R))},()=>{d=!0,(!(o&&s&&c)||c.closed)&&i.complete()}))})}function yj(n,t){if(1&n&&(Ee(0,"span",8),yt(1),xe()),2&n){const e=t.$implicit;ke(1),Ni(e)}}function vj(n,t){1&n&&(Ee(0,"span",9),yt(1," / "),xe())}function bj(n,t){if(1&n&&(Ee(0,"div",5),Ut(1,yj,2,1,"span",6),Ut(2,vj,2,0,"span",7),xe()),2&n){const e=t.$implicit,i=t.index,r=rn(2);ke(1),Ne("ngForOf",e),ke(1),Ne("ngIf",r.parsedKeys.length>1&&i<r.parsedKeys.length-1)}}function wj(n,t){if(1&n&&(Ee(0,"div",1)(1,"div",2)(2,"span"),yt(3),xe()(),Ee(4,"div",3),Ut(5,bj,3,2,"div",4),xe()()),2&n){const e=rn();Yt("item--odd",e.index%2!=0),ke(3),Ni(e.shortcut.description),ke(2),Ne("ngForOf",e.parsedKeys)}}function Ej(n,t){if(1&n&&(Ee(0,"span"),yt(1),xe()),2&n){const e=rn(3);ke(1),sr(" ",e.emptyMessage," ")}}function Cj(n,t){if(1&n&&rt(0,"ng-keyboard-shortcuts-help-item",11),2&n){const i=t.index;Ne("shortcut",t.$implicit)("index",i)}}function Dj(n,t){if(1&n&&(Ee(0,"ul",8)(1,"h4",9),yt(2),xe(),Ut(3,Cj,1,2,"ng-keyboard-shortcuts-help-item",10),xe()),2&n){const e=t.$implicit,i=rn(3);ke(2),Ni(e),ke(1),Ne("ngForOf",i.shortcuts[e])}}function Sj(n,t){if(1&n&&(Ee(0,"div")(1,"div",3)(2,"h3",4),yt(3),xe()(),Ee(4,"div",5),Ut(5,Ej,2,1,"span",6),Ee(6,"div"),Ut(7,Dj,4,2,"ul",7),xe()()()),2&n){const e=rn(2);ew(e.className),Ne("@enterAnimation",void 0),ke(2),gu("id","modal-",e.title,""),ke(1),Ni(e.title),ke(2),Ne("ngIf",!e.labels.length),ke(2),Ne("ngForOf",e.labels)}}function xj(n,t){if(1&n){const e=mu();Ee(0,"div",12),Ct("mousedown",function(){return $o(e),Go(rn(2).hide())}),xe()}2&n&&Ne("@overlayAnimation",void 0)}function Mj(n,t){if(1&n&&(Ee(0,"div",0),Ut(1,Sj,8,8,"div",1),Hp(2,"async"),Ut(3,xj,1,1,"div",2),Hp(4,"async"),xe()),2&n){const e=rn();Et("aria-labelledby","modal-"+e.title),ke(1),Ne("ngIf",jp(2,3,e.showing$)),ke(2),Ne("ngIf",jp(4,5,e.showing$))}}function wM(n){return"function"==typeof n}const kj=(n,t)=>{let e=0;for(;e<t.length;){if(n(t[e]))return!0;e+=1}return!1},cc=n=>n,Ij=n=>null==n,Ir=typeof navigator<"u"&&navigator.userAgent.includes("Mac OS"),Yd={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",cmd:Ir?"metaKey":"ctrlKey",command:Ir?"metaKey":"ctrlKey",meta:Ir?"metaKey":"ctrlKey","left command":"metaKey","right command":"MetaRight","\u2318":Ir?"metaKey":"ctrlKey",option:"altKey",ctl:"ctrlKey",control:"ctrlKey"},Kd={plus:"+"},CM={cmd:Ir?"\u2318":"Ctrl",command:Ir?"\u2318":"Ctrl","left command":Ir?"\u2318":"Ctrl","right command":Ir?"\u2318":"Ctrl",option:Ir?"\u2325":"Alt",plus:"+",left:"\u2190",right:"\u2192",up:"\u2191",down:"\u2193",alt:Ir?"\u2325":"Alt",ctrl:"Ctrl",control:"Ctrl",shift:"\u21e7"},Xd={8:"backspace",9:"tab",13:"enter",16:"shift",17:["ctrl","control"],18:"alt",20:"capslock",27:["esc","escape"],32:["space","spc"],33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:["meta","cmd","command"],93:["meta","cmd","command"],224:["meta","cmd","command"]},DM={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},h_={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},Fj=function Tj(n){const t={};for(const e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}(h_);for(let n=1;n<20;++n)Xd[111+n]="f"+n;for(let n=0;n<=9;++n)Xd[n+96]=n.toString();var Ro=(()=>{return(n=Ro||(Ro={})).Textarea="TEXTAREA",n.Input="INPUT",n.Select="SELECT",n.ContentEditable="CONTENT-EDITABLE",Ro;var n})();let Nj=0,Ma=(()=>{class n{constructor(e){this.document=e,this._shortcuts=[],this._sequences=[],this.throttleTime=0,this._pressed=new I,this.pressed$=this._pressed.asObservable(),this.disabled=!1,this._shortcutsSub=new di([]),this.shortcuts$=this._shortcutsSub.pipe(Mt(i=>!!i.length)),this._ignored=[Ro.Input,Ro.Textarea,Ro.Select,Ro.ContentEditable],this.isAllowed=i=>{const r=i.event.target,o=!!r.getAttribute("contenteditable"),s=o?Ro.ContentEditable:r.nodeName;return r===i.target||(i.allowIn.length?!((n,t)=>this._ignored.filter(e=>!t.includes(e)))(0,i.allowIn).includes(s):!o&&!this._ignored.includes(r.nodeName))},this.mapEvent=i=>this._shortcuts.filter(r=>!r.isSequence).map(r=>Object.assign({},r,{predicates:kj(cc,r.predicates.map(o=>(n=>(...t)=>{let e=0;const i=n.length;for(;e<i;){if(!n[e].apply(void 0,t))return!1;e+=1}return!0})(o)(i))),event:i})).filter(r=>r.predicates).reduce((r,o)=>r.priority>o.priority?r:o,{priority:0}),this.subscriptions=[],this.keydown$=Ao(this.document,"keydown"),this.ignore$=this.pressed$.pipe(Mt(i=>i.event.defaultPrevented),Fn(()=>this.clicks$.pipe(eo())),Vt(i=>{i.preventDefault(),i.stopPropagation()}),d_()),this.clicks$=Ao(this.document,"click",{capture:!0}),this.keyup$=Ao(this.document,"keyup"),this.keydownCombo$=this.keydown$.pipe(Mt(i=>!this.disabled),j(this.mapEvent),Mt(i=>!i.target||i.event.target===i.target),Mt(i=>wM(i.command)),Mt(i=>this.isAllowed(i)),Vt(i=>{!i.preventDefault||(i.event.preventDefault(),i.event.stopPropagation())}),bM(i=>Co(i.throttleTime)),Vt(i=>i.command({event:i.event,key:i.key})),Vt(i=>this._pressed.next({event:i.event,key:i.key})),ri(this.keyup$),d_(),xr(i=>ls(i))),this.timer$=new I,this.resetCounter$=this.timer$.asObservable().pipe(Fn(()=>Co(n.TIMEOUT_SEQUENCE))),this.keydownSequence$=this.keydown$.pipe(j(i=>({event:i,sequences:this._sequences})),pg((i,r)=>{const{event:o}=r,s=i.events.length,a=s?i.sequences:r.sequences,[c]=this.characterFromEvent(o),d=Array.isArray(c)?[...c,o.key]:[c,o.key],p=a.map(S=>{const R=S.sequence.filter(te=>d.some(le=>(Kd[te[s]]||te[s])===le)),W=R.length>0;return S.fullMatch?S:{...S,sequence:R,partialMatch:W,event:o,fullMatch:W&&this.isFullMatch({command:S,events:i.events})}}).filter(S=>S.partialMatch||S.fullMatch),[g]=p;if(!g||this.modifiersOn(o))return{events:[],sequences:this._sequences};const E=((n,t)=>t.reduce((e,i)=>{const r=(n=>t=>t[n])(n);return r(i)>r(e)?i:e},{[n]:0}))("priority",p);return p.length>1&&E.fullMatch?{events:[],command:E,sequences:this._sequences}:p.length>1?{events:[...i.events,o],command:p,sequences:p}:g.fullMatch?{events:[],command:g,sequences:this._sequences}:{events:[...i.events,o],command:p,sequences:p}},{events:[],sequences:[]}),Fn(({command:i})=>Array.isArray(i)?Co(500).pipe(j(()=>({command:i.filter(r=>r.fullMatch)[0]}))):Fe({command:i})),ri(this.pressed$),Mt(({command:i})=>i&&i.fullMatch),j(({command:i})=>i),Mt(i=>wM(i.command)),Mt(i=>!i.target||i.event.target===i.target),Mt(this.isAllowed),Vt(i=>!i.preventDefault||i.event.preventDefault()),bM(i=>Co(i.throttleTime)),Vt(i=>i.command({event:i.event,key:i.key})),Vt(i=>this._pressed.next({event:i.event,key:i.key})),ri(this.resetCounter$),d_()),this.getKeys=i=>i.map(r=>r.trim()).filter(r=>"+"!==r).map(r=>Yd.hasOwnProperty(r=Kd[r]||r)?o=>!!o[Yd[r]]:o=>{const s=r===r.toUpperCase(),a=/[^a-zA-Z\d\s:]/.test(r),c=Fj[r],[d]=this.characterFromEvent(o),g=Object.keys(Yd).map(S=>Yd[S]).some(S=>o[S]),E=Array.isArray(d)?[...d,o.key]:[d,o.key];return!(g&&(!s||a)&&!c&&1===i.length)&&E.some(S=>!(S!==r||!s)||r===S)}),this.subscriptions.push(this.keydownSequence$.subscribe(),this.keydownCombo$.subscribe())}isFullMatch({command:e,events:i}){return!!e&&e.sequence.some(r=>r.length===i.length+1)}get shortcuts(){return this._shortcuts}_characterFromEvent(e){return"number"!=typeof e.which&&(e.which=e.keyCode),Kd[e.which]?[Kd[e.which],e.shiftKey]:Xd[e.which]?[Xd[e.which],e.shiftKey]:DM[e.which]?[DM[e.which],e.shiftKey]:String.fromCharCode(e.which).toLowerCase()!==e.key?[String.fromCharCode(e.which).toLowerCase(),e.shiftKey]:[e.key,e.shiftKey]}characterFromEvent(e){const[i,r]=this._characterFromEvent(e);return r&&h_[i]?[h_[i],r]:[i,r]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}isSequence(e){return!e.some(i=>i.includes("+")||1===i.length)}add(e){e=Array.isArray(e)?e:[e];const i=this.parseCommand(e);return i.forEach(r=>{r.isSequence?this._sequences.push(r):this._shortcuts.push(r)}),setTimeout(()=>{this._shortcutsSub.next([...this._shortcuts,...this._sequences])}),i.map(r=>r.id)}remove(e){return e=Array.isArray(e)?e:[e],this._shortcuts=this._shortcuts.filter(i=>!e.includes(i.id)),this._sequences=this._sequences.filter(i=>!e.includes(i.id)),setTimeout(()=>{this._shortcutsSub.next([...this._shortcuts,...this._sequences])}),this}select(e){return this.pressed$.pipe(Mt(({key:r})=>!!(r=Array.isArray(r)?r:[r]).find(o=>o===e)))}modifiersOn(e){return["metaKey","altKey","ctrlKey"].some(i=>e[i])}parseCommand(e){return(Array.isArray(e)?e:[e]).map(r=>{const o=Array.isArray(r.key)?r.key:[r.key],s=Math.max(...o.map(p=>p.split(" ").filter(cc).length)),a=o.map(p=>this.getKeys(p.split(" ").filter(cc))),c=this.isSequence(o),d=c?o.map(p=>p.split(" ").filter(cc).map(g=>g.trim())):[];return{...r,isSequence:c,sequence:c?d:[],allowIn:r.allowIn||[],key:o,id:""+Nj++,throttle:Ij(r.throttleTime)?this.throttleTime:r.throttleTime,priority:s,predicates:a}})}}return n.TIMEOUT_SEQUENCE=1e3,n.\u0275fac=function(e){return new(e||n)(se(Je))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lj=(()=>{class n{constructor(e){this.keyboard=e,this.shortcuts=[],this.clearIds=[],this._disabled=!1}set disabled(e){this._disabled=e,this.clearIds&&(this.keyboard.remove(this.clearIds),this.clearIds=[]),!e&&(this.clearIds=this.keyboard.add(this.shortcuts))}select(e){return this.keyboard.select(e)}ngOnChanges(e){!e.shortcuts||!e.shortcuts.currentValue||(this.clearIds&&this.keyboard.remove(this.clearIds),this._disabled||setTimeout(()=>this.clearIds=this.keyboard.add(e.shortcuts.currentValue)))}ngOnDestroy(){this.keyboard.remove(this.clearIds)}}return n.\u0275fac=function(e){return new(e||n)(V(Ma))},n.\u0275cmp=Bt({type:n,selectors:[["ng-keyboard-shortcuts"]],inputs:{shortcuts:"shortcuts",disabled:"disabled"},features:[Cn],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),SM=(()=>{class n{constructor(e){this.keyboard=e,this.shortcuts$=this.keyboard.shortcuts$.pipe(j(i=>i.filter(r=>Boolean(r.label)&&Boolean(r.description)).map(({key:r,label:o,description:s})=>({key:r,label:o,description:s}))))}}return n.\u0275fac=function(e){return new(e||n)(se(Ma))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bj=(()=>{class n{constructor(e){this.keyboardService=e}select(e){return this.keyboardService.select(e)}}return n.\u0275fac=function(e){return new(e||n)(se(Ma))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xM{attach(t){return null==t&&console.error("null portal error"),t.hasAttached()&&console.error("portal already attached"),this._attachedHost=t,t.attach(this)}detach(){const t=this._attachedHost;null==t?console.error("no portal attached!"):(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Uj extends xM{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class MM extends xM{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Hj extends class Vj{constructor(){this._isDisposed=!1}hasAttached(){return!!this._attachedPortal}attach(t){return t||console.error("null portal!"),this.hasAttached()&&console.error("portal already attached"),this._isDisposed&&console.error("portal out already disposed"),t instanceof Uj?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof MM?(this._attachedPortal=t,this.attachTemplatePortal(t)):void console.error("unknown portal type")}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,i,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),r}attachTemplatePortal(t){const e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.detectChanges(),i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),this.setDisposeFn(()=>{const r=e.indexOf(i);-1!==r&&e.remove(r)}),i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let jj=(()=>{class n{constructor(){}set shortcut(e){const i=Array.isArray(e.key)?e.key:[e.key];this.parsedKeys=i.map(r=>r.split(" ").filter(cc).filter(o=>"+"!==o).map(o=>CM[o]?CM[o]:o)),this._shortcut=e}get shortcut(){return this._shortcut}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bt({type:n,selectors:[["ng-keyboard-shortcuts-help-item"]],inputs:{index:"index",shortcut:"shortcut"},decls:1,vars:1,consts:[["class","item",3,"item--odd",4,"ngIf"],[1,"item"],[1,"description"],[1,"keys"],["class","key__container",4,"ngFor","ngForOf"],[1,"key__container"],["class","key",4,"ngFor","ngForOf"],["class","separator",4,"ngIf"],[1,"key"],[1,"separator"]],template:function(e,i){1&e&&Ut(0,wj,6,4,"div",0),2&e&&Ne("ngIf",i.shortcut.description)},dependencies:[Zr,zu],styles:[".key[_ngcontent-%COMP%]{border:1px solid #CCCCCC;border-radius:4px;padding:5px 12px;margin-right:5px;background-color:#f5f5f5}.key__container[_ngcontent-%COMP%]{display:inline-block}.separator[_ngcontent-%COMP%]{margin-right:5px}.keys[_ngcontent-%COMP%]{float:right}.item[_ngcontent-%COMP%]{background-color:#ebebeb;padding:12px}.description[_ngcontent-%COMP%]{min-width:168px;display:inline-block;color:#333}.item--odd[_ngcontent-%COMP%]{background-color:#fff}"]}),n})();const zj=new Map([[31,1],[38,1],[39,1],[40,1]]),TM=n=>t=>{t.target.closest(n)||((t=t||window.event).preventDefault&&t.preventDefault(),t.returnValue=!1)},kM=n=>!zj.has(n.keyCode)||(TM(n),!1);let Zd=[{name:"wheel",callback:null},{name:"touchmove",callback:null},{name:"DOMMouseScroll",callback:null}],qj=(()=>{class n{constructor(e,i,r,o,s,a,c){this.componentFactoryResolver=e,this.appRef=i,this.keyboard=r,this.element=o,this.keyboardHelp=s,this.viewContainer=a,this.injector=c,this.disableScrolling=!0,this.className="help-modal",this.title="Keyboard shortcuts",this.emptyMessage="No shortcuts available",this.showing$=new di(!1),this.bodyPortalHost=new Hj(document.body,this.componentFactoryResolver,this.appRef,this.injector)}set key(e){this._key=e,e&&(this.clearIds&&this.keyboard.remove(this.clearIds),this.clearIds=this.addShortcut({key:e,preventDefault:!0,command:()=>this.toggle(),description:this.keyDescription,label:this.keyLabel}))}addShortcut(e){return this.keyboard.add(e)}reveal(){this.hide(),this.disableScrolling&&(n=>{Zd=Zd.map(t=>{const e=TM(n);return window.addEventListener(t.name,e,{passive:!1}),{...t,callback:e}}),window.addEventListener("keydown",kM)})(`.${this.className}`);const e=new MM(this.template,this.viewContainer);return this.bodyPortalHost.attach(e),this.showing$.next(!0),this}visible(){return this.bodyPortalHost.hasAttached()}hide(){return this.disableScrolling&&(Zd=Zd.map(n=>(window.removeEventListener(n.name,n.callback),{...n,callback:null})),window.removeEventListener("keydown",kM)),this.bodyPortalHost.hasAttached()?(this.bodyPortalHost.detach(),this.showing$.next(!1),this):this}ngOnDestroy(){this.hide(),this.clearIds&&this.keyboard.remove(this.clearIds),this.closeKeyIds&&this.keyboard.remove(this.closeKeyIds),this.subscription&&this.subscription.unsubscribe(),this.timeoutId&&clearTimeout(this.timeoutId)}toggle(){return this.visible()?this.hide():this.reveal(),this}ngOnInit(){this.subscription=this.keyboardHelp.shortcuts$.pipe(kd(),j(e=>function Aj(n,t){return n.reduce((e,i)=>({...e,[i[t]]:[...e[i[t]]||[],i]}),{})}(e,"label"))).subscribe(e=>{this.shortcuts=e,this.labels=Object.keys(e)})}ngOnChanges(e){!e.closeKey.currentValue||(this.closeKeyIds&&this.keyboard.remove(this.closeKeyIds),this.closeKeyIds=this.addShortcut({key:e.closeKey.currentValue,preventDefault:!0,command:()=>this.hide(),description:this.closeKeyDescription,label:this.closeKeyDescription}))}}return n.\u0275fac=function(e){return new(e||n)(V(go),V(ns),V(Ma),V(ct),V(SM),V(In),V(jn))},n.\u0275cmp=Bt({type:n,selectors:[["ng-keyboard-shortcuts-help"]],viewQuery:function(e,i){if(1&e&&An(wi,5),2&e){let r;Nt(r=Lt())&&(i.template=r.first)}},inputs:{disableScrolling:"disableScrolling",keyDescription:"keyDescription",keyLabel:"keyLabel",closeKeyLabel:"closeKeyLabel",closeKeyDescription:"closeKeyDescription",key:"key",closeKey:"closeKey",title:"title",emptyMessage:"emptyMessage"},features:[Cn],decls:1,vars:0,consts:[["role","dialog",1,"help-modal__container"],[3,"class",4,"ngIf"],["class","help-modal__backdrop",3,"mousedown",4,"ngIf"],[1,"title"],[1,"title__text",3,"id"],[1,"help-modal__body"],[4,"ngIf"],["class","help-modal__list",4,"ngFor","ngForOf"],[1,"help-modal__list"],[1,"item-group-label"],[3,"shortcut","index",4,"ngFor","ngForOf"],[3,"shortcut","index"],[1,"help-modal__backdrop",3,"mousedown"]],template:function(e,i){1&e&&Ut(0,Mj,5,7,"ng-template")},dependencies:[jj,Zr,zu,LC],styles:[".help-modal__container[_ngcontent-%COMP%]{position:fixed;top:0;right:0;z-index:500;left:0;bottom:0;display:flex;align-items:center;justify-content:center}.help-modal[_ngcontent-%COMP%]{z-index:2000;min-width:420px;max-height:calc(100% - 100px);overflow:auto;padding:20px;box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;background:#fff}.item-group-label[_ngcontent-%COMP%]{text-transform:capitalize}.title[_ngcontent-%COMP%]{padding:20px 0}.title__text[_ngcontent-%COMP%]{margin:0;padding:0}.help-modal__list[_ngcontent-%COMP%]{padding:0}.help-modal__backdrop[_ngcontent-%COMP%]{position:absolute;background:rgba(0,0,0,.27);top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;opacity:1}"],data:{animation:[_s("enterAnimation",[kr(":enter",[pn({transform:"translateX(-100%)",opacity:0}),Tr("0.33s cubic-bezier(0,0,0.3,1)",pn({transform:"translateX(0)",opacity:1}))]),kr(":leave",[pn({transform:"translateX(0)",opacity:1}),Tr("0.23s cubic-bezier(0,0,0.3,1)",pn({transform:"translateX(-100%)",opacity:0}))])]),_s("overlayAnimation",[kr(":enter",[pn({opacity:0}),Tr("1s cubic-bezier(0,0,0.3,1)",pn({opacity:1}))]),kr(":leave",[pn({opacity:1}),Tr("1s cubic-bezier(0,0,0.3,1)",pn({opacity:0}))])])]}}),n})(),Wj=(()=>{class n{constructor(e,i){this.ngZone=e,this.keyboard=i}supports(e){return e.split(".").includes("shortcut")}addEventListener(e,i,r){const o=i.split("."),s=o.includes("prevent");if(0===o.length)throw new Error("please provide a shortcut");const[,a,c,d]=o,p=this.keyboard.add({key:a,command(g){r(g)},description:c,preventDefault:s,label:d});return()=>{this.keyboard.remove(p)}}}return n.\u0275fac=function(e){return new(e||n)(se(qe),se(Ma))},n.\u0275prov=Se({token:n,factory:n.\u0275fac}),n})(),IM=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Ma,SM,Bj,{multi:!0,provide:kl,useClass:Wj}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[[Qr]]}),n})();function Yj(n,t){1&n&&rt(0,"mat-progress-bar",10)}typeof Element>"u"||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(n){let t=this;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})),Array.prototype.flat||(Array.prototype.flat=function(n){var t=[];return function e(i,r){for(let o of i)Array.isArray(o)&&r>0?e(o,r-1):t.push(o)}(this,Math.floor(n)||1),t}),Array.prototype.flatMap||(Array.prototype.flatMap=function(){return Array.prototype.map.apply(this,arguments).flat(1)});let Kj=(()=>{class n{constructor(e,i,r,o,s){this._motionConnection=e,this._recordingService=i,this._progressTracker=r,this._preferences=o,this._router=s,this._disposer=new Eo}ngOnInit(){this._motionConnection.connect()}ngOnDestroy(){this._motionConnection.disconnect()}get connectionStateIcon(){return f_[this._motionConnection.state.type].icon}get connectionStateLabel(){return f_[this._motionConnection.state.type].label}get connectionMenuHeader(){return"error"==this._motionConnection.state.type?this.errorMessage:f_[this._motionConnection.state.type].label}get errorMessage(){return"error"!==this._motionConnection.state.type?"":"deviceNotFound"===this._motionConnection.state.detail?"Device not found":this._motionConnection.state.message??"Unknwon error"}selectDevice(){const e=window.location.toString(),i=e.indexOf("/motion.");window.location.replace(e.substring(0,i)+"/index.html")}get showProgress(){return this._progressTracker.isActive}get isConnected(){return"connected"==this._motionConnection.state.type}get isRecording(){return this._recordingService.isRecording}toggleRecording(){var e=this;return Le(function*(){if(e._recordingService.isRecording){const i=e._recordingService.stopRecording(),r=yield e._progressTracker.trackPromise(i);e._router.navigate(["recording",{id:r}])}else if(e._preferences.useGestureScript){const i=e._recordingService.recordScript(e._preferences.gestureScript),r=yield e._progressTracker.trackPromise(i);e._router.navigate(["recording",{id:r}])}else e._recordingService.startRecording()})()}}return n.\u0275fac=function(e){return new(e||n)(V(Do),V(ag),V(cg),V(Ju),V(Tn))},n.\u0275cmp=Bt({type:n,selectors:[["app-root"]],decls:20,vars:9,consts:[["color","primary"],[1,"header-spacer"],["mat-flat-button","",3,"disabled","click"],["mat-icon-button","",3,"matMenuTriggerFor"],["connectionMenu","matMenu"],[1,"status"],["mat-menu-item","",3,"click"],[1,"content","mat-app-background"],["mode","indeterminate",4,"ngIf"],[3,"key","closeKey","disableScrolling"],["mode","indeterminate"]],template:function(e,i){if(1&e&&(Ee(0,"mat-toolbar",0)(1,"span"),yt(2,"Motion"),xe(),rt(3,"span",1),Ee(4,"button",2),Ct("click",function(){return i.toggleRecording()}),yt(5),xe(),Ee(6,"button",3)(7,"mat-icon"),yt(8),xe()(),Ee(9,"mat-menu",null,4)(11,"div",5),yt(12),xe(),rt(13,"mat-divider"),Ee(14,"button",6),Ct("click",function(){return i.selectDevice()}),yt(15," Select device & process "),xe()()(),Ee(16,"div",7),Ut(17,Yj,1,0,"mat-progress-bar",8),rt(18,"router-outlet"),xe(),rt(19,"ng-keyboard-shortcuts-help",9)),2&e){const r=Gr(10);ke(4),Ne("disabled",!i.isConnected),ke(1),sr(" ",i.isRecording?"Stop":"Run"," "),ke(1),Ne("matMenuTriggerFor",r),ke(2),Ni(i.connectionStateIcon),ke(4),sr(" ",i.connectionMenuHeader," "),ke(5),Ne("ngIf",i.showProgress),ke(2),Ne("key","?")("closeKey","escape")("disableScrolling",!0)}},dependencies:[Zr,wH,Hd,n4,t_,mM,ac,yM,Ig,mj,qj],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;align-content:stretch;align-items:stretch}.header-spacer[_ngcontent-%COMP%]{flex:1 1 auto}mat-toolbar[_ngcontent-%COMP%]{flex:0 0 64px}mat-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}.content[_ngcontent-%COMP%]{position:relative;display:flex;flex-grow:1;overflow:scroll;align-content:stretch}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0}.status[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;outline:none;border:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}"]}),n})();const f_={disconnected:{label:"Disconnected",icon:"usb_off"},connecting:{label:"Connecting...",icon:"usb"},connected:{label:"Connected",icon:"usb"},error:{label:"Error",icon:"error_outline"},unauthorized:{label:"Unauthorized",icon:"warning_amber"}};function AM(n){return new de(3e3,!1)}function Iz(){return typeof window<"u"&&typeof window.document<"u"}function p_(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Oo(n){switch(n.length){case 0:return new rc;case 1:return n[0];default:return new Gx(n)}}function RM(n,t,e,i,r=new Map,o=new Map){const s=[],a=[];let c=-1,d=null;if(i.forEach(p=>{const g=p.get("offset"),E=g==c,S=E&&d||new Map;p.forEach((R,W)=>{let te=W,le=R;if("offset"!==W)switch(te=t.normalizePropertyName(te,s),le){case"!":le=r.get(W);break;case ro:le=o.get(W);break;default:le=t.normalizeStyleValue(W,te,le,s)}S.set(te,le)}),E||a.push(S),d=S,c=g}),s.length)throw function yz(n){return new de(3502,!1)}();return a}function m_(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&g_(e,"start",n)));break;case"done":n.onDone(()=>i(e&&g_(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&g_(e,"destroy",n)))}}function g_(n,t,e){const o=__(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function __(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Ci(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function OM(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let y_=(n,t)=>!1,PM=(n,t,e)=>[],FM=null;function v_(n){const t=n.parentNode||n.host;return t===FM?null:t}(p_()||typeof Element<"u")&&(Iz()?(FM=(()=>document.documentElement)(),y_=(n,t)=>{for(;t;){if(t===n)return!0;t=v_(t)}return!1}):y_=(n,t)=>n.contains(t),PM=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let bs=null,NM=!1;const LM=y_,BM=PM;let UM=(()=>{class n{validateStyleProperty(e){return function Rz(n){bs||(bs=function Oz(){return typeof document<"u"?document.body:null}()||{},NM=!!bs.style&&"WebkitAppearance"in bs.style);let t=!0;return bs.style&&!function Az(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in bs.style,!t&&NM&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in bs.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return LM(e,i)}getParentElement(e){return v_(e)}query(e,i,r){return BM(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],c){return new rc(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Se({token:n,factory:n.\u0275fac}),n})(),b_=(()=>{class n{}return n.NOOP=new UM,n})();const w_="ng-enter",Qd="ng-leave",Jd="ng-trigger",eh=".ng-trigger",HM="ng-animating",E_=".ng-animating";function oo(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:C_(parseFloat(t[1]),t[2])}function C_(n,t){return"s"===t?1e3*n:n}function th(n,t,e){return n.hasOwnProperty("duration")?n:function Nz(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(AM()),{duration:0,delay:0,easing:""};r=C_(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=C_(parseFloat(c),a[4]));const d=a[5];d&&(s=d)}else r=n;if(!e){let a=!1,c=t.length;r<0&&(t.push(function Xj(){return new de(3100,!1)}()),a=!0),o<0&&(t.push(function Zj(){return new de(3101,!1)}()),a=!0),a&&t.splice(c,0,AM())}return{duration:r,delay:o,easing:s}}(n,t,e)}function uc(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function jM(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Po(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function $M(n,t,e){return e?t+":"+e+";":""}function GM(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=$M(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=$M(0,Vz(e),n.style[e]));n.setAttribute("style",t)}function Ar(n,t,e){n.style&&(t.forEach((i,r)=>{const o=S_(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),p_()&&GM(n))}function ws(n,t){n.style&&(t.forEach((e,i)=>{const r=S_(i);n.style[r]=""}),p_()&&GM(n))}function dc(n){return Array.isArray(n)?1==n.length?n[0]:zx(n):n}const D_=new RegExp("{{\\s*(.+?)\\s*}}","g");function qM(n){let t=[];if("string"==typeof n){let e;for(;e=D_.exec(n);)t.push(e[1]);D_.lastIndex=0}return t}function hc(n,t,e){const i=n.toString(),r=i.replace(D_,(o,s)=>{let a=t[s];return null==a&&(e.push(function Jj(n){return new de(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function nh(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Uz=/-+([a-z0-9])/g;function S_(n){return n.replace(Uz,(...t)=>t[1].toUpperCase())}function Vz(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Di(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function ez(n){return new de(3004,!1)}()}}function WM(n,t){return window.getComputedStyle(n)[t]}function qz(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Wz(n,t,e){if(":"==n[0]){const c=function Yz(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function pz(n){return new de(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof c)return void t.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function fz(n){return new de(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push(YM(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&t.push(YM(s,r))}(i,e,t)):e.push(n),e}const sh=new Set(["true","1"]),ah=new Set(["false","0"]);function YM(n,t){const e=sh.has(n)||ah.has(n),i=sh.has(t)||ah.has(t);return(r,o)=>{let s="*"==n||n==r,a="*"==t||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?sh.has(n):ah.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?sh.has(t):ah.has(t)),s&&a}}const Kz=new RegExp("s*:selfs*,?","g");function x_(n,t,e,i){return new Xz(n).build(t,e,i)}class Xz{constructor(t){this._driver=t}build(t,e,i){const r=new Jz(e);return this._resetContextStyleTimingState(r),Di(this,dc(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function nz(){return new de(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const c=a,d=c.name;d.toString().split(/\s*,\s*/).forEach(p=>{c.name=p,o.push(this.visitState(c,e))}),c.name=d}else if(1==a.type){const c=this.visitTransition(a,e);i+=c.queryCount,r+=c.depCount,s.push(c)}else e.errors.push(function iz(){return new de(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{qM(c).forEach(d=>{s.hasOwnProperty(d)||o.add(d)})})}),o.size&&(nh(o.values()),e.errors.push(function rz(n,t){return new de(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Di(this,dc(t.animation),e);return{type:1,matchers:qz(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Es(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Di(this,i,e)),options:Es(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=Di(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:Es(t.options)}}visitAnimate(t,e){const i=function t6(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return M_(th(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=M_(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=th(e,t);return M_(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:pn({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const d={};i.easing&&(d.easing=i.easing),s=pn(d)}e.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,e);c.isEmptyStep=a,r=c}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===ro?i.push(a):e.errors.push(new de(3002,!1)):i.push(jM(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const d=e.collectedStyles.get(e.currentQuerySelector),p=d.get(c);let g=!0;p&&(o!=r&&o>=p.startTime&&r<=p.endTime&&(e.errors.push(function sz(n,t,e,i,r){return new de(3010,!1)}()),g=!1),o=p.startTime),g&&d.set(c,{startTime:o,endTime:r}),e.options&&function Bz(n,t,e){const i=t.params||{},r=qM(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function Qj(n){return new de(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function az(){return new de(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,d=0;const p=t.steps.map(le=>{const _e=this._makeStyleAst(le,e);let oe=null!=_e.offset?_e.offset:function e6(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(_e.styles),Te=0;return null!=oe&&(o++,Te=_e.offset=oe),c=c||Te<0||Te>1,a=a||Te<d,d=Te,s.push(Te),_e});c&&e.errors.push(function lz(){return new de(3012,!1)}()),a&&e.errors.push(function cz(){return new de(3200,!1)}());const g=t.steps.length;let E=0;o>0&&o<g?e.errors.push(function uz(){return new de(3202,!1)}()):0==o&&(E=1/(g-1));const S=g-1,R=e.currentTime,W=e.currentAnimateTimings,te=W.duration;return p.forEach((le,_e)=>{const oe=E>0?_e==S?1:E*_e:s[_e],Te=oe*te;e.currentTime=R+W.delay+Te,W.duration=Te,this._validateStyleAst(le,e),le.offset=oe,i.styles.push(le)}),i}visitReference(t,e){return{type:8,animation:Di(this,dc(t.animation),e),options:Es(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Es(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Es(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function Zz(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Kz,"")),n=n.replace(/@\*/g,eh).replace(/@\w+/g,e=>eh+"-"+e.slice(1)).replace(/:animating/g,E_),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Ci(e.collectedStyles,e.currentQuerySelector,new Map);const a=Di(this,dc(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Es(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function dz(){return new de(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:th(t.timings,e.errors,!0);return{type:12,animation:Di(this,dc(t.animation),e),timings:i,options:null}}}class Jz{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Es(n){return n?(n=uc(n)).params&&(n.params=function Qz(n){return n?uc(n):null}(n.params)):n={},n}function M_(n,t,e){return{duration:n,delay:t,easing:e}}function T_(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class lh{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const r6=new RegExp(":enter","g"),s6=new RegExp(":leave","g");function k_(n,t,e,i,r,o=new Map,s=new Map,a,c,d=[]){return(new a6).buildKeyframes(n,t,e,i,r,o,s,a,c,d)}class a6{buildKeyframes(t,e,i,r,o,s,a,c,d,p=[]){d=d||new lh;const g=new I_(t,e,d,r,o,p,[]);g.options=c;const E=c.delay?oo(c.delay):0;g.currentTimeline.delayNextStep(E),g.currentTimeline.setStyles([s],null,g.errors,c),Di(this,i,g);const S=g.timelines.filter(R=>R.containsAnimation());if(S.length&&a.size){let R;for(let W=S.length-1;W>=0;W--){const te=S[W];if(te.element===e){R=te;break}}R&&!R.allowOnlyTimelineStyles()&&R.setStyles([a],null,g.errors,c)}return S.length?S.map(R=>R.buildKeyframes()):[T_(e,[],[],[],0,E,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:oo(hc(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?oo(i.duration):null,a=null!=i.delay?oo(i.delay):null;return 0!==s&&t.forEach(c=>{const d=e.appendInstructionToTimeline(c,s,a);o=Math.max(o,d.duration+d.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Di(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ch);const s=oo(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Di(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?oo(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),Di(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return th(e.params?hc(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?oo(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ch);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let c=null;a.forEach((d,p)=>{e.currentQueryIndex=p;const g=e.createSubContext(t.options,d);o&&g.delayNextStep(o),d===e.element&&(c=g.currentTimeline),Di(this,t.animation,g),g.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,g.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let c=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const p=e.currentTimeline;c&&p.delayNextStep(c);const g=p.currentTime;Di(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-g+(r.startTime-i.currentTimeline.startTime)}}const ch={};class I_{constructor(t,e,i,r,o,s,a,c){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ch,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new uh(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=oo(i.duration)),null!=i.delay&&(r.delay=oo(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=hc(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new I_(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=ch,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new l6(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(r6,"."+this._enterClassName)).replace(s6,"."+this._leaveClassName);let d=this._driver.query(this.element,t,1!=i);0!==i&&(d=i<0?d.slice(d.length+i,d.length):d.slice(0,i)),a.push(...d)}return!o&&0==a.length&&s.push(function hz(n){return new de(3014,!1)}()),a}}class uh{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new uh(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ro),this._currentKeyframe.set(e,ro);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function c6(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,ro)}else Po(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,c]of s){const d=hc(c,o,i);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ro),this._updateStyle(a,d)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const d=Po(a,new Map,this._backFill);d.forEach((p,g)=>{"!"===p?t.add(g):p===ro&&e.add(g)}),i||d.set("offset",c/this.duration),r.push(d)});const o=t.size?nh(t.values()):[],s=e.size?nh(e.values()):[];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return T_(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class l6 extends uh{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,c=Po(t[0]);c.set("offset",0),o.push(c);const d=Po(t[0]);d.set("offset",ZM(a)),o.push(d);const p=t.length-1;for(let g=1;g<=p;g++){let E=Po(t[g]);const S=E.get("offset");E.set("offset",ZM((e+S*i)/s)),o.push(E)}i=s,e=0,r="",t=o}return T_(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function ZM(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class A_{}const u6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class d6 extends A_{normalizePropertyName(t,e){return S_(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(u6.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function tz(n,t){return new de(3005,!1)}())}return s+o}}function QM(n,t,e,i,r,o,s,a,c,d,p,g,E){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:d,postStyleProps:p,totalTime:g,errors:E}}const R_={};class JM{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function h6(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,c,d,p){const g=[],E=this.ast.options&&this.ast.options.params||R_,R=this.buildStyles(i,a&&a.params||R_,g),W=c&&c.params||R_,te=this.buildStyles(r,W,g),le=new Set,_e=new Map,oe=new Map,Te="void"===r,st={params:f6(W,E),delay:this.ast.options?.delay},vt=p?[]:k_(t,e,this.ast.animation,o,s,R,te,st,d,g);let sn=0;if(vt.forEach(Mi=>{sn=Math.max(Mi.duration+Mi.delay,sn)}),g.length)return QM(e,this._triggerName,i,r,Te,R,te,[],[],_e,oe,sn,g);vt.forEach(Mi=>{const Ti=Mi.element,Aa=Ci(_e,Ti,new Set);Mi.preStyleProps.forEach(pr=>Aa.add(pr));const ao=Ci(oe,Ti,new Set);Mi.postStyleProps.forEach(pr=>ao.add(pr)),Ti!==e&&le.add(Ti)});const xi=nh(le.values());return QM(e,this._triggerName,i,r,Te,R,te,vt,xi,_e,oe,sn)}}function f6(n,t){const e=uc(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class p6{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=uc(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=hc(s,r,e));const c=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,c,s,e),i.set(c,s)})}),i}}class g6{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new p6(r.style,r.options&&r.options.params||{},i))}),eT(this.states,"true","1"),eT(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new JM(t,r,this.states))}),this.fallbackTransition=function _6(n,t,e){return new JM(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function eT(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const y6=new lh;class v6{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=x_(this._driver,e,i,[]);if(i.length)throw function vz(n){return new de(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=RM(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=k_(this._driver,e,o,w_,Qd,new Map,new Map,i,y6,r),s.forEach(p=>{const g=Ci(a,p.element,new Map);p.postStyleProps.forEach(E=>g.set(E,null))})):(r.push(function bz(){return new de(3300,!1)}()),s=[]),r.length)throw function wz(n){return new de(3504,!1)}();a.forEach((p,g)=>{p.forEach((E,S)=>{p.set(S,this._driver.computeStyle(g,S,ro))})});const d=Oo(s.map(p=>{const g=a.get(p.element);return this._buildPlayer(p,new Map,g)}));return this._playersById.set(t,d),d.onDestroy(()=>this.destroy(t)),this.players.push(d),d}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Ez(n){return new de(3301,!1)}();return e}listen(t,e,i,r){const o=__(e,"","","");return m_(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const tT="ng-animate-queued",O_="ng-animate-disabled",D6=[],nT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},S6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$i="__ng_removed";class P_{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function k6(n){return n??null}(i?t.value:t),i){const o=uc(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const fc="void",F_=new P_(fc);class x6{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Gi(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function Cz(n,t){return new de(3302,!1)}();if(null==i||0==i.length)throw function Dz(n){return new de(3303,!1)}();if(!function I6(n){return"start"==n||"done"==n}(i))throw function Sz(n,t){return new de(3400,!1)}();const o=Ci(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=Ci(this._engine.statesByElement,t,new Map);return a.has(e)||(Gi(t,Jd),Gi(t,Jd+"-"+e),a.set(e,F_)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function xz(n){return new de(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new N_(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Gi(t,Jd),Gi(t,Jd+"-"+e),this._engine.statesByElement.set(t,a=new Map));let c=a.get(e);const d=new P_(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&d.absorbOptions(c.options),a.set(e,d),c||(c=F_),d.value!==fc&&c.value===d.value){if(!function O6(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(c.params,d.params)){const W=[],te=o.matchStyles(c.value,c.params,W),le=o.matchStyles(d.value,d.params,W);W.length?this._engine.reportError(W):this._engine.afterFlush(()=>{ws(t,te),Ar(t,le)})}return}const E=Ci(this._engine.playersByElement,t,[]);E.forEach(W=>{W.namespaceId==this.id&&W.triggerName==e&&W.queued&&W.destroy()});let S=o.matchTransition(c.value,d.value,t,d.params),R=!1;if(!S){if(!r)return;S=o.fallbackTransition,R=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:S,fromState:c,toState:d,player:s,isFallbackTransition:R}),R||(Gi(t,tT),s.onStart(()=>{Ta(t,tT)})),s.onDone(()=>{let W=this.players.indexOf(s);W>=0&&this.players.splice(W,1);const te=this._engine.playersByElement.get(t);if(te){let le=te.indexOf(s);le>=0&&te.splice(le,1)}}),this.players.push(s),E.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,eh,!0);i.forEach(r=>{if(r[$i])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((c,d)=>{if(s.set(d,c.value),this._triggers.has(d)){const p=this.trigger(t,d,fc,r);p&&a.push(p)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&Oo(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,d=i.get(s)||F_,p=new P_(fc),g=new N_(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:c,fromState:d,toState:p,player:g,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[$i];(!o||o===nT)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Gi(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=__(o,i.triggerName,i.fromState.value,i.toState.value);c._data=t,m_(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class M6{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new x6(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const c=r.get(a);if(c){const d=i.indexOf(c);i.splice(d+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(dh(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!dh(e))return;const o=e[$i];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Gi(t,O_)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ta(t,O_))}removeNode(t,e,i,r){if(dh(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[$i]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return dh(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,eh,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,E_,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Oo(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[$i];if(e&&e.setForRemoval){if(t[$i]=nT,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(O_)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Gi(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Oo(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Mz(n){return new de(3402,!1)}()}_flushAnimations(t,e){const i=new lh,r=[],o=new Map,s=[],a=new Map,c=new Map,d=new Map,p=new Set;this.disabledNodes.forEach(Pe=>{p.add(Pe);const He=this.driver.query(Pe,".ng-animate-queued",!0);for(let Ye=0;Ye<He.length;Ye++)p.add(He[Ye])});const g=this.bodyNode,E=Array.from(this.statesByElement.keys()),S=oT(E,this.collectedEnterElements),R=new Map;let W=0;S.forEach((Pe,He)=>{const Ye=w_+W++;R.set(He,Ye),Pe.forEach(Dt=>Gi(Dt,Ye))});const te=[],le=new Set,_e=new Set;for(let Pe=0;Pe<this.collectedLeaveElements.length;Pe++){const He=this.collectedLeaveElements[Pe],Ye=He[$i];Ye&&Ye.setForRemoval&&(te.push(He),le.add(He),Ye.hasAnimation?this.driver.query(He,".ng-star-inserted",!0).forEach(Dt=>le.add(Dt)):_e.add(He))}const oe=new Map,Te=oT(E,Array.from(le));Te.forEach((Pe,He)=>{const Ye=Qd+W++;oe.set(He,Ye),Pe.forEach(Dt=>Gi(Dt,Ye))}),t.push(()=>{S.forEach((Pe,He)=>{const Ye=R.get(He);Pe.forEach(Dt=>Ta(Dt,Ye))}),Te.forEach((Pe,He)=>{const Ye=oe.get(He);Pe.forEach(Dt=>Ta(Dt,Ye))}),te.forEach(Pe=>{this.processLeaveNode(Pe)})});const st=[],vt=[];for(let Pe=this._namespaceList.length-1;Pe>=0;Pe--)this._namespaceList[Pe].drainQueuedTransitions(e).forEach(Ye=>{const Dt=Ye.player,On=Ye.element;if(st.push(Dt),this.collectedEnterElements.length){const Kn=On[$i];if(Kn&&Kn.setForMove){if(Kn.previousTriggersValues&&Kn.previousTriggersValues.has(Ye.triggerName)){const Ss=Kn.previousTriggersValues.get(Ye.triggerName),Wi=this.statesByElement.get(Ye.element);if(Wi&&Wi.has(Ye.triggerName)){const Th=Wi.get(Ye.triggerName);Th.value=Ss,Wi.set(Ye.triggerName,Th)}}return void Dt.destroy()}}const Rr=!g||!this.driver.containsElement(g,On),ki=oe.get(On),Bo=R.get(On),an=this._buildInstruction(Ye,i,Bo,ki,Rr);if(an.errors&&an.errors.length)return void vt.push(an);if(Rr)return Dt.onStart(()=>ws(On,an.fromStyles)),Dt.onDestroy(()=>Ar(On,an.toStyles)),void r.push(Dt);if(Ye.isFallbackTransition)return Dt.onStart(()=>ws(On,an.fromStyles)),Dt.onDestroy(()=>Ar(On,an.toStyles)),void r.push(Dt);const sk=[];an.timelines.forEach(Kn=>{Kn.stretchStartingKeyframe=!0,this.disabledNodes.has(Kn.element)||sk.push(Kn)}),an.timelines=sk,i.append(On,an.timelines),s.push({instruction:an,player:Dt,element:On}),an.queriedElements.forEach(Kn=>Ci(a,Kn,[]).push(Dt)),an.preStyleProps.forEach((Kn,Ss)=>{if(Kn.size){let Wi=c.get(Ss);Wi||c.set(Ss,Wi=new Set),Kn.forEach((Th,gy)=>Wi.add(gy))}}),an.postStyleProps.forEach((Kn,Ss)=>{let Wi=d.get(Ss);Wi||d.set(Ss,Wi=new Set),Kn.forEach((Th,gy)=>Wi.add(gy))})});if(vt.length){const Pe=[];vt.forEach(He=>{Pe.push(function Tz(n,t){return new de(3505,!1)}())}),st.forEach(He=>He.destroy()),this.reportError(Pe)}const sn=new Map,xi=new Map;s.forEach(Pe=>{const He=Pe.element;i.has(He)&&(xi.set(He,He),this._beforeAnimationBuild(Pe.player.namespaceId,Pe.instruction,sn))}),r.forEach(Pe=>{const He=Pe.element;this._getPreviousPlayers(He,!1,Pe.namespaceId,Pe.triggerName,null).forEach(Dt=>{Ci(sn,He,[]).push(Dt),Dt.destroy()})});const Mi=te.filter(Pe=>aT(Pe,c,d)),Ti=new Map;rT(Ti,this.driver,_e,d,ro).forEach(Pe=>{aT(Pe,c,d)&&Mi.push(Pe)});const ao=new Map;S.forEach((Pe,He)=>{rT(ao,this.driver,new Set(Pe),c,"!")}),Mi.forEach(Pe=>{const He=Ti.get(Pe),Ye=ao.get(Pe);Ti.set(Pe,new Map([...Array.from(He?.entries()??[]),...Array.from(Ye?.entries()??[])]))});const pr=[],Ra=[],Oa={};s.forEach(Pe=>{const{element:He,player:Ye,instruction:Dt}=Pe;if(i.has(He)){if(p.has(He))return Ye.onDestroy(()=>Ar(He,Dt.toStyles)),Ye.disabled=!0,Ye.overrideTotalTime(Dt.totalTime),void r.push(Ye);let On=Oa;if(xi.size>1){let ki=He;const Bo=[];for(;ki=ki.parentNode;){const an=xi.get(ki);if(an){On=an;break}Bo.push(ki)}Bo.forEach(an=>xi.set(an,On))}const Rr=this._buildAnimation(Ye.namespaceId,Dt,sn,o,ao,Ti);if(Ye.setRealPlayer(Rr),On===Oa)pr.push(Ye);else{const ki=this.playersByElement.get(On);ki&&ki.length&&(Ye.parentPlayer=Oo(ki)),r.push(Ye)}}else ws(He,Dt.fromStyles),Ye.onDestroy(()=>Ar(He,Dt.toStyles)),Ra.push(Ye),p.has(He)&&r.push(Ye)}),Ra.forEach(Pe=>{const He=o.get(Pe.element);if(He&&He.length){const Ye=Oo(He);Pe.setRealPlayer(Ye)}}),r.forEach(Pe=>{Pe.parentPlayer?Pe.syncPlayerEvents(Pe.parentPlayer):Pe.destroy()});for(let Pe=0;Pe<te.length;Pe++){const He=te[Pe],Ye=He[$i];if(Ta(He,Qd),Ye&&Ye.hasAnimation)continue;let Dt=[];if(a.size){let Rr=a.get(He);Rr&&Rr.length&&Dt.push(...Rr);let ki=this.driver.query(He,E_,!0);for(let Bo=0;Bo<ki.length;Bo++){let an=a.get(ki[Bo]);an&&an.length&&Dt.push(...an)}}const On=Dt.filter(Rr=>!Rr.destroyed);On.length?A6(this,He,On):this.processLeaveNode(He)}return te.length=0,pr.forEach(Pe=>{this.players.push(Pe),Pe.onDone(()=>{Pe.destroy();const He=this.players.indexOf(Pe);this.players.splice(He,1)}),Pe.play()}),pr}elementContainsData(t,e){let i=!1;const r=e[$i];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const c=!o||o==fc;a.forEach(d=>{d.queued||!c&&d.triggerName!=r||s.push(d)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const c of e.timelines){const d=c.element,p=d!==o,g=Ci(i,d,[]);this._getPreviousPlayers(d,p,s,a,e.toState).forEach(S=>{const R=S.getRealPlayer();R.beforeDestroy&&R.beforeDestroy(),S.destroy(),g.push(S)})}ws(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,c=e.element,d=[],p=new Set,g=new Set,E=e.timelines.map(R=>{const W=R.element;p.add(W);const te=W[$i];if(te&&te.removedBeforeQueried)return new rc(R.duration,R.delay);const le=W!==c,_e=function R6(n){const t=[];return sT(n,t),t}((i.get(W)||D6).map(sn=>sn.getRealPlayer())).filter(sn=>!!sn.element&&sn.element===W),oe=o.get(W),Te=s.get(W),st=RM(0,this._normalizer,0,R.keyframes,oe,Te),vt=this._buildPlayer(R,st,_e);if(R.subTimeline&&r&&g.add(W),le){const sn=new N_(t,a,W);sn.setRealPlayer(vt),d.push(sn)}return vt});d.forEach(R=>{Ci(this.playersByQueriedElement,R.element,[]).push(R),R.onDone(()=>function T6(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,R.element,R))}),p.forEach(R=>Gi(R,HM));const S=Oo(E);return S.onDestroy(()=>{p.forEach(R=>Ta(R,HM)),Ar(c,e.toStyles)}),g.forEach(R=>{Ci(r,R,[]).push(S)}),S}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new rc(t.duration,t.delay)}}class N_{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new rc,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>m_(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ci(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function dh(n){return n&&1===n.nodeType}function iT(n,t){const e=n.style.display;return n.style.display=t??"none",e}function rT(n,t,e,i,r){const o=[];e.forEach(c=>o.push(iT(c)));const s=[];i.forEach((c,d)=>{const p=new Map;c.forEach(g=>{const E=t.computeStyle(d,g,r);p.set(g,E),(!E||0==E.length)&&(d[$i]=S6,s.push(d))}),n.set(d,p)});let a=0;return e.forEach(c=>iT(c,o[a++])),s}function oT(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const d=a.parentNode;return c=e.has(d)?d:r.has(d)?1:s(d),o.set(a,c),c}return t.forEach(a=>{const c=s(a);1!==c&&e.get(c).push(a)}),e}function Gi(n,t){n.classList?.add(t)}function Ta(n,t){n.classList?.remove(t)}function A6(n,t,e){Oo(e).onDone(()=>n.processLeaveNode(t))}function sT(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Gx?sT(i.players,t):t.push(i)}}function aT(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class hh{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new M6(t,e,i),this._timelineEngine=new v6(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],p=x_(this._driver,o,c,[]);if(c.length)throw function _z(n,t){return new de(3404,!1)}();a=function m6(n,t,e){return new g6(n,t,e)}(r,p,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=OM(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=OM(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let F6=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ar(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ar(this._element,this._initialStyles),this._endStyles&&(Ar(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ws(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ws(this._element,this._endStyles),this._endStyles=null),Ar(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function L_(n){let t=null;return n.forEach((e,i)=>{(function N6(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class lT{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:WM(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class L6{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return LM(t,e)}getParentElement(t){return v_(t)}query(t,e,i){return BM(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const d=new Map,p=s.filter(S=>S instanceof lT);(function Hz(n,t){return 0===n||0===t})(i,r)&&p.forEach(S=>{S.currentSnapshot.forEach((R,W)=>d.set(W,R))});let g=function Lz(n){return n.length?n[0]instanceof Map?n:n.map(t=>jM(t)):[]}(e).map(S=>Po(S));g=function jz(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,WM(n,a)))}}return t}(t,g,d);const E=function P6(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=L_(t[0]),t.length>1&&(i=L_(t[t.length-1]))):t instanceof Map&&(e=L_(t)),e||i?new F6(n,e,i):null}(t,g);return new lT(t,g,c,E)}}let B6=(()=>{class n extends jx{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Zi.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?zx(e):e;return cT(this._renderer,null,i,"register",[r]),new U6(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(se(tl),se(Je))},n.\u0275prov=Se({token:n,factory:n.\u0275fac}),n})();class U6 extends class g4{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new V6(this._id,t,e||{},this._renderer)}}class V6{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return cT(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function cT(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const uT="@.disabled";let H6=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let p=this._rendererCache.get(o);return p||(p=new dT("",o,this.engine),this._rendererCache.set(o,p)),p}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const c=p=>{Array.isArray(p)?p.forEach(c):this.engine.registerTrigger(s,a,e,p.name,p)};return i.data.animation.forEach(c),new j6(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(se(tl),se(hh),se(qe))},n.\u0275prov=Se({token:n,factory:n.\u0275fac}),n})();class dT{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==uT?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class j6 extends dT{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==uT?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function z6(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function $6(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}const hT=[{provide:jx,useClass:B6},{provide:A_,useFactory:function q6(){return new d6}},{provide:hh,useClass:(()=>{class n extends hh{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(se(Je),se(b_),se(A_),se(ns))},n.\u0275prov=Se({token:n,factory:n.\u0275fac}),n})()},{provide:tl,useFactory:function W6(n,t,e){return new H6(n,t,e)},deps:[Ku,hh,qe]}],B_=[{provide:b_,useFactory:()=>new L6},{provide:Bi,useValue:"BrowserAnimations"},...hT],fT=[{provide:b_,useClass:UM},{provide:Bi,useValue:"NoopAnimations"},...hT];let Y6=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?fT:B_}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({providers:B_,imports:[oD]}),n})(),K6=0;const U_=new ve("CdkAccordion");let X6=(()=>{class n{constructor(){this._stateChanges=new I,this._openCloseAllActions=new I,this.id="cdk-accordion-"+K6++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Qt(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Re({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[ht([{provide:U_,useExisting:n}]),Cn]}),n})(),Z6=0,Q6=(()=>{class n{constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=k.EMPTY,this.closed=new Ze,this.opened=new Ze,this.destroyed=new Ze,this.expandedChange=new Ze,this.id="cdk-accordion-child-"+Z6++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,s)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===s&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=Qt(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Qt(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(V(U_,12),V(Pn),V(Xx))},n.\u0275dir=Re({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[ht([{provide:U_,useValue:void 0}])]}),n})(),J6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({}),n})();const e5=["body"];function t5(n,t){}const n5=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],r5=["mat-expansion-panel-header","*","mat-action-row"];function o5(n,t){1&n&&rt(0,"span",2),2&n&&Ne("@indicatorRotate",rn()._getExpandedState())}const s5=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],a5=["mat-panel-title","mat-panel-description","*"],V_=new ve("MAT_ACCORDION"),pT="225ms cubic-bezier(0.4,0.0,0.2,1)",mT={indicatorRotate:_s("indicatorRotate",[ys("collapsed, void",pn({transform:"rotate(0deg)"})),ys("expanded",pn({transform:"rotate(180deg)"})),kr("expanded <=> collapsed, void => collapsed",Tr(pT))]),bodyExpansion:_s("bodyExpansion",[ys("collapsed, void",pn({height:"0px",visibility:"hidden"})),ys("expanded",pn({height:"*",visibility:"visible"})),kr("expanded <=> collapsed, void => collapsed",Tr(pT))])},gT=new ve("MAT_EXPANSION_PANEL");let l5=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}}return n.\u0275fac=function(e){return new(e||n)(V(wi),V(gT,8))},n.\u0275dir=Re({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),c5=0;const _T=new ve("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let yT=(()=>{class n extends Q6{constructor(e,i,r,o,s,a,c){super(e,i,r),this._viewContainerRef=o,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new Ze,this.afterCollapse=new Ze,this._inputChanges=new I,this._headerId="mat-expansion-panel-header-"+c5++,this._bodyAnimationDone=new I,this.accordion=e,this._document=s,this._bodyAnimationDone.pipe(kd((d,p)=>d.fromState===p.fromState&&d.toState===p.toState)).subscribe(d=>{"void"!==d.fromState&&("expanded"===d.toState?this.afterExpand.emit():"collapsed"===d.toState&&this.afterCollapse.emit())}),c&&(this.hideToggle=c.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Qt(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(hr(null),Mt(()=>this.expanded&&!this._portal),qn(1)).subscribe(()=>{this._portal=new s_(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(V(V_,12),V(Pn),V(Xx),V(In),V(Je),V(Bi,8),V(_T,8))},n.\u0275cmp=Bt({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,r){if(1&e&&Li(r,l5,5),2&e){let o;Nt(o=Lt())&&(i._lazyContent=o.first)}},viewQuery:function(e,i){if(1&e&&An(e5,5),2&e){let r;Nt(r=Lt())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&Yt("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[ht([{provide:V_,useValue:void 0},{provide:gT,useExisting:n}]),$e,Cn],ngContentSelectors:r5,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(ir(n5),$n(0),Ee(1,"div",0,1),Ct("@bodyExpansion.done",function(o){return i._bodyAnimationDone.next(o)}),Ee(3,"div",2),$n(4,1),Ut(5,t5,0,0,"ng-template",3),xe(),$n(6,2),xe()),2&e&&(ke(1),Ne("@bodyExpansion",i._getExpandedState())("id",i.id),Et("aria-labelledby",i._headerId),ke(4),Ne("cdkPortalOutlet",i._portal))},dependencies:[b4],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[mT.bodyExpansion]},changeDetection:0}),n})();class u5{}const d5=Fd(u5);let vT=(()=>{class n extends d5{constructor(e,i,r,o,s,a,c){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=a,this._parentChangeSubscription=k.EMPTY;const d=e.accordion?e.accordion._stateChanges.pipe(Mt(p=>!(!p.hideToggle&&!p.togglePosition))):Ki;this.tabIndex=parseInt(c||"")||0,this._parentChangeSubscription=lo(e.opened,e.closed,d,e._inputChanges.pipe(Mt(p=>!!(p.hideToggle||p.disabled||p.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(Mt(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),s&&(this.expandedHeight=s.expandedHeight,this.collapsedHeight=s.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Td(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(V(yT,1),V(ct),V(ps),V(Pn),V(_T,8),V(Bi,8),yr("tabindex"))},n.\u0275cmp=Bt({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&Ct("click",function(){return i._toggle()})("keydown",function(o){return i._keydown(o)}),2&e&&(Et("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),qr("height",i._getHeaderHeight()),Yt("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[$e],ngContentSelectors:a5,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(ir(s5),Ee(0,"span",0),$n(1),$n(2,1),$n(3,2),xe(),Ut(4,o5,1,1,"span",1)),2&e&&(Yt("mat-content-hide-toggle",!i._showToggle()),ke(4),Ne("ngIf",i._showToggle()))},dependencies:[Zr],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[mT.indicatorRotate]},changeDetection:0}),n})(),h5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Re({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),n})(),f5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Re({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),p5=(()=>{class n extends X6{constructor(){super(...arguments),this._ownHeaders=new ts,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Qt(e)}ngAfterContentInit(){this._headers.changes.pipe(hr(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new mx(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=hn(n)))(i||n)}}(),n.\u0275dir=Re({type:n,selectors:[["mat-accordion"]],contentQueries:function(e,i,r){if(1&e&&Li(r,vT,5),2&e){let o;Nt(o=Lt())&&(i._headers=o)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,i){2&e&&Yt("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[ht([{provide:V_,useExisting:n}]),$e]}),n})(),m5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[Qr,Zt,J6,Wx]}),n})();function H_(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function ka(n,t){const e=t?"":"none";H_(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function bT(n,t,e){H_(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function ph(n,t){return t&&"none"!=t?n+" "+t:n}function wT(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function j_(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function z_(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function $_(n,t,e){const{top:i,bottom:r,left:o,right:s}=n;return e>=i&&e<=r&&t>=o&&t<=s}function pc(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function ET(n,t,e,i){const{top:r,right:o,bottom:s,left:a,width:c,height:d}=n,p=c*t,g=d*t;return i>r-g&&i<s+g&&e>a-p&&e<o+p}class CT{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:z_(e)})})}handleScroll(t){const e=fr(t),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let o,s;if(e===this._document){const d=this.getViewportScrollPosition();o=d.top,s=d.left}else o=e.scrollTop,s=e.scrollLeft;const a=r.top-o,c=r.left-s;return this.positions.forEach((d,p)=>{d.clientRect&&e!==p&&e.contains(p)&&pc(d.clientRect,a,c)}),r.top=o,r.left=s,{top:a,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function DT(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?MT(n,t):("input"===i||"select"===i||"textarea"===i)&&xT(n,t),ST("canvas",n,t,MT),ST("input, textarea, select",n,t,xT),t}function ST(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const o=e.querySelectorAll(n);for(let s=0;s<r.length;s++)i(r[s],o[s])}}let y5=0;function xT(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${y5++}`)}function MT(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}const TT=io({passive:!0}),mh=io({passive:!1}),G_=new Set(["position"]);class b5{constructor(t,e,i,r,o,s){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new I,this._pointerMoveSubscription=k.EMPTY,this._pointerUpSubscription=k.EMPTY,this._scrollSubscription=k.EMPTY,this._resizeSubscription=k.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new I,this.started=new I,this.released=new I,this.ended=new I,this.entered=new I,this.exited=new I,this.dropped=new I,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const c=this._getTargetHandle(a);c&&!this._disabledHandles.has(c)&&!this.disabled&&this._initializeDragSequence(c,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const c=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(c.x-this._pickupPositionOnPage.x)+Math.abs(c.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const S=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),R=this._dropContainer;if(!S)return void this._endDragSequence(a);(!R||!R.isDragging()&&!R.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.preventDefault();const d=this._getConstrainedPointerPosition(c);if(this._hasMoved=!0,this._lastKnownPointerPosition=c,this._updatePointerDirectionDelta(d),this._dropContainer)this._updateActiveDropContainer(d,c);else{const p=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,g=this._activeTransform;g.x=d.x-p.x+this._passiveTransform.x,g.y=d.y-p.y+this._passiveTransform.y,this._applyRootElementTransform(g.x,g.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:d,event:a,distance:this._getDragDistance(d),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const c=this._getTargetHandle(a);c&&!this._disabledHandles.has(c)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new CT(i),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Qt(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>ka(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>bn(i)),this._handles.forEach(i=>ka(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=bn(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,mh),e.addEventListener("touchstart",this._pointerDown,TT),e.addEventListener("dragstart",this._nativeDragStart,mh)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?bn(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),ka(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),ka(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){mc(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,r=i.parentNode,o=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();r.insertBefore(s,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),bT(i,!1,G_),this._document.body.appendChild(r.replaceChild(o,i)),this._getPreviewInsertionPoint(r,a).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=mc(e),o=!r&&0!==e.button,s=this._rootElement,a=fr(e),c=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),d=r?Rd(e):Ad(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),i||o||c||d)return;if(this._handles.length){const E=s.style;this._rootElementTapHighlight=E.webkitTapHighlightColor||"",E.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(E=>this._updateOnScroll(E)),this._boundaryElement&&(this._boundaryRect=z_(this._boundaryElement));const p=this._previewTemplate;this._pickupPositionInElement=p&&p.template&&!p.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,e);const g=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:g.x,y:g.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){bT(this._rootElement,!0,G_),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),s=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,s,o,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let r;if(i&&t){const o=t.matchSize?this._initialClientRect:null,s=t.viewContainer.createEmbeddedView(i,t.context);s.detectChanges(),r=IT(s,this._document),this._previewRef=s,t.matchSize?AT(r,o):r.style.transform=gh(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=DT(this._rootElement),AT(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return H_(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},G_),ka(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function _5(n){const t=getComputedStyle(n),e=j_(t,"transition-property"),i=e.find(a=>"transform"===a||"all"===a);if(!i)return 0;const r=e.indexOf(i),o=j_(t,"transition-duration"),s=j_(t,"transition-delay");return wT(o[r])+wT(s[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=s=>{(!s||fr(s)===this._preview&&"transform"===s.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(o))},o=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=IT(this._placeholderRef,this._document)):i=DT(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e,i){const r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():t,s=mc(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition();return{x:o.left-t.left+(s.pageX-o.left-a.left),y:o.top-t.top+(s.pageY-o.top-a.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=mc(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){const s=this._ownerSVGElement.getScreenCTM();if(s){const a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=o,a.matrixTransform(s.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:s}=this._pickupPositionInElement,a=this._boundaryRect,{width:c,height:d}=this._getPreviewRect(),p=a.top+s,g=a.bottom-(d-s);i=kT(i,a.left+o,a.right-(c-o)),r=kT(r,p,g)}return{x:i,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-o.x),a=Math.abs(i-o.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),a>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,ka(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,mh),t.removeEventListener("touchstart",this._pointerDown,TT),t.removeEventListener("dragstart",this._nativeDragStart,mh)}_applyRootElementTransform(t,e){const i=gh(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=ph(i,this._initialTransform)}_applyPreviewTransform(t,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=gh(t,e);this._preview.style.transform=ph(r,i)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const o=r.left-i.left,s=i.right-r.right,a=r.top-i.top,c=i.bottom-r.bottom;r.width>i.width?(o>0&&(t+=o),s>0&&(t-=s)):t=0,r.height>i.height?(a>0&&(e+=a),c>0&&(e-=c)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:mc(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=fr(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&pc(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Sd(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return bn(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function gh(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function kT(n,t,e){return Math.max(t,Math.min(e,n))}function mc(n){return"t"===n.type[0]}function IT(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function AT(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=gh(t.left,t.top)}function gc(n,t){return Math.max(0,Math.min(t,n))}class E5{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,i,r){const o=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,i,r);if(-1===s&&o.length>0)return null;const a="horizontal"===this.orientation,c=o.findIndex(te=>te.drag===t),d=o[s],g=d.clientRect,E=c>s?1:-1,S=this._getItemOffsetPx(o[c].clientRect,g,E),R=this._getSiblingOffsetPx(c,o,E),W=o.slice();return function w5(n,t,e){const i=gc(t,n.length-1),r=gc(e,n.length-1);if(i===r)return;const o=n[i],s=r<i?-1:1;for(let a=i;a!==r;a+=s)n[a]=n[a+s];n[r]=o}(o,c,s),o.forEach((te,le)=>{if(W[le]===te)return;const _e=te.drag===t,oe=_e?S:R,Te=_e?t.getPlaceholderElement():te.drag.getRootElement();te.offset+=oe,a?(Te.style.transform=ph(`translate3d(${Math.round(te.offset)}px, 0, 0)`,te.initialTransform),pc(te.clientRect,0,oe)):(Te.style.transform=ph(`translate3d(0, ${Math.round(te.offset)}px, 0)`,te.initialTransform),pc(te.clientRect,oe,0))}),this._previousSwap.overlaps=$_(g,e,i),this._previousSwap.drag=d.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:c,currentIndex:s}}enter(t,e,i,r){const o=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,s=this._activeDraggables,a=s.indexOf(t),c=t.getPlaceholderElement();let d=s[o];if(d===t&&(d=s[o+1]),!d&&(null==o||-1===o||o<s.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(d=s[0]),a>-1&&s.splice(a,1),d&&!this._dragDropRegistry.isDragging(d)){const p=d.getRootElement();p.parentElement.insertBefore(c,p),s.splice(o,0,t)}else bn(this._element).appendChild(c),s.push(t);c.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{pc(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:z_(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(t,e,i){const r="horizontal"===this.orientation;let o=r?e.left-t.left:e.top-t.top;return-1===i&&(o+=r?e.width-t.width:e.height-t.height),o}_getSiblingOffsetPx(t,e,i){const r="horizontal"===this.orientation,o=e[t].clientRect,s=e[t+-1*i];let a=o[r?"width":"height"]*i;if(s){const c=r?"left":"top",d=r?"right":"bottom";-1===i?a-=s.clientRect[c]-o[d]:a+=o[c]-s.clientRect[d]}return a}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const s=i[i.length-1].clientRect;return r?t>=s.right:e>=s.bottom}{const s=i[0].clientRect;return r?t<=s.left:e<=s.top}}_getItemIndexFromPointerPosition(t,e,i,r){const o="horizontal"===this.orientation,s=this._itemPositions.findIndex(({drag:a,clientRect:c})=>{if(a===t)return!1;if(r){const d=o?r.x:r.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&d===this._previousSwap.delta)return!1}return o?e>=Math.floor(c.left)&&e<Math.floor(c.right):i>=Math.floor(c.top)&&i<Math.floor(c.bottom)});return-1!==s&&this._sortPredicate(s,t)?s:-1}}class C5{constructor(t,e,i,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new I,this.entered=new I,this.exited=new I,this.dropped=new I,this.sorted=new I,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=k.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new I,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function g5(n=0,t=Pl){return n<0&&(n=0),Co(n,n,t)}(0,Yx).pipe(ri(this._stopScrollTimers)).subscribe(()=>{const s=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?s.scrollBy(0,-a):2===this._verticalScrollDirection&&s.scrollBy(0,a),1===this._horizontalScrollDirection?s.scrollBy(-a,0):2===this._horizontalScrollDirection&&s.scrollBy(a,0)})},this.element=bn(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new CT(i),this._sortStrategy=new E5(this.element,e),this._sortStrategy.withSortPredicate((s,a)=>this.sortPredicate(s,a,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,o,s,a,c={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:s,dropPoint:a,event:c})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=bn(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._clientRect||!ET(this._clientRect,.05,e,i))return;const o=this._sortStrategy.sort(t,e,i,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=0,o=0;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||i||ET(s.clientRect,.05,t,e)&&([r,o]=function D5(n,t,e,i){const r=PT(t,i),o=FT(t,e);let s=0,a=0;if(r){const c=n.scrollTop;1===r?c>0&&(s=1):n.scrollHeight-c>n.clientHeight&&(s=2)}if(o){const c=n.scrollLeft;1===o?c>0&&(a=1):n.scrollWidth-c>n.clientWidth&&(a=2)}return[s,a]}(a,s.clientRect,t,e),(r||o)&&(i=a))}),!r&&!o){const{width:s,height:a}=this._viewportRuler.getViewportSize(),c={width:s,height:a,top:0,right:s,bottom:a,left:0};r=PT(c,e),o=FT(c,t),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=bn(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=bn(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=bn(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._clientRect&&$_(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!$_(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);if(!r)return!1;const o=bn(this.element);return r===o||o.contains(r)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Sd(bn(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function PT(n,t){const{top:e,bottom:i,height:r}=n,o=.05*r;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}function FT(n,t){const{left:e,right:i,width:r}=n,o=.05*r;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}const _h=io({passive:!1,capture:!0});let S5=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new I,this.pointerUp=new I,this.scroll=new I,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,_h)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,_h)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:_h}),r||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:_h}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,s)=>{this._document.addEventListener(s,o.handler,o.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new Qe(r=>this._ngZone.runOutsideAngular(()=>{const s=a=>{this._activeDragInstances.length&&r.next(a)};return e.addEventListener("scroll",s,!0),()=>{e.removeEventListener("scroll",s,!0)}}))),lo(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(se(qe),se(Je))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const x5={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let NT=(()=>{class n{constructor(e,i,r,o){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=o}createDrag(e,i=x5){return new b5(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new C5(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(se(Je),se(qe),se(sc),se(S5))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const LT=new ve("CDK_DRAG_PARENT"),M5=new ve("CDK_DRAG_CONFIG"),T5=new ve("CdkDropList"),BT=new ve("CdkDragHandle"),k5=new ve("CdkDragPlaceholder"),I5=new ve("CdkDragPreview");let R5=(()=>{class n{constructor(e,i,r,o,s,a,c,d,p,g,E){this.element=e,this.dropContainer=i,this._ngZone=o,this._viewContainerRef=s,this._dir=c,this._changeDetectorRef=p,this._selfHandle=g,this._parentDrag=E,this._destroyed=new I,this.started=new Ze,this.released=new Ze,this.ended=new Ze,this.entered=new Ze,this.exited=new Ze,this.dropped=new Ze,this.moved=new Qe(S=>{const R=this._dragRef.moved.pipe(j(W=>({source:this,pointerPosition:W.pointerPosition,event:W.event,delta:W.delta,distance:W.distance}))).subscribe(S);return()=>{R.unsubscribe()}}),this._dragRef=d.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:a?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),a&&this._assignDefaults(a),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=Qt(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(qn(1),ri(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,r=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement;let i=e;this.rootElementSelector&&(i=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):bn(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof r&&r?r:Yn(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(qn(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){e.withParent(n._dragInstances.find(r=>r.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:r,constrainPosition:o,previewClass:s,boundaryElement:a,draggingDisabled:c,rootElementSelector:d,previewContainer:p}=e;this.disabled=c??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),o&&(this.constrainPosition=o),s&&(this.previewClass=s),a&&(this.boundaryElement=a),d&&(this.rootElementSelector=d),p&&(this.previewContainer=p)}_setupHandlesListener(){this._handles.changes.pipe(hr(this._handles),Vt(e=>{const i=e.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),Fn(e=>lo(...e.map(i=>i._stateChanges.pipe(hr(i))))),ri(this._destroyed)).subscribe(e=>{const i=this._dragRef,r=e.element.nativeElement;e.disabled?i.disableHandle(r):i.enableHandle(r)})}}return n._dragInstances=[],n.\u0275fac=function(e){return new(e||n)(V(ct),V(T5,12),V(Je),V(qe),V(In),V(M5,8),V(ms,8),V(NT),V(Pn),V(BT,10),V(LT,12))},n.\u0275dir=Re({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,r){if(1&e&&(Li(r,I5,5),Li(r,k5,5),Li(r,BT,5)),2&e){let o;Nt(o=Lt())&&(i._previewTemplate=o.first),Nt(o=Lt())&&(i._placeholderTemplate=o.first),Nt(o=Lt())&&(i._handles=o)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&Yt("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[ht([{provide:LT,useExisting:n}]),Cn]}),n})(),O5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({providers:[NT],imports:[Gd]}),n})(),UT=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(V(Vr),V(ct))},n.\u0275dir=Re({type:n}),n})(),Cs=(()=>{class n extends UT{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=hn(n)))(i||n)}}(),n.\u0275dir=Re({type:n,features:[$e]}),n})();const Si=new ve("NgValueAccessor"),F5={provide:Si,useExisting:St(()=>q_),multi:!0},L5=new ve("CompositionEventMode");let q_=(()=>{class n extends UT{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function N5(){const n=Sr()?Sr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(V(Vr),V(ct),V(L5,8))},n.\u0275dir=Re({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&Ct("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[ht([F5]),$e]}),n})();const Rn=new ve("NgValidators"),No=new ve("NgAsyncValidators");function XT(n){return null!=n}function ZT(n){return ul(n)?mn(n):n}function QT(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function JT(n,t){return t.map(e=>e(n))}function e1(n){return n.map(t=>function V5(n){return!n.validate}(t)?t:e=>t.validate(e))}function W_(n){return null!=n?function t1(n){if(!n)return null;const t=n.filter(XT);return 0==t.length?null:function(e){return QT(JT(e,t))}}(e1(n)):null}function Y_(n){return null!=n?function n1(n){if(!n)return null;const t=n.filter(XT);return 0==t.length?null:function(e){return Sx(JT(e,t).map(ZT)).pipe(j(QT))}}(e1(n)):null}function r1(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function K_(n){return n?Array.isArray(n)?n:[n]:[]}function vh(n,t){return Array.isArray(n)?n.includes(t):n===t}function a1(n,t){const e=K_(t);return K_(n).forEach(r=>{vh(e,r)||e.push(r)}),e}function l1(n,t){return K_(t).filter(e=>!vh(n,e))}class c1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=W_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Y_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class oi extends c1{get formDirective(){return null}get path(){return null}}class Lo extends c1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let d1=(()=>{class n extends class u1{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(V(Lo,2))},n.\u0275dir=Re({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Yt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[$e]}),n})();const _c="VALID",wh="INVALID",Ia="PENDING",yc="DISABLED";function f1(n){return Array.isArray(n)?W_(n):n||null}function p1(n){return Array.isArray(n)?Y_(n):n||null}function Eh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function vc(n,t){(function ny(n,t){const e=function o1(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(r1(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function s1(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(r1(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Sh(t._rawValidators,r),Sh(t._rawAsyncValidators,r)})(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function X5(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&y1(n,t)})}(n,t),function Q5(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Z5(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&y1(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function K5(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Sh(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function y1(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function E1(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function C1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const s$={provide:Lo,useExisting:St(()=>sy)},M1=(()=>Promise.resolve())();let sy=(()=>{class n extends Lo{constructor(e,i,r,o,s){super(),this._changeDetectorRef=s,this.control=new class extends class _1{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=f1(this._rawValidators),this._composedAsyncValidatorFn=p1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===_c}get invalid(){return this.status===wh}get pending(){return this.status==Ia}get disabled(){return this.status===yc}get enabled(){return this.status!==yc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=f1(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=p1(t)}addValidators(t){this.setValidators(a1(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(a1(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(l1(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(l1(t,this._rawAsyncValidators))}hasValidator(t){return vh(this._rawValidators,t)}hasAsyncValidator(t){return vh(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ia,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=yc,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=_c,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_c||this.status===Ia)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yc:_c}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ia,this._hasOwnPendingAsyncValidator=!0;const e=ZT(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ze,this.statusChanges=new Ze}_calculateStatus(){return this._allControlsDisabled()?yc:this.errors?wh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ia)?Ia:this._anyControlsHaveStatus(wh)?wh:_c}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Eh(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}{constructor(t=null,e,i){super(function J_(n){return(Eh(n)?n.validators:n)||null}(e),function ey(n,t){return(Eh(t)?t.asyncValidators:n)||null}(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Eh(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=C1(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){E1(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){E1(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){C1(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},this._registered=!1,this.update=new Ze,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function ry(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===q_?e=o:function t$(n){return Object.getPrototypeOf(n.constructor)===Cs}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function iy(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){M1.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&function Yr(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(i);M1.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Ch(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(V(oi,9),V(Rn,10),V(No,10),V(Si,10),V(Pn,8))},n.\u0275dir=Re({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ht([s$]),$e,Cn]}),n})(),k1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({}),n})(),A$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[k1]}),n})(),R$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[A$]}),n})(),$$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[Qr,Zt,Zt]}),n})(),Y1=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G$=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=bn(e);return new Qe(r=>{const s=this._observeElement(i).subscribe(r);return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new I,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(se(Y1))},n.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K1=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new Ze,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Qt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Yn(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Xg(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(V(G$),V(ct),V(qe))},n.\u0275dir=Re({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),py=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({providers:[Y1]}),n})();const q$=["input"],W$=function(n){return{enterDuration:n}},Y$=["*"],K$=new ve("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let X$=0;const Z$={provide:Si,useExisting:St(()=>X1),multi:!0};class Q${constructor(t,e){this.source=t,this.checked=e}}const J$=Fd(To(Pd(ec(class{constructor(n){this._elementRef=n}}))));let eG=(()=>{class n extends J${constructor(e,i,r,o,s,a,c){super(e),this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=s,this._onChange=d=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new Ze,this.toggleChange=new Ze,this.tabIndex=parseInt(o)||0,this.color=this.defaultColor=s.color||"accent",this._noopAnimations="NoopAnimations"===a,this.id=this._uniqueId=`${c}${++X$}`}get required(){return this._required}set required(e){this._required=Qt(e)}get checked(){return this._checked}set checked(e){this._checked=Qt(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?this._focused=!0:e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return n.\u0275fac=function(e){ol()},n.\u0275dir=Re({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[$e]}),n})(),X1=(()=>{class n extends eG{constructor(e,i,r,o,s,a){super(e,i,r,o,s,a,"mat-slide-toggle-")}_createChangeEvent(e){return new Q$(this,e)}_onChangeEvent(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(e){e.stopPropagation()}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(V(ct),V(ps),V(Pn),yr("tabindex"),V(K$),V(Bi,8))},n.\u0275cmp=Bt({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(e,i){if(1&e&&An(q$,5),2&e){let r;Nt(r=Lt())&&(i._inputElement=r.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(e,i){2&e&&(hl("id",i.id),Et("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),Yt("mat-checked",i.checked)("mat-disabled",i.disabled)("mat-slide-toggle-label-before","before"==i.labelPosition)("_mat-animation-noopable",i._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[ht([Z$]),$e],ngContentSelectors:Y$,decls:14,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,i){if(1&e&&(ir(),Ee(0,"label",0,1)(2,"span",2)(3,"input",3,4),Ct("change",function(o){return i._onChangeEvent(o)})("click",function(o){return i._onInputClick(o)}),xe(),Ee(5,"span",5),rt(6,"span",6),Ee(7,"span",7),rt(8,"span",8),xe()()(),Ee(9,"span",9,10),Ct("cdkObserveContent",function(){return i._onLabelTextChange()}),Ee(11,"span",11),yt(12,"\xa0"),xe(),$n(13),xe()()),2&e){const r=Gr(1),o=Gr(10);Et("for",i.inputId),ke(2),Yt("mat-slide-toggle-bar-no-side-margin",!o.textContent||!o.textContent.trim()),ke(1),Ne("id",i.inputId)("required",i.required)("tabIndex",i.tabIndex)("checked",i.checked)("disabled",i.disabled),Et("name",i.name)("aria-checked",i.checked)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),ke(4),Ne("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",function Vp(n,t,e,i){return lE(me(),Qn(),n,t,e,i)}(18,W$,i._noopAnimations?0:150))}},dependencies:[xa,K1],styles:['.mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.mat-slide-toggle-input:focus~.mat-slide-toggle-thumb-container .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}'],encapsulation:2,changeDetection:0}),n})(),Z1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({}),n})(),iG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[Z1,Nd,Zt,py,Z1,Zt]}),n})(),ek=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({}),n})(),_G=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[Nd,Zt,py,ek,Zt,ek]}),n})(),tk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({}),n})(),nk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[Qr,Zt,py,Zt]}),n})(),EG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({providers:[dH],imports:[tk,nk,Zt,tk,nk]}),n})(),CG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[m5,Qr,O5,Vx,Lx,$$,iG,vM,l_,_G,EG,R$,IM]}),n})();const DG=["container"],SG=["canvas"];function xG(n,t){1&n&&(Ee(0,"div",2),yt(1,"\u{1f4fa}"),xe())}function MG(n,t){1&n&&(Ee(0,"div",3,4),rt(2,"canvas",null,5),xe())}let ik=(()=>{class n{constructor(e){this.zone=e,this._sourceDisposer=new Eo(!0),this._observerDisposer=new Eo(!0),this._observer=new ResizeObserver(()=>{this.zone.run(()=>{this.updateVideoSize()})})}set container(e){if(this._observerDisposer.dispose(),this._container=e,this._container){const i=this._container.nativeElement;this._observer.observe(i),this._observerDisposer.addFunction(()=>{this._observer.unobserve(i)}),this.updateVideoSize()}}set source(e){this._source!==e&&(this._sourceDisposer.dispose(),this._source=e,this.updateVideoSize(),e&&(e.play(),this._sourceDisposer.addListener(e,"metadata-changed",()=>{this.updateVideoSize()}),requestAnimationFrame(()=>this._onFrameAvailable())))}get source(){return this._source}ngAfterViewInit(){}ngOnDestroy(){this._observerDisposer.dispose()}updateVideoSize(){if(!this.canvas)return;const e=this.canvas.nativeElement;if(!this._container||!this._source)return void(e.width=e.height=0);const o=Math.min(this._container.nativeElement.clientWidth/this._source.width,this._container.nativeElement.clientHeight/this._source.height,1);e.width=this._source.width*o,e.height=this._source.height*o,this._source.drawCurrentFrame(Pt(e.getContext("2d")))}_onFrameAvailable(){if(!this._source)return;const e=this.canvas?.nativeElement?.getContext("2d");this._source.drawCurrentFrame(Pt(e)),requestAnimationFrame(()=>this._onFrameAvailable())}}return n.\u0275fac=function(e){return new(e||n)(V(qe))},n.\u0275cmp=Bt({type:n,selectors:[["ui-video-view"]],viewQuery:function(e,i){if(1&e&&(An(DG,5,ct),An(SG,5,ct)),2&e){let r;Nt(r=Lt())&&(i.container=r.first),Nt(r=Lt())&&(i.canvas=r.first)}},inputs:{source:"source"},decls:2,vars:2,consts:[["class","no-source","label","No video source!",4,"ngIf"],["class","canvas-container",4,"ngIf"],["label","No video source!",1,"no-source"],[1,"canvas-container"],["container",""],["canvas",""]],template:function(e,i){1&e&&(Ut(0,xG,2,0,"div",0),Ut(1,MG,4,0,"div",1)),2&e&&(Ne("ngIf",!i.source),ke(1),Ne("ngIf",i.source))},dependencies:[Zr],styles:["[_nghost-%COMP%]{display:flex;flex-grow:1;flex-direction:column;justify-content:center;align-items:stretch}.canvas-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:hidden;align-content:center;justify-items:center}canvas[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content}.no-source[_ngcontent-%COMP%]{align-self:center;font-size:96px}"]}),n})();const TG=["canvas"];let rk=(()=>{class n{constructor(){}ngOnChanges(e){!this.canvas||this._renderGraph()}updateCanvasSize(e){if(!this.canvas)return;const i=this.canvas.nativeElement;i.width!=e&&(i.width=e,i.height=64,this._renderGraph())}get labelLeft(){const e=this.graphConfig?.property?.series?.activeRanges;return e&&e.length&&this.timeline?`${this.timeline.frameToPx(e[0].start)}px`:0}_renderGraph(){const e=this.graphConfig?.property,i=this.timeline,r=this.canvas.nativeElement,o=r.width,a=Pt(r.getContext("2d"));if(a.clearRect(0,0,o,r.height),!e||!i)return;const c=e.series,d=this.graphConfig?.color;let p=c.min??0,g=c.max??1;p>=0&&g<=1&&(p=0,g=1),p===g&&(g+=1);const{start:E,end:S}=c.activeRanges[0]??{start:0,end:c.length};a.fillStyle=d,a.arc(i.frameToPx(E),29,5,0,2*Math.PI),a.arc(i.frameToPx(S-1),29,5,0,2*Math.PI),a.fill(),a.save();try{a.fillStyle=this._lighten(d),a.beginPath(),a.moveTo(i.frameToPx(E),28);for(let W=E;W<S;W++){const te=c.at(W);"number"==typeof te&&a.lineTo(i.frameToPx(W),30*(1-(te-p)/(g-p)))}a.lineTo(i.frameToPx(S-1),28),a.fill()}finally{a.restore()}a.beginPath(),a.strokeStyle=d,a.lineWidth=2,a.moveTo(i.frameToPx(E),29),a.lineTo(i.frameToPx(S-1),29),a.stroke()}_lighten(e){e=e.replace(/[^0-9A-F]/gi,"");var i=parseInt(e,16);return"rgba("+(i>>16&255)+","+(i>>8&255)+","+(255&i)+",0.15)"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bt({type:n,selectors:[["ui-graph"]],viewQuery:function(e,i){if(1&e&&An(TG,5,ct),2&e){let r;Nt(r=Lt())&&(i.canvas=r.first)}},inputs:{graphConfig:"graphConfig",timeline:"timeline"},features:[Cn],decls:5,vars:3,consts:[[1,"graph-container"],["canvas",""],[1,"label"]],template:function(e,i){1&e&&(Ee(0,"div",0),rt(1,"canvas",null,1),xe(),Ee(3,"div",2),yt(4),xe()),2&e&&(ke(3),qr("left",i.labelLeft),ke(1),Ni(null==i.graphConfig||null==i.graphConfig.property?null:i.graphConfig.property.label))},styles:["[_nghost-%COMP%]{padding:8px 0}.label[_ngcontent-%COMP%]{background-color:#e1e1e1!important;color:#212121;border-radius:32px;margin-top:48px;margin-bottom:8px;display:inline-block;padding:4px 8px;font-size:12px;position:relative}.graph-container[_ngcontent-%COMP%]{position:absolute;height:64px;width:100%}"]}),n})();class kG extends EventTarget{constructor(t,e){super(),this.timeline=e,this._width=t}get width(){return this._width}set width(t){t!=this._width&&(this._width=t,this.dispatchEvent(new Event("timeline-changed")))}timeToPx(t){if(t<0)return Number.NEGATIVE_INFINITY;const e=this.timeline.duration;return t>e?Number.POSITIVE_INFINITY:this.width*(t/e)}frameToPx(t){return this.timeToPx(this.timeline.frameToTime(t))}pxToTime(t){if(t<0)return Number.NEGATIVE_INFINITY;const e=this.width;return t>e?Number.POSITIVE_INFINITY:this.timeline.duration*(t/e)}pxToFrame(t){return this.timeline.timeToFrame(this.pxToTime(t))}}function IG(n,t){if(1&n){const e=mu();Ee(0,"button",10),Ct("click",function(){const o=$o(e).$implicit;return Go(rn().setPlaybackRate(o))}),Ee(1,"span"),yt(2),xe()()}if(2&n){const e=t.$implicit,i=rn();ke(2),Ni(i.formatPlaybackRateLabel(e))}}let AG=(()=>{class n{constructor(e){this._preferences=e,this._disposer=new Eo,this._sourceDisposer=new Eo(!0),this.playbackRateOptions=[1,.5,.25,.125],this.shortcuts=[{key:["left"],label:"Previous frame",command:i=>this.moveFrame(-1)},{key:["right"],label:"Next frame",command:i=>this.moveFrame(1)},{key:["space"],label:"play/pause",command:i=>this.togglePlay()}]}set videoSource(e){this._source!==e&&(this._sourceDisposer.dispose(),this._source=e,this._source&&(this._source.loop=this._preferences.loopVideo,this._source.playbackRate=this._preferences.playbackRate))}ngOnDestroy(){this._disposer.dispose()}get playStateIcon(){return"play"==this._source?.state?"pause":"play_arrow"}moveFrame(e){const i=Pt(this._source);i.stop();const o=i.frameTimes,a=HD(i.currentTime,o)+e,c=o[Math.min(Math.max(a,0),o.length-1)];return i.seek(c)}togglePlay(){const e=Pt(this._source);"play"==e.state?e.stop():e.play()}get repeatStateIcon(){return this._preferences.loopVideo?"repeat_on":"repeat"}toggleRepeat(){const e=!this._preferences.loopVideo;this._preferences.loopVideo=e,Pt(this._source).loop=e}get playbackRate(){return this._preferences.playbackRate}formatPlaybackRateLabel(e){return`${e}x`}setPlaybackRate(e){this._preferences.playbackRate=e,Pt(this._source).playbackRate=e}}return n.\u0275fac=function(e){return new(e||n)(V(Ju))},n.\u0275cmp=Bt({type:n,selectors:[["ui-video-controls"]],inputs:{videoSource:"videoSource"},decls:17,vars:6,consts:[[1,"toolbar"],["mat-icon-button",""],[3,"click"],[1,"spacer"],[1,"playbackRate"],["mat-button","",3,"matMenuTriggerFor"],["playbackRateMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-icon-button","",1,"repeat",3,"click"],[3,"shortcuts"],["mat-menu-item","",3,"click"]],template:function(e,i){if(1&e&&(Ee(0,"div",0)(1,"button",1)(2,"mat-icon",2),Ct("click",function(){return i.togglePlay()}),yt(3),xe()(),rt(4,"div",3),Ee(5,"div",4)(6,"button",5)(7,"mat-icon"),yt(8,"speed"),xe(),yt(9),xe(),Ee(10,"mat-menu",null,6),Ut(12,IG,3,1,"button",7),xe()(),Ee(13,"button",8),Ct("click",function(){return i.toggleRepeat()}),Ee(14,"mat-icon"),yt(15),xe()()(),rt(16,"ng-keyboard-shortcuts",9)),2&e){const r=Gr(11);ke(3),Ni(i.playStateIcon),ke(3),Ne("matMenuTriggerFor",r),ke(3),sr(" ",i.formatPlaybackRateLabel(i.playbackRate)," "),ke(3),Ne("ngForOf",i.playbackRateOptions),ke(3),Ni(i.repeatStateIcon),ke(1),Ne("shortcuts",i.shortcuts)}},dependencies:[zu,t_,Hd,mM,ac,yM,Lj],styles:[".toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px}.spacer[_ngcontent-%COMP%]{flex-grow:1}.playbackRate[_ngcontent-%COMP%], .loop[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}"]}),n})();const RG=["canvas"];function OG(n,t){if(1&n&&rt(0,"ui-graph",6),2&n){const e=t.$implicit,i=rn();Ne("graphConfig",e)("timeline",i.visualTimeline)}}let PG=(()=>{class n{constructor(e,i){this.viewRef=e,this.zone=i,this._recordingInputDisposer=new Eo(!0),this._observer=new ResizeObserver(()=>{this.zone.run(()=>{this._updateCanvasSize()})}),this.timeHandlePosition={x:0,y:0},this._isPlaying=!1,this._wasPlayingBeforeDrag=!1,this.computeTimeHandleSnap=(r,o,s,a)=>{if(!this.visualTimeline)return{x:0,y:0};const c=this.canvas.nativeElement.getBoundingClientRect();let d=this.visualTimeline.pxToFrame(r.x-c.x);return d===Number.NEGATIVE_INFINITY?d=0:d===Number.POSITIVE_INFINITY&&(d=this.visualTimeline.timeline.frameCount),this.videoSource&&this.videoSource.seek(this.visualTimeline.timeline.frameToTime(d)),{x:c.x+this.visualTimeline.frameToPx(d)-5,y:s.y}}}ngOnDestroy(){this._recordingInputDisposer.dispose()}set recording(e){e!==this.recording&&(this._recordingInputDisposer.dispose(),this._recording=e,this.videoSource=e?.videoSource.seekable?e?.videoSource:void 0,this.visualTimeline=e?.timeline?new kG(this.canvas.nativeElement.width,e.timeline):void 0,this.videoSource&&this._recordingInputDisposer.addListener(this.videoSource,"timeupdate",()=>this._updatePlayHead()),this._scheduleRender())}ngAfterViewInit(){this._observer.observe(this.viewRef.element.nativeElement),this.graphs.changes.subscribe(e=>{const i=this.canvas.nativeElement.width;this.graphs.forEach(r=>r.updateCanvasSize(i))}),this._updateCanvasSize()}ngAfterViewChecked(){const e="play"===this.videoSource?.state;if(e!=this._isPlaying&&(this._isPlaying=e,e)){let r=function(){i._updatePlayHead(),i._isPlaying&&requestAnimationFrame(r)};const i=this;requestAnimationFrame(r)}}_updatePlayHead(){if(!this.visualTimeline||!this.videoSource)return;const e=this.visualTimeline.timeToPx(this.videoSource.currentTime);isFinite(e)&&(this.timeHandlePosition={x:e,y:0})}onDragTimeHandleStart(e){this._wasPlayingBeforeDrag="play"==this.videoSource?.state,this._wasPlayingBeforeDrag&&this.videoSource?.stop()}onDragTimeHandleEnd(e){this._wasPlayingBeforeDrag&&this.videoSource?.play()}_updateCanvasSize(){const e=this.canvas.nativeElement,i=Pt(this.canvas.nativeElement.parentElement),r=i.clientHeight,o=i.clientWidth;e.width==o&&e.height==r||(e.width=o,e.height=r,this.visualTimeline&&(this.visualTimeline.width=o),this._render(),this.graphs.forEach(s=>s.updateCanvasSize(o)))}_scheduleRender(){this._scheduledRender||(this._scheduledRender=requestAnimationFrame(()=>{this._render(),this._scheduledRender=void 0}))}_render(){const e=Pt(this.canvas.nativeElement.getContext("2d")),{width:i,height:r}=e.canvas;if(e.clearRect(0,0,i,r),!this._recording)return;const c=this._recording.timeline.frameCount,p=i/Math.min(Math.floor(i/10),c);e.beginPath();for(let E=.5+p;E<=i;E+=p){const S=Math.round(E);let R;R=S>=E?S-.5:S+.5,e.moveTo(R,0),e.lineTo(R,r-20)}e.strokeStyle="#EEEEEE",e.lineWidth=1,e.stroke();const g=Math.max(2,Math.floor(50/p))*p;e.strokeStyle="#DDDDDD",e.fillStyle="#222222",e.lineWidth=2,e.beginPath();for(let E=g;E<i;E+=g){const S=Math.round(E);e.moveTo(S,0),e.lineTo(S,r-15);const R=Math.floor(E/i*c);e.textAlign="center",e.fillText(`${R+1}`,S,r-5)}e.moveTo(1,0),e.lineTo(1,r-15),e.moveTo(i-1,0),e.lineTo(i-1,r-15),e.stroke()}}return n.\u0275fac=function(e){return new(e||n)(V(In),V(qe))},n.\u0275cmp=Bt({type:n,selectors:[["ui-timeline-view"]],viewQuery:function(e,i){if(1&e&&(An(RG,5,ct),An(rk,5)),2&e){let r;Nt(r=Lt())&&(i.canvas=r.first),Nt(r=Lt())&&(i.graphs=r)}},inputs:{recording:"recording",viewConfig:"viewConfig"},decls:7,vars:4,consts:[[1,"timeline"],["canvas",""],["id","handle","cdkDrag","",3,"cdkDragConstrainPosition","cdkDragFreeDragPosition","cdkDragStarted","cdkDragReleased"],["appendOnly","","itemSize","50",1,"graph-viewport"],[3,"graphConfig","timeline",4,"cdkVirtualFor","cdkVirtualForOf"],[3,"videoSource"],[3,"graphConfig","timeline"]],template:function(e,i){1&e&&(Ee(0,"div",0),rt(1,"canvas",null,1),Ee(3,"div",2),Ct("cdkDragStarted",function(o){return i.onDragTimeHandleStart(o)})("cdkDragReleased",function(o){return i.onDragTimeHandleEnd(o)}),xe(),Ee(4,"cdk-virtual-scroll-viewport",3),Ut(5,OG,1,2,"ui-graph",4),xe()(),rt(6,"ui-video-controls",5)),2&e&&(ke(3),Ne("cdkDragConstrainPosition",i.computeTimeHandleSnap)("cdkDragFreeDragPosition",i.timeHandlePosition),ke(2),Ne("cdkVirtualForOf",i.viewConfig.graphs),ke(1),Ne("videoSource",i.videoSource))},dependencies:[R5,F4,H4,tM,AG,rk],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}.timeline[_ngcontent-%COMP%]{position:relative;display:flex;flex-grow:1}canvas[_ngcontent-%COMP%]{position:absolute}#handle[_ngcontent-%COMP%]{position:absolute;width:1px;background-color:red;background-clip:padding-box;border:5px solid transparent;border-bottom:5px solid red;top:0;bottom:20px;margin-left:-5px;z-index:3}.graph-viewport[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-bottom:24px}ui-graph[_ngcontent-%COMP%]{display:flex}"]}),n})(),FG=(()=>{class n{constructor(e,i,r,o){this._route=e,this._router=i,this._recordingService=r,this._progressTracker=o,this.viewConfig={graphs:[]}}ngOnInit(){var e=this;this._route.params.subscribe(function(){var i=Le(function*(r){const o=r.id,s=e._recordingService.loadRecoring(o);e._progressTracker.trackPromise(s);const a=yield s;o==e._route.snapshot.params.id?(e.recording?.dispose(),e.recording=a,e.viewConfig.graphs=a?.properties?.properties?.filter(c=>c.series.hasChangesInRange(0,1))?.map((c,d)=>({color:ok[d%ok.length],property:c}))??[]):a.dispose()});return function(r){return i.apply(this,arguments)}}())}ngOnDestroy(){this.recording?.dispose()}}return n.\u0275fac=function(e){return new(e||n)(V(Mo),V(Tn),V(ag),V(cg))},n.\u0275cmp=Bt({type:n,selectors:[["app-recording-viewer"]],decls:4,vars:3,consts:[[1,"left-panel"],[3,"source"],[1,"right-panel"],[3,"recording","viewConfig"]],template:function(e,i){1&e&&(Ee(0,"div",0),rt(1,"ui-video-view",1),xe(),Ee(2,"div",2),rt(3,"ui-timeline-view",3),xe()),2&e&&(ke(1),Ne("source",null==i.recording?null:i.recording.videoSource),ke(2),Ne("recording",i.recording)("viewConfig",i.viewConfig))},dependencies:[ik,PG],styles:["[_nghost-%COMP%]{flex-grow:1;display:flex;flex-direction:row;padding:8px;gap:8px}.left-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:0 1 33%;align-content:stretch;align-items:stretch}.right-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 0 300px;gap:8px}ui-video-view[_ngcontent-%COMP%]{flex-grow:1}ui-timeline-view[_ngcontent-%COMP%]{flex-grow:1}"]}),n})();const ok=["#E51C23","#9C27B0","#5677FC","#00BCD4","#259B24","#CDDC39","#FFC107","#795548","#737373"],NG=["scriptInput"];function LG(n,t){if(1&n&&(Ee(0,"div",9),yt(1),xe()),2&n){const e=rn();ke(1),sr(" ",e.scriptErrorMessage," ")}}let BG=(()=>{class n{constructor(e,i){this._preferences=i,this._parser=new UD,this.testIsRecording=!1,this._scriptTestRunner=new VD(e,{beginRecording:()=>(this.testIsRecording=!0,Promise.resolve()),endRecording:()=>(this.testIsRecording=!0,Promise.resolve())}),this.script=i.gestureScript,this.parsedScript=this._parser.parse(this.script)}ngOnInit(){}get triggerName(){return"none"}get gestureSummary(){switch(this.parsedScript.status){case"empty":return"none";case"success":return`${this.parsedScript.script.length} steps`}return"?"}get gestureName(){return"none"}get useGestureScript(){return this._preferences.useGestureScript}set useGestureScript(e){this._preferences.useGestureScript=e}scriptChanged(){var e=this;return Le(function*(){const i=e.scriptInput.nativeElement.value;if(e.script=i,yield Zu(500),i==e.script)if(e.parsedScript=e._parser.parse(e.script),e.scriptErrorMessage=void 0,"error"==e.parsedScript.status)e.scriptErrorMessage=e.parsedScript.message;else if("success"==e.parsedScript.status){try{e._scriptTestRunner.validate(e.parsedScript.script)}catch(r){return void(e.scriptErrorMessage=r.message)}e._preferences.gestureScript=e.script}})()}testScript(){this._scriptTestRunner.run(this.script)}}return n.\u0275fac=function(e){return new(e||n)(V(Do),V(Ju))},n.\u0275cmp=Bt({type:n,selectors:[["ui-oscilloscope-config-view"]],viewQuery:function(e,i){if(1&e&&An(NG,5),2&e){let r;Nt(r=Lt())&&(i.scriptInput=r.first)}},decls:25,vars:8,consts:[["multi",""],["hideToggle",""],[1,"spacer"],[3,"ngModel","ngModelChange"],[1,"gestures"],["rows","10","placeholder","Enter script...",3,"value","change"],["scriptInput",""],["class","errorMessage",4,"ngIf"],["mat-icon-button","",3,"disabled","click"],[1,"errorMessage"]],template:function(e,i){1&e&&(Ee(0,"mat-accordion",0)(1,"mat-expansion-panel",1)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),yt(4," Trigger "),xe(),Ee(5,"mat-panel-description"),yt(6),xe()(),Ee(7,"p"),yt(8,"Configure trigger"),xe()(),Ee(9,"mat-expansion-panel",1)(10,"mat-expansion-panel-header")(11,"mat-panel-title"),yt(12," Gesture "),xe(),Ee(13,"mat-panel-description"),yt(14),rt(15,"div",2),Ee(16,"mat-slide-toggle",3),Ct("ngModelChange",function(o){return i.useGestureScript=o}),xe()()(),Ee(17,"div",4)(18,"textarea",5,6),Ct("change",function(){return i.scriptChanged()}),yt(20,"      "),xe(),Ut(21,LG,2,1,"div",7),Ee(22,"button",8),Ct("click",function(){return i.testScript()}),Ee(23,"mat-icon"),yt(24,"play_arrow"),xe()()()()()),2&e&&(ke(6),sr(" ",i.triggerName," "),ke(8),sr(" ",i.gestureSummary," "),ke(2),Ne("ngModel",i.useGestureScript),ke(2),Yt("error",i.scriptErrorMessage),Ne("value",i.script),ke(3),Ne("ngIf",i.scriptErrorMessage),ke(1),Ne("disabled",i.scriptErrorMessage))},dependencies:[p5,yT,vT,f5,h5,Zr,t_,Hd,X1,d1,sy],styles:["mat-panel-description[_ngcontent-%COMP%]{display:flex;flex-direction:row}mat-panel-description[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex-grow:1}.gestures[_ngcontent-%COMP%]{display:flex;flex-direction:column}textarea.error[_ngcontent-%COMP%]{outline:#D93025}.errorMessage[_ngcontent-%COMP%]{color:#d93025}"]}),n})();function UG(n,t){if(1&n&&(qo(),rt(0,"circle",4)),2&n){const e=rn(),i=Gr(1);qr("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),Et("r",e._getCircleRadius())}}function VG(n,t){if(1&n&&(qo(),rt(0,"circle",4)),2&n){const e=rn(),i=Gr(1);qr("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),Et("r",e._getCircleRadius())}}const jG=To(class{constructor(n){this._elementRef=n}},"primary"),zG=new ve("mat-progress-spinner-default-options",{providedIn:"root",factory:function $G(){return{diameter:100}}});class so extends jG{constructor(t,e,i,r,o,s,a,c){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=k.EMPTY,this.mode="determinate";const d=so._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),d.has(i.head)||d.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!o&&!o._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),e.isBrowser&&e.SAFARI&&a&&s&&c&&(this._resizeSubscription=a.change(150).subscribe(()=>{"indeterminate"===this.mode&&c.run(()=>s.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=Yn(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Yn(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Yn(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=Sd(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){const e=50*(t.currentScale??1);return`${e}% ${e}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=so._diameters;let r=i.get(t);if(!r||!r.has(e)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),t.appendChild(o),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}so._diameters=new WeakMap,so.\u0275fac=function(t){return new(t||so)(V(ct),V(Ei),V(Je,8),V(Bi,8),V(zG),V(Pn),V(sc),V(qe))},so.\u0275cmp=Bt({type:so,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(Et("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),qr("width",e.diameter,"px")("height",e.diameter,"px"),Yt("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[$e],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(qo(),Ee(0,"svg",0,1),Ut(2,UG,1,11,"circle",2),Ut(3,VG,1,9,"circle",3),xe()),2&t&&(qr("width",e.diameter,"px")("height",e.diameter,"px"),Ne("ngSwitch","indeterminate"===e.mode),Et("viewBox",e._getViewBox()),ke(2),Ne("ngSwitchCase",!0),ke(1),Ne("ngSwitchCase",!1))},dependencies:[$u,FC],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let qG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[Zt,Qr,Zt]}),n})();function WG(n,t){1&n&&(Ee(0,"div"),rt(1,"mat-spinner"),xe())}function YG(n,t){if(1&n&&(Ee(0,"div")(1,"div",4)(2,"mat-icon"),yt(3,"error_outline"),xe(),Ee(4,"div",5)(5,"div",6),yt(6),xe(),rt(7,"div",7),xe()()()),2&n){const e=rn(2);ke(6),sr(" ",e.errorTitle," ")}}function KG(n,t){1&n&&(Ee(0,"div")(1,"div",8)(2,"mat-icon"),yt(3,"warning_amber"),xe(),Ee(4,"div",5)(5,"div",6),yt(6,"Not authorized."),xe(),Ee(7,"div",7),yt(8,"Authorize USB debugging on the device."),xe()()()())}function XG(n,t){if(1&n&&(Ee(0,"div",2),Ut(1,WG,2,0,"div",3),Ut(2,YG,8,1,"div",3),Ut(3,KG,9,0,"div",3),xe()),2&n){const e=rn();ke(1),Ne("ngIf","connecting"==e.connectionState.type),ke(1),Ne("ngIf","error"==e.connectionState.type),ke(1),Ne("ngIf","unauthorized"==e.connectionState.type)}}function ZG(n,t){if(1&n&&(Ee(0,"div",9)(1,"div",10),rt(2,"ui-video-view",11),xe(),Ee(3,"div",12),rt(4,"ui-oscilloscope-config-view"),xe()()),2&n){const e=rn();ke(2),Ne("source",e.liveVideo)}}const QG=[{path:"",redirectTo:"live",pathMatch:"full"},{path:"live",component:(()=>{class n{constructor(e){this._motionConnection=e,this._disposer=new Eo,this._isConnected=!1}ngOnInit(){this._disposer.addListener(this._motionConnection,"state-changed",e=>{this.isConnected="connected"==e.detail.type}),this.isConnected="connected"==this._motionConnection.state.type}ngOnDestroy(){this._disposer.dispose(),this.isConnected=!1}get connectionState(){return this._motionConnection.state}get isConnected(){return this._isConnected}set isConnected(e){this._isConnected!=e&&(this._isConnected=e,this.isConnected?this._onConnect():this._onDisconnect())}_onConnect(){this.liveVideo=this._motionConnection.createLiveViewSource()}_onDisconnect(){this.liveVideo?.dispose()}get errorTitle(){if("error"!==this._motionConnection.state.type)return"";switch(this._motionConnection.state.detail){case"deviceNotFound":return"Device not found";case"processNotFound":return"Process not found";case"windowNotFound":return"Window not found"}return this._motionConnection.state.message??"Unknwon error"}}return n.\u0275fac=function(e){return new(e||n)(V(Do))},n.\u0275cmp=Bt({type:n,selectors:[["app-motion-viewer"]],decls:2,vars:2,consts:[["class","connection",4,"ngIf"],["class","contents",4,"ngIf"],[1,"connection"],[4,"ngIf"],[1,"message","error"],[1,"content"],[1,"title"],[1,"subtitle"],[1,"message","warning"],[1,"contents"],[1,"left-panel"],[3,"source"],[1,"right-panel"]],template:function(e,i){1&e&&(Ut(0,XG,4,3,"div",0),Ut(1,ZG,5,1,"div",1)),2&e&&(Ne("ngIf",!i.isConnected),ke(1),Ne("ngIf",i.isConnected))},dependencies:[Zr,Hd,ik,BG,so],styles:["[_nghost-%COMP%]{flex-grow:1;display:flex;flex-direction:row}.connection[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:row;padding:8px;gap:8px;align-items:center;justify-content:center}.connection[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{display:flex;flex-direction:row}.connection[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{align-self:center;justify-self:center;font-size:64px;width:64px;height:64px;color:#f9ab00}.connection[_ngcontent-%COMP%]   .message.error[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:16px;color:#d93025}.connection[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.connection[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:24px}.connection[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin-top:4px}.contents[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:row;padding:8px;gap:8px}.left-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:0 1 33%;align-content:stretch;align-items:stretch}.right-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 0 300px;gap:8px}ui-video-view[_ngcontent-%COMP%]{flex-grow:1}"]}),n})()},{path:"recording",component:FG}];let JG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({providers:[{provide:bo,useFactory:t=>new eq(t),deps:[Dl]},{provide:qS,useFactory:t=>new tq(t),deps:[Dl]}],imports:[nx.forRoot(QG),nx]}),n})();class eq extends bC{constructor(t){super(t,"")}prepareExternalUrl(t){const e=super.prepareExternalUrl(t),i=e.match(/([^?]*)(\?.*)?/);return"motion.html"+(i?(i[2]??"")+(i[1]??""):e)}}let tq=(()=>{class n{constructor(e){this.platformLocation=e}get currentQueryParams(){return this.platformLocation?.search??""}shouldProcessUrl(e){return!0}extract(e){return this.preserveSearch(e)}merge(e,i){return e}preserveSearch(e){const i=new URLSearchParams(this.currentQueryParams);for(const r of n.queryParameters){const o=i.get(r),s=e.queryParams[r];o&&!s&&(e.queryParams[r]=o)}return e}}return n.queryParameters=["serial","pid","pname","wid"],n})(),nq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ut({type:n,bootstrap:[Kj]}),n.\u0275inj=at({providers:[{provide:Do,useFactory:()=>Do.createFromUrlParams(new URLSearchParams(window.location.search))},{provide:BD,useValue:rg.createStorage},ag,cg,Ju],imports:[oD,Y6,EH,Lx,r4,Vx,vM,CG,JG,gj,qG,IM.forRoot()]}),n})();(function x2(){rC=!1})(),JB().bootstrapModule(nq).catch(n=>{if(`${n}`.startsWith("InvalidUrlParams")){const t=new URL(window.location.toString());return t.pathname=t.pathname.replace("motion.html","index.html"),void window.location.replace(t)}console.error(n)})},280:Ce=>{"use strict";Ce.exports=function De(J,D){for(var Y=new Array(arguments.length-1),T=0,B=2,k=!0;B<arguments.length;)Y[T++]=arguments[B++];return new Promise(function(f,z){Y[T]=function(G){if(k)if(k=!1,G)z(G);else{for(var H=new Array(arguments.length-1),q=0;q<H.length;)H[q++]=arguments[q];f.apply(null,H)}};try{J.apply(D||null,Y)}catch(K){k&&(k=!1,z(K))}})}},39:(Ce,De)=>{"use strict";var J=De;J.length=function(C){var f=C.length;if(!f)return 0;for(var z=0;--f%4>1&&"="===C.charAt(f);)++z;return Math.ceil(3*C.length)/4-z};for(var D=new Array(64),Y=new Array(123),T=0;T<64;)Y[D[T]=T<26?T+65:T<52?T+71:T<62?T-4:T-59|43]=T++;J.encode=function(C,f,z){for(var l,K=null,G=[],H=0,q=0;f<z;){var u=C[f++];switch(q){case 0:G[H++]=D[u>>2],l=(3&u)<<4,q=1;break;case 1:G[H++]=D[l|u>>4],l=(15&u)<<2,q=2;break;case 2:G[H++]=D[l|u>>6],G[H++]=D[63&u],q=0}H>8191&&((K||(K=[])).push(String.fromCharCode.apply(String,G)),H=0)}return q&&(G[H++]=D[l],G[H++]=61,1===q&&(G[H++]=61)),K?(H&&K.push(String.fromCharCode.apply(String,G.slice(0,H))),K.join("")):String.fromCharCode.apply(String,G.slice(0,H))};var B="invalid encoding";J.decode=function(C,f,z){for(var H,K=z,G=0,q=0;q<C.length;){var l=C.charCodeAt(q++);if(61===l&&G>1)break;if(void 0===(l=Y[l]))throw Error(B);switch(G){case 0:H=l,G=1;break;case 1:f[z++]=H<<2|(48&l)>>4,H=l,G=2;break;case 2:f[z++]=(15&H)<<4|(60&l)>>2,H=l,G=3;break;case 3:f[z++]=(3&H)<<6|l,G=0}}if(1===G)throw Error(B);return z-K},J.test=function(C){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(C)}},889:Ce=>{"use strict";function De(){this._listeners={}}Ce.exports=De,De.prototype.on=function(D,Y,T){return(this._listeners[D]||(this._listeners[D]=[])).push({fn:Y,ctx:T||this}),this},De.prototype.off=function(D,Y){if(void 0===D)this._listeners={};else if(void 0===Y)this._listeners[D]=[];else for(var T=this._listeners[D],B=0;B<T.length;)T[B].fn===Y?T.splice(B,1):++B;return this},De.prototype.emit=function(D){var Y=this._listeners[D];if(Y){for(var T=[],B=1;B<arguments.length;)T.push(arguments[B++]);for(B=0;B<Y.length;)Y[B].fn.apply(Y[B++].ctx,T)}return this}},530:Ce=>{"use strict";function De(B){return typeof Float32Array<"u"?function(){var k=new Float32Array([-0]),C=new Uint8Array(k.buffer),f=128===C[3];function z(q,l,u){k[0]=q,l[u]=C[0],l[u+1]=C[1],l[u+2]=C[2],l[u+3]=C[3]}function K(q,l,u){k[0]=q,l[u]=C[3],l[u+1]=C[2],l[u+2]=C[1],l[u+3]=C[0]}function G(q,l){return C[0]=q[l],C[1]=q[l+1],C[2]=q[l+2],C[3]=q[l+3],k[0]}function H(q,l){return C[3]=q[l],C[2]=q[l+1],C[1]=q[l+2],C[0]=q[l+3],k[0]}B.writeFloatLE=f?z:K,B.writeFloatBE=f?K:z,B.readFloatLE=f?G:H,B.readFloatBE=f?H:G}():function(){function k(f,z,K,G){var H=z<0?1:0;if(H&&(z=-z),0===z)f(1/z>0?0:2147483648,K,G);else if(isNaN(z))f(2143289344,K,G);else if(z>34028234663852886e22)f((H<<31|2139095040)>>>0,K,G);else if(z<11754943508222875e-54)f((H<<31|Math.round(z/1401298464324817e-60))>>>0,K,G);else{var q=Math.floor(Math.log(z)/Math.LN2);f((H<<31|q+127<<23|8388607&Math.round(z*Math.pow(2,-q)*8388608))>>>0,K,G)}}function C(f,z,K){var G=f(z,K),H=2*(G>>31)+1,q=G>>>23&255,l=8388607&G;return 255===q?l?NaN:H*(1/0):0===q?1401298464324817e-60*H*l:H*Math.pow(2,q-150)*(l+8388608)}B.writeFloatLE=k.bind(null,J),B.writeFloatBE=k.bind(null,D),B.readFloatLE=C.bind(null,Y),B.readFloatBE=C.bind(null,T)}(),typeof Float64Array<"u"?function(){var k=new Float64Array([-0]),C=new Uint8Array(k.buffer),f=128===C[7];function z(q,l,u){k[0]=q,l[u]=C[0],l[u+1]=C[1],l[u+2]=C[2],l[u+3]=C[3],l[u+4]=C[4],l[u+5]=C[5],l[u+6]=C[6],l[u+7]=C[7]}function K(q,l,u){k[0]=q,l[u]=C[7],l[u+1]=C[6],l[u+2]=C[5],l[u+3]=C[4],l[u+4]=C[3],l[u+5]=C[2],l[u+6]=C[1],l[u+7]=C[0]}function G(q,l){return C[0]=q[l],C[1]=q[l+1],C[2]=q[l+2],C[3]=q[l+3],C[4]=q[l+4],C[5]=q[l+5],C[6]=q[l+6],C[7]=q[l+7],k[0]}function H(q,l){return C[7]=q[l],C[6]=q[l+1],C[5]=q[l+2],C[4]=q[l+3],C[3]=q[l+4],C[2]=q[l+5],C[1]=q[l+6],C[0]=q[l+7],k[0]}B.writeDoubleLE=f?z:K,B.writeDoubleBE=f?K:z,B.readDoubleLE=f?G:H,B.readDoubleBE=f?H:G}():function(){function k(f,z,K,G,H,q){var l=G<0?1:0;if(l&&(G=-G),0===G)f(0,H,q+z),f(1/G>0?0:2147483648,H,q+K);else if(isNaN(G))f(0,H,q+z),f(2146959360,H,q+K);else if(G>17976931348623157e292)f(0,H,q+z),f((l<<31|2146435072)>>>0,H,q+K);else{var u;if(G<22250738585072014e-324)f((u=G/5e-324)>>>0,H,q+z),f((l<<31|u/4294967296)>>>0,H,q+K);else{var h=Math.floor(Math.log(G)/Math.LN2);1024===h&&(h=1023),f(4503599627370496*(u=G*Math.pow(2,-h))>>>0,H,q+z),f((l<<31|h+1023<<20|1048576*u&1048575)>>>0,H,q+K)}}}function C(f,z,K,G,H){var q=f(G,H+z),l=f(G,H+K),u=2*(l>>31)+1,h=l>>>20&2047,m=4294967296*(1048575&l)+q;return 2047===h?m?NaN:u*(1/0):0===h?5e-324*u*m:u*Math.pow(2,h-1075)*(m+4503599627370496)}B.writeDoubleLE=k.bind(null,J,0,4),B.writeDoubleBE=k.bind(null,D,4,0),B.readDoubleLE=C.bind(null,Y,0,4),B.readDoubleBE=C.bind(null,T,4,0)}(),B}function J(B,k,C){k[C]=255&B,k[C+1]=B>>>8&255,k[C+2]=B>>>16&255,k[C+3]=B>>>24}function D(B,k,C){k[C]=B>>>24,k[C+1]=B>>>16&255,k[C+2]=B>>>8&255,k[C+3]=255&B}function Y(B,k){return(B[k]|B[k+1]<<8|B[k+2]<<16|B[k+3]<<24)>>>0}function T(B,k){return(B[k]<<24|B[k+1]<<16|B[k+2]<<8|B[k+3])>>>0}Ce.exports=De(De)},716:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(Ce){}return null}module.exports=inquire},479:Ce=>{"use strict";Ce.exports=function De(J,D,Y){var T=Y||8192,B=T>>>1,k=null,C=T;return function(z){if(z<1||z>B)return J(z);C+z>T&&(k=J(T),C=0);var K=D.call(k,C,C+=z);return 7&C&&(C=1+(7|C)),K}}},768:(Ce,De)=>{"use strict";var J=De;J.length=function(Y){for(var T=0,B=0,k=0;k<Y.length;++k)(B=Y.charCodeAt(k))<128?T+=1:B<2048?T+=2:55296==(64512&B)&&56320==(64512&Y.charCodeAt(k+1))?(++k,T+=4):T+=3;return T},J.read=function(Y,T,B){if(B-T<1)return"";for(var K,C=null,f=[],z=0;T<B;)(K=Y[T++])<128?f[z++]=K:K>191&&K<224?f[z++]=(31&K)<<6|63&Y[T++]:K>239&&K<365?(K=((7&K)<<18|(63&Y[T++])<<12|(63&Y[T++])<<6|63&Y[T++])-65536,f[z++]=55296+(K>>10),f[z++]=56320+(1023&K)):f[z++]=(15&K)<<12|(63&Y[T++])<<6|63&Y[T++],z>8191&&((C||(C=[])).push(String.fromCharCode.apply(String,f)),z=0);return C?(z&&C.push(String.fromCharCode.apply(String,f.slice(0,z))),C.join("")):String.fromCharCode.apply(String,f.slice(0,z))},J.write=function(Y,T,B){for(var C,f,k=B,z=0;z<Y.length;++z)(C=Y.charCodeAt(z))<128?T[B++]=C:C<2048?(T[B++]=C>>6|192,T[B++]=63&C|128):55296==(64512&C)&&56320==(64512&(f=Y.charCodeAt(z+1)))?(++z,T[B++]=(C=65536+((1023&C)<<10)+(1023&f))>>18|240,T[B++]=C>>12&63|128,T[B++]=C>>6&63|128,T[B++]=63&C|128):(T[B++]=C>>12|224,T[B++]=C>>6&63|128,T[B++]=63&C|128);return B-k}},343:(Ce,De)=>{"use strict";De.byteLength=function f(l){var u=C(l),m=u[1];return 3*(u[0]+m)/4-m},De.toByteArray=function K(l){var u,P,h=C(l),m=h[0],_=h[1],w=new Y(function z(l,u,h){return 3*(u+h)/4-h}(0,m,_)),b=0,M=_>0?m-4:m;for(P=0;P<M;P+=4)u=D[l.charCodeAt(P)]<<18|D[l.charCodeAt(P+1)]<<12|D[l.charCodeAt(P+2)]<<6|D[l.charCodeAt(P+3)],w[b++]=u>>16&255,w[b++]=u>>8&255,w[b++]=255&u;return 2===_&&(u=D[l.charCodeAt(P)]<<2|D[l.charCodeAt(P+1)]>>4,w[b++]=255&u),1===_&&(u=D[l.charCodeAt(P)]<<10|D[l.charCodeAt(P+1)]<<4|D[l.charCodeAt(P+2)]>>2,w[b++]=u>>8&255,w[b++]=255&u),w},De.fromByteArray=function q(l){for(var u,h=l.length,m=h%3,_=[],w=16383,b=0,M=h-m;b<M;b+=w)_.push(H(l,b,b+w>M?M:b+w));return 1===m?_.push(J[(u=l[h-1])>>2]+J[u<<4&63]+"=="):2===m&&_.push(J[(u=(l[h-2]<<8)+l[h-1])>>10]+J[u>>4&63]+J[u<<2&63]+"="),_.join("")};for(var J=[],D=[],Y=typeof Uint8Array<"u"?Uint8Array:Array,T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=0,k=T.length;B<k;++B)J[B]=T[B],D[T.charCodeAt(B)]=B;function C(l){var u=l.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=l.indexOf("=");return-1===h&&(h=u),[h,h===u?0:4-h%4]}function G(l){return J[l>>18&63]+J[l>>12&63]+J[l>>6&63]+J[63&l]}function H(l,u,h){for(var _=[],w=u;w<h;w+=3)_.push(G((l[w]<<16&16711680)+(l[w+1]<<8&65280)+(255&l[w+2])));return _.join("")}D["-".charCodeAt(0)]=62,D["_".charCodeAt(0)]=63},172:(Ce,De,J)=>{"use strict";var D=J(343),Y=J(461),T="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;De.Buffer=f,De.SlowBuffer=function w(x){return+x!=x&&(x=0),f.alloc(+x)},De.INSPECT_MAX_BYTES=50;var B=2147483647;function C(x){if(x>B)throw new RangeError('The value "'+x+'" is invalid for option "size"');var y=new Uint8Array(x);return Object.setPrototypeOf(y,f.prototype),y}function f(x,y,v){if("number"==typeof x){if("string"==typeof y)throw new TypeError('The "string" argument must be of type string. Received type number');return H(x)}return z(x,y,v)}function z(x,y,v){if("string"==typeof x)return function q(x,y){if(("string"!=typeof y||""===y)&&(y="utf8"),!f.isEncoding(y))throw new TypeError("Unknown encoding: "+y);var v=0|b(x,y),O=C(v),Z=O.write(x,y);return Z!==v&&(O=O.slice(0,Z)),O}(x,y);if(ArrayBuffer.isView(x))return function u(x){if(F(x,Uint8Array)){var y=new Uint8Array(x);return h(y.buffer,y.byteOffset,y.byteLength)}return l(x)}(x);if(null==x)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x);if(F(x,ArrayBuffer)||x&&F(x.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(F(x,SharedArrayBuffer)||x&&F(x.buffer,SharedArrayBuffer)))return h(x,y,v);if("number"==typeof x)throw new TypeError('The "value" argument must not be of type number. Received type number');var O=x.valueOf&&x.valueOf();if(null!=O&&O!==x)return f.from(O,y,v);var Z=function m(x){if(f.isBuffer(x)){var y=0|_(x.length),v=C(y);return 0===v.length||x.copy(v,0,0,y),v}return void 0!==x.length?"number"!=typeof x.length||L(x.length)?C(0):l(x):"Buffer"===x.type&&Array.isArray(x.data)?l(x.data):void 0}(x);if(Z)return Z;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof x[Symbol.toPrimitive])return f.from(x[Symbol.toPrimitive]("string"),y,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x)}function K(x){if("number"!=typeof x)throw new TypeError('"size" argument must be of type number');if(x<0)throw new RangeError('The value "'+x+'" is invalid for option "size"')}function H(x){return K(x),C(x<0?0:0|_(x))}function l(x){for(var y=x.length<0?0:0|_(x.length),v=C(y),O=0;O<y;O+=1)v[O]=255&x[O];return v}function h(x,y,v){if(y<0||x.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(x.byteLength<y+(v||0))throw new RangeError('"length" is outside of buffer bounds');var O;return O=void 0===y&&void 0===v?new Uint8Array(x):void 0===v?new Uint8Array(x,y):new Uint8Array(x,y,v),Object.setPrototypeOf(O,f.prototype),O}function _(x){if(x>=B)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+B.toString(16)+" bytes");return 0|x}function b(x,y){if(f.isBuffer(x))return x.length;if(ArrayBuffer.isView(x)||F(x,ArrayBuffer))return x.byteLength;if("string"!=typeof x)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof x);var v=x.length,O=arguments.length>2&&!0===arguments[2];if(!O&&0===v)return 0;for(var Z=!1;;)switch(y){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return j(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*v;case"hex":return v>>>1;case"base64":return Oe(x).length;default:if(Z)return O?-1:j(x).length;y=(""+y).toLowerCase(),Z=!0}}function M(x,y,v){var O=!1;if((void 0===y||y<0)&&(y=0),y>this.length||((void 0===v||v>this.length)&&(v=this.length),v<=0)||(v>>>=0)<=(y>>>=0))return"";for(x||(x="utf8");;)switch(x){case"hex":return A(this,y,v);case"utf8":case"utf-8":return Jt(this,y,v);case"ascii":return Qe(this,y,v);case"latin1":case"binary":return U(this,y,v);case"base64":return Gt(this,y,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,y,v);default:if(O)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),O=!0}}function P(x,y,v){var O=x[y];x[y]=x[v],x[v]=O}function X(x,y,v,O,Z){if(0===x.length)return-1;if("string"==typeof v?(O=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),L(v=+v)&&(v=Z?0:x.length-1),v<0&&(v=x.length+v),v>=x.length){if(Z)return-1;v=x.length-1}else if(v<0){if(!Z)return-1;v=0}if("string"==typeof y&&(y=f.from(y,O)),f.isBuffer(y))return 0===y.length?-1:ie(x,y,v,O,Z);if("number"==typeof y)return y&=255,"function"==typeof Uint8Array.prototype.indexOf?Z?Uint8Array.prototype.indexOf.call(x,y,v):Uint8Array.prototype.lastIndexOf.call(x,y,v):ie(x,[y],v,O,Z);throw new TypeError("val must be string, number or Buffer")}function ie(x,y,v,O,Z){var _t,pe=1,be=x.length,gt=y.length;if(void 0!==O&&("ucs2"===(O=String(O).toLowerCase())||"ucs-2"===O||"utf16le"===O||"utf-16le"===O)){if(x.length<2||y.length<2)return-1;pe=2,be/=2,gt/=2,v/=2}function Tt(mr,Yi){return 1===pe?mr[Yi]:mr.readUInt16BE(Yi*pe)}if(Z){var ln=-1;for(_t=v;_t<be;_t++)if(Tt(x,_t)===Tt(y,-1===ln?0:_t-ln)){if(-1===ln&&(ln=_t),_t-ln+1===gt)return ln*pe}else-1!==ln&&(_t-=_t-ln),ln=-1}else for(v+gt>be&&(v=be-gt),_t=v;_t>=0;_t--){for(var Ht=!0,Ii=0;Ii<gt;Ii++)if(Tt(x,_t+Ii)!==Tt(y,Ii)){Ht=!1;break}if(Ht)return _t}return-1}function he(x,y,v,O){v=Number(v)||0;var Z=x.length-v;O?(O=Number(O))>Z&&(O=Z):O=Z;var pe=y.length;O>pe/2&&(O=pe/2);for(var be=0;be<O;++be){var gt=parseInt(y.substr(2*be,2),16);if(L(gt))return be;x[v+be]=gt}return be}function ye(x,y,v,O){return Ve(j(y,x.length-v),x,v,O)}function ge(x,y,v,O){return Ve(function Q(x){for(var y=[],v=0;v<x.length;++v)y.push(255&x.charCodeAt(v));return y}(y),x,v,O)}function Me(x,y,v,O){return Ve(Oe(y),x,v,O)}function bt(x,y,v,O){return Ve(function ue(x,y){for(var v,O,pe=[],be=0;be<x.length&&!((y-=2)<0);++be)O=(v=x.charCodeAt(be))>>8,pe.push(v%256),pe.push(O);return pe}(y,x.length-v),x,v,O)}function Gt(x,y,v){return D.fromByteArray(0===y&&v===x.length?x:x.slice(y,v))}function Jt(x,y,v){v=Math.min(x.length,v);for(var O=[],Z=y;Z<v;){var Tt,_t,ln,Ht,pe=x[Z],be=null,gt=pe>239?4:pe>223?3:pe>191?2:1;if(Z+gt<=v)switch(gt){case 1:pe<128&&(be=pe);break;case 2:128==(192&(Tt=x[Z+1]))&&(Ht=(31&pe)<<6|63&Tt)>127&&(be=Ht);break;case 3:_t=x[Z+2],128==(192&(Tt=x[Z+1]))&&128==(192&_t)&&(Ht=(15&pe)<<12|(63&Tt)<<6|63&_t)>2047&&(Ht<55296||Ht>57343)&&(be=Ht);break;case 4:_t=x[Z+2],ln=x[Z+3],128==(192&(Tt=x[Z+1]))&&128==(192&_t)&&128==(192&ln)&&(Ht=(15&pe)<<18|(63&Tt)<<12|(63&_t)<<6|63&ln)>65535&&Ht<1114112&&(be=Ht)}null===be?(be=65533,gt=1):be>65535&&(O.push((be-=65536)>>>10&1023|55296),be=56320|1023&be),O.push(be),Z+=gt}return function nn(x){var y=x.length;if(y<=4096)return String.fromCharCode.apply(String,x);for(var v="",O=0;O<y;)v+=String.fromCharCode.apply(String,x.slice(O,O+=4096));return v}(O)}function Qe(x,y,v){var O="";v=Math.min(x.length,v);for(var Z=y;Z<v;++Z)O+=String.fromCharCode(127&x[Z]);return O}function U(x,y,v){var O="";v=Math.min(x.length,v);for(var Z=y;Z<v;++Z)O+=String.fromCharCode(x[Z]);return O}function A(x,y,v){var O=x.length;(!y||y<0)&&(y=0),(!v||v<0||v>O)&&(v=O);for(var Z="",pe=y;pe<v;++pe)Z+=fe[x[pe]];return Z}function $(x,y,v){for(var O=x.slice(y,v),Z="",pe=0;pe<O.length-1;pe+=2)Z+=String.fromCharCode(O[pe]+256*O[pe+1]);return Z}function N(x,y,v){if(x%1!=0||x<0)throw new RangeError("offset is not uint");if(x+y>v)throw new RangeError("Trying to access beyond buffer length")}function I(x,y,v,O,Z,pe){if(!f.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>Z||y<pe)throw new RangeError('"value" argument is out of bounds');if(v+O>x.length)throw new RangeError("Index out of range")}function ne(x,y,v,O,Z,pe){if(v+O>x.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function re(x,y,v,O,Z){return y=+y,v>>>=0,Z||ne(x,0,v,4),Y.write(x,y,v,O,23,4),v+4}function ce(x,y,v,O,Z){return y=+y,v>>>=0,Z||ne(x,0,v,8),Y.write(x,y,v,O,52,8),v+8}De.kMaxLength=B,!(f.TYPED_ARRAY_SUPPORT=function k(){try{var x=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(x,y),42===x.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(x,y,v){return z(x,y,v)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(x,y,v){return function G(x,y,v){return K(x),x<=0?C(x):void 0!==y?"string"==typeof v?C(x).fill(y,v):C(x).fill(y):C(x)}(x,y,v)},f.allocUnsafe=function(x){return H(x)},f.allocUnsafeSlow=function(x){return H(x)},f.isBuffer=function(y){return null!=y&&!0===y._isBuffer&&y!==f.prototype},f.compare=function(y,v){if(F(y,Uint8Array)&&(y=f.from(y,y.offset,y.byteLength)),F(v,Uint8Array)&&(v=f.from(v,v.offset,v.byteLength)),!f.isBuffer(y)||!f.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===v)return 0;for(var O=y.length,Z=v.length,pe=0,be=Math.min(O,Z);pe<be;++pe)if(y[pe]!==v[pe]){O=y[pe],Z=v[pe];break}return O<Z?-1:Z<O?1:0},f.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(y,v){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(0===y.length)return f.alloc(0);var O;if(void 0===v)for(v=0,O=0;O<y.length;++O)v+=y[O].length;var Z=f.allocUnsafe(v),pe=0;for(O=0;O<y.length;++O){var be=y[O];if(F(be,Uint8Array))pe+be.length>Z.length?f.from(be).copy(Z,pe):Uint8Array.prototype.set.call(Z,be,pe);else{if(!f.isBuffer(be))throw new TypeError('"list" argument must be an Array of Buffers');be.copy(Z,pe)}pe+=be.length}return Z},f.byteLength=b,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var y=this.length;if(y%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var v=0;v<y;v+=2)P(this,v,v+1);return this},f.prototype.swap32=function(){var y=this.length;if(y%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var v=0;v<y;v+=4)P(this,v,v+3),P(this,v+1,v+2);return this},f.prototype.swap64=function(){var y=this.length;if(y%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var v=0;v<y;v+=8)P(this,v,v+7),P(this,v+1,v+6),P(this,v+2,v+5),P(this,v+3,v+4);return this},f.prototype.toLocaleString=f.prototype.toString=function(){var y=this.length;return 0===y?"":0===arguments.length?Jt(this,0,y):M.apply(this,arguments)},f.prototype.equals=function(y){if(!f.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y||0===f.compare(this,y)},f.prototype.inspect=function(){var y="",v=De.INSPECT_MAX_BYTES;return y=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(y+=" ... "),"<Buffer "+y+">"},T&&(f.prototype[T]=f.prototype.inspect),f.prototype.compare=function(y,v,O,Z,pe){if(F(y,Uint8Array)&&(y=f.from(y,y.offset,y.byteLength)),!f.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(void 0===v&&(v=0),void 0===O&&(O=y?y.length:0),void 0===Z&&(Z=0),void 0===pe&&(pe=this.length),v<0||O>y.length||Z<0||pe>this.length)throw new RangeError("out of range index");if(Z>=pe&&v>=O)return 0;if(Z>=pe)return-1;if(v>=O)return 1;if(this===y)return 0;for(var be=(pe>>>=0)-(Z>>>=0),gt=(O>>>=0)-(v>>>=0),Tt=Math.min(be,gt),_t=this.slice(Z,pe),ln=y.slice(v,O),Ht=0;Ht<Tt;++Ht)if(_t[Ht]!==ln[Ht]){be=_t[Ht],gt=ln[Ht];break}return be<gt?-1:gt<be?1:0},f.prototype.includes=function(y,v,O){return-1!==this.indexOf(y,v,O)},f.prototype.indexOf=function(y,v,O){return X(this,y,v,O,!0)},f.prototype.lastIndexOf=function(y,v,O){return X(this,y,v,O,!1)},f.prototype.write=function(y,v,O,Z){if(void 0===v)Z="utf8",O=this.length,v=0;else if(void 0===O&&"string"==typeof v)Z=v,O=this.length,v=0;else{if(!isFinite(v))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");v>>>=0,isFinite(O)?(O>>>=0,void 0===Z&&(Z="utf8")):(Z=O,O=void 0)}var pe=this.length-v;if((void 0===O||O>pe)&&(O=pe),y.length>0&&(O<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var be=!1;;)switch(Z){case"hex":return he(this,y,v,O);case"utf8":case"utf-8":return ye(this,y,v,O);case"ascii":case"latin1":case"binary":return ge(this,y,v,O);case"base64":return Me(this,y,v,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return bt(this,y,v,O);default:if(be)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),be=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},f.prototype.slice=function(y,v){var O=this.length;(y=~~y)<0?(y+=O)<0&&(y=0):y>O&&(y=O),(v=void 0===v?O:~~v)<0?(v+=O)<0&&(v=0):v>O&&(v=O),v<y&&(v=y);var Z=this.subarray(y,v);return Object.setPrototypeOf(Z,f.prototype),Z},f.prototype.readUintLE=f.prototype.readUIntLE=function(y,v,O){y>>>=0,v>>>=0,O||N(y,v,this.length);for(var Z=this[y],pe=1,be=0;++be<v&&(pe*=256);)Z+=this[y+be]*pe;return Z},f.prototype.readUintBE=f.prototype.readUIntBE=function(y,v,O){y>>>=0,v>>>=0,O||N(y,v,this.length);for(var Z=this[y+--v],pe=1;v>0&&(pe*=256);)Z+=this[y+--v]*pe;return Z},f.prototype.readUint8=f.prototype.readUInt8=function(y,v){return y>>>=0,v||N(y,1,this.length),this[y]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(y,v){return y>>>=0,v||N(y,2,this.length),this[y]|this[y+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(y,v){return y>>>=0,v||N(y,2,this.length),this[y]<<8|this[y+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(y,v){return y>>>=0,v||N(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+16777216*this[y+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(y,v){return y>>>=0,v||N(y,4,this.length),16777216*this[y]+(this[y+1]<<16|this[y+2]<<8|this[y+3])},f.prototype.readIntLE=function(y,v,O){y>>>=0,v>>>=0,O||N(y,v,this.length);for(var Z=this[y],pe=1,be=0;++be<v&&(pe*=256);)Z+=this[y+be]*pe;return Z>=(pe*=128)&&(Z-=Math.pow(2,8*v)),Z},f.prototype.readIntBE=function(y,v,O){y>>>=0,v>>>=0,O||N(y,v,this.length);for(var Z=v,pe=1,be=this[y+--Z];Z>0&&(pe*=256);)be+=this[y+--Z]*pe;return be>=(pe*=128)&&(be-=Math.pow(2,8*v)),be},f.prototype.readInt8=function(y,v){return y>>>=0,v||N(y,1,this.length),128&this[y]?-1*(255-this[y]+1):this[y]},f.prototype.readInt16LE=function(y,v){y>>>=0,v||N(y,2,this.length);var O=this[y]|this[y+1]<<8;return 32768&O?4294901760|O:O},f.prototype.readInt16BE=function(y,v){y>>>=0,v||N(y,2,this.length);var O=this[y+1]|this[y]<<8;return 32768&O?4294901760|O:O},f.prototype.readInt32LE=function(y,v){return y>>>=0,v||N(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},f.prototype.readInt32BE=function(y,v){return y>>>=0,v||N(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},f.prototype.readFloatLE=function(y,v){return y>>>=0,v||N(y,4,this.length),Y.read(this,y,!0,23,4)},f.prototype.readFloatBE=function(y,v){return y>>>=0,v||N(y,4,this.length),Y.read(this,y,!1,23,4)},f.prototype.readDoubleLE=function(y,v){return y>>>=0,v||N(y,8,this.length),Y.read(this,y,!0,52,8)},f.prototype.readDoubleBE=function(y,v){return y>>>=0,v||N(y,8,this.length),Y.read(this,y,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(y,v,O,Z){y=+y,v>>>=0,O>>>=0,Z||I(this,y,v,O,Math.pow(2,8*O)-1,0);var be=1,gt=0;for(this[v]=255&y;++gt<O&&(be*=256);)this[v+gt]=y/be&255;return v+O},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(y,v,O,Z){y=+y,v>>>=0,O>>>=0,Z||I(this,y,v,O,Math.pow(2,8*O)-1,0);var be=O-1,gt=1;for(this[v+be]=255&y;--be>=0&&(gt*=256);)this[v+be]=y/gt&255;return v+O},f.prototype.writeUint8=f.prototype.writeUInt8=function(y,v,O){return y=+y,v>>>=0,O||I(this,y,v,1,255,0),this[v]=255&y,v+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(y,v,O){return y=+y,v>>>=0,O||I(this,y,v,2,65535,0),this[v]=255&y,this[v+1]=y>>>8,v+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(y,v,O){return y=+y,v>>>=0,O||I(this,y,v,2,65535,0),this[v]=y>>>8,this[v+1]=255&y,v+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(y,v,O){return y=+y,v>>>=0,O||I(this,y,v,4,4294967295,0),this[v+3]=y>>>24,this[v+2]=y>>>16,this[v+1]=y>>>8,this[v]=255&y,v+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(y,v,O){return y=+y,v>>>=0,O||I(this,y,v,4,4294967295,0),this[v]=y>>>24,this[v+1]=y>>>16,this[v+2]=y>>>8,this[v+3]=255&y,v+4},f.prototype.writeIntLE=function(y,v,O,Z){if(y=+y,v>>>=0,!Z){var pe=Math.pow(2,8*O-1);I(this,y,v,O,pe-1,-pe)}var be=0,gt=1,Tt=0;for(this[v]=255&y;++be<O&&(gt*=256);)y<0&&0===Tt&&0!==this[v+be-1]&&(Tt=1),this[v+be]=(y/gt>>0)-Tt&255;return v+O},f.prototype.writeIntBE=function(y,v,O,Z){if(y=+y,v>>>=0,!Z){var pe=Math.pow(2,8*O-1);I(this,y,v,O,pe-1,-pe)}var be=O-1,gt=1,Tt=0;for(this[v+be]=255&y;--be>=0&&(gt*=256);)y<0&&0===Tt&&0!==this[v+be+1]&&(Tt=1),this[v+be]=(y/gt>>0)-Tt&255;return v+O},f.prototype.writeInt8=function(y,v,O){return y=+y,v>>>=0,O||I(this,y,v,1,127,-128),y<0&&(y=255+y+1),this[v]=255&y,v+1},f.prototype.writeInt16LE=function(y,v,O){return y=+y,v>>>=0,O||I(this,y,v,2,32767,-32768),this[v]=255&y,this[v+1]=y>>>8,v+2},f.prototype.writeInt16BE=function(y,v,O){return y=+y,v>>>=0,O||I(this,y,v,2,32767,-32768),this[v]=y>>>8,this[v+1]=255&y,v+2},f.prototype.writeInt32LE=function(y,v,O){return y=+y,v>>>=0,O||I(this,y,v,4,2147483647,-2147483648),this[v]=255&y,this[v+1]=y>>>8,this[v+2]=y>>>16,this[v+3]=y>>>24,v+4},f.prototype.writeInt32BE=function(y,v,O){return y=+y,v>>>=0,O||I(this,y,v,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[v]=y>>>24,this[v+1]=y>>>16,this[v+2]=y>>>8,this[v+3]=255&y,v+4},f.prototype.writeFloatLE=function(y,v,O){return re(this,y,v,!0,O)},f.prototype.writeFloatBE=function(y,v,O){return re(this,y,v,!1,O)},f.prototype.writeDoubleLE=function(y,v,O){return ce(this,y,v,!0,O)},f.prototype.writeDoubleBE=function(y,v,O){return ce(this,y,v,!1,O)},f.prototype.copy=function(y,v,O,Z){if(!f.isBuffer(y))throw new TypeError("argument should be a Buffer");if(O||(O=0),!Z&&0!==Z&&(Z=this.length),v>=y.length&&(v=y.length),v||(v=0),Z>0&&Z<O&&(Z=O),Z===O||0===y.length||0===this.length)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),y.length-v<Z-O&&(Z=y.length-v+O);var pe=Z-O;return this===y&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(v,O,Z):Uint8Array.prototype.set.call(y,this.subarray(O,Z),v),pe},f.prototype.fill=function(y,v,O,Z){if("string"==typeof y){if("string"==typeof v?(Z=v,v=0,O=this.length):"string"==typeof O&&(Z=O,O=this.length),void 0!==Z&&"string"!=typeof Z)throw new TypeError("encoding must be a string");if("string"==typeof Z&&!f.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(1===y.length){var pe=y.charCodeAt(0);("utf8"===Z&&pe<128||"latin1"===Z)&&(y=pe)}}else"number"==typeof y?y&=255:"boolean"==typeof y&&(y=Number(y));if(v<0||this.length<v||this.length<O)throw new RangeError("Out of range index");if(O<=v)return this;var be;if(v>>>=0,O=void 0===O?this.length:O>>>0,y||(y=0),"number"==typeof y)for(be=v;be<O;++be)this[be]=y;else{var gt=f.isBuffer(y)?y:f.from(y,Z),Tt=gt.length;if(0===Tt)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(be=0;be<O-v;++be)this[be+v]=gt[be%Tt]}return this};var ee=/[^+/0-9A-Za-z-_]/g;function j(x,y){y=y||1/0;for(var v,O=x.length,Z=null,pe=[],be=0;be<O;++be){if((v=x.charCodeAt(be))>55295&&v<57344){if(!Z){if(v>56319){(y-=3)>-1&&pe.push(239,191,189);continue}if(be+1===O){(y-=3)>-1&&pe.push(239,191,189);continue}Z=v;continue}if(v<56320){(y-=3)>-1&&pe.push(239,191,189),Z=v;continue}v=65536+(Z-55296<<10|v-56320)}else Z&&(y-=3)>-1&&pe.push(239,191,189);if(Z=null,v<128){if((y-=1)<0)break;pe.push(v)}else if(v<2048){if((y-=2)<0)break;pe.push(v>>6|192,63&v|128)}else if(v<65536){if((y-=3)<0)break;pe.push(v>>12|224,v>>6&63|128,63&v|128)}else{if(!(v<1114112))throw new Error("Invalid code point");if((y-=4)<0)break;pe.push(v>>18|240,v>>12&63|128,v>>6&63|128,63&v|128)}}return pe}function Oe(x){return D.toByteArray(function Ke(x){if((x=(x=x.split("=")[0]).trim().replace(ee,"")).length<2)return"";for(;x.length%4!=0;)x+="=";return x}(x))}function Ve(x,y,v,O){for(var Z=0;Z<O&&!(Z+v>=y.length||Z>=x.length);++Z)y[Z+v]=x[Z];return Z}function F(x,y){return x instanceof y||null!=x&&null!=x.constructor&&null!=x.constructor.name&&x.constructor.name===y.name}function L(x){return x!=x}var fe=function(){for(var x="0123456789abcdef",y=new Array(256),v=0;v<16;++v)for(var O=16*v,Z=0;Z<16;++Z)y[O+Z]=x[v]+x[Z];return y}()},69:Ce=>{"use strict";var D,De="object"==typeof Reflect?Reflect:null,J=De&&"function"==typeof De.apply?De.apply:function(M,P,X){return Function.prototype.apply.call(M,P,X)};D=De&&"function"==typeof De.ownKeys?De.ownKeys:Object.getOwnPropertySymbols?function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:function(M){return Object.getOwnPropertyNames(M)};var T=Number.isNaN||function(M){return M!=M};function B(){B.init.call(this)}Ce.exports=B,Ce.exports.once=function m(b,M){return new Promise(function(P,X){function ie(ye){b.removeListener(M,he),X(ye)}function he(){"function"==typeof b.removeListener&&b.removeListener("error",ie),P([].slice.call(arguments))}w(b,M,he,{once:!0}),"error"!==M&&function _(b,M,P){"function"==typeof b.on&&w(b,"error",M,P)}(b,ie,{once:!0})})},B.EventEmitter=B,B.prototype._events=void 0,B.prototype._eventsCount=0,B.prototype._maxListeners=void 0;var k=10;function C(b){if("function"!=typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b)}function f(b){return void 0===b._maxListeners?B.defaultMaxListeners:b._maxListeners}function z(b,M,P,X){var ie,he,ye;if(C(P),void 0===(he=b._events)?(he=b._events=Object.create(null),b._eventsCount=0):(void 0!==he.newListener&&(b.emit("newListener",M,P.listener?P.listener:P),he=b._events),ye=he[M]),void 0===ye)ye=he[M]=P,++b._eventsCount;else if("function"==typeof ye?ye=he[M]=X?[P,ye]:[ye,P]:X?ye.unshift(P):ye.push(P),(ie=f(b))>0&&ye.length>ie&&!ye.warned){ye.warned=!0;var ge=new Error("Possible EventEmitter memory leak detected. "+ye.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");ge.name="MaxListenersExceededWarning",ge.emitter=b,ge.type=M,ge.count=ye.length,function Y(b){console&&console.warn&&console.warn(b)}(ge)}return b}function K(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function G(b,M,P){var X={fired:!1,wrapFn:void 0,target:b,type:M,listener:P},ie=K.bind(X);return ie.listener=P,X.wrapFn=ie,ie}function H(b,M,P){var X=b._events;if(void 0===X)return[];var ie=X[M];return void 0===ie?[]:"function"==typeof ie?P?[ie.listener||ie]:[ie]:P?function h(b){for(var M=new Array(b.length),P=0;P<M.length;++P)M[P]=b[P].listener||b[P];return M}(ie):l(ie,ie.length)}function q(b){var M=this._events;if(void 0!==M){var P=M[b];if("function"==typeof P)return 1;if(void 0!==P)return P.length}return 0}function l(b,M){for(var P=new Array(M),X=0;X<M;++X)P[X]=b[X];return P}function w(b,M,P,X){if("function"==typeof b.on)X.once?b.once(M,P):b.on(M,P);else{if("function"!=typeof b.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof b);b.addEventListener(M,function ie(he){X.once&&b.removeEventListener(M,ie),P(he)})}}Object.defineProperty(B,"defaultMaxListeners",{enumerable:!0,get:function(){return k},set:function(b){if("number"!=typeof b||b<0||T(b))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+b+".");k=b}}),B.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},B.prototype.setMaxListeners=function(M){if("number"!=typeof M||M<0||T(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this},B.prototype.getMaxListeners=function(){return f(this)},B.prototype.emit=function(M){for(var P=[],X=1;X<arguments.length;X++)P.push(arguments[X]);var ie="error"===M,he=this._events;if(void 0!==he)ie=ie&&void 0===he.error;else if(!ie)return!1;if(ie){var ye;if(P.length>0&&(ye=P[0]),ye instanceof Error)throw ye;var ge=new Error("Unhandled error."+(ye?" ("+ye.message+")":""));throw ge.context=ye,ge}var Me=he[M];if(void 0===Me)return!1;if("function"==typeof Me)J(Me,this,P);else{var bt=Me.length,Gt=l(Me,bt);for(X=0;X<bt;++X)J(Gt[X],this,P)}return!0},B.prototype.on=B.prototype.addListener=function(M,P){return z(this,M,P,!1)},B.prototype.prependListener=function(M,P){return z(this,M,P,!0)},B.prototype.once=function(M,P){return C(P),this.on(M,G(this,M,P)),this},B.prototype.prependOnceListener=function(M,P){return C(P),this.prependListener(M,G(this,M,P)),this},B.prototype.off=B.prototype.removeListener=function(M,P){var X,ie,he,ye,ge;if(C(P),void 0===(ie=this._events))return this;if(void 0===(X=ie[M]))return this;if(X===P||X.listener===P)0==--this._eventsCount?this._events=Object.create(null):(delete ie[M],ie.removeListener&&this.emit("removeListener",M,X.listener||P));else if("function"!=typeof X){for(he=-1,ye=X.length-1;ye>=0;ye--)if(X[ye]===P||X[ye].listener===P){ge=X[ye].listener,he=ye;break}if(he<0)return this;0===he?X.shift():function u(b,M){for(;M+1<b.length;M++)b[M]=b[M+1];b.pop()}(X,he),1===X.length&&(ie[M]=X[0]),void 0!==ie.removeListener&&this.emit("removeListener",M,ge||P)}return this},B.prototype.removeAllListeners=function(M){var P,X,ie;if(void 0===(X=this._events))return this;if(void 0===X.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==X[M]&&(0==--this._eventsCount?this._events=Object.create(null):delete X[M]),this;if(0===arguments.length){var ye,he=Object.keys(X);for(ie=0;ie<he.length;++ie)"removeListener"!==(ye=he[ie])&&this.removeAllListeners(ye);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(P=X[M]))this.removeListener(M,P);else if(void 0!==P)for(ie=P.length-1;ie>=0;ie--)this.removeListener(M,P[ie]);return this},B.prototype.listeners=function(M){return H(this,M,!0)},B.prototype.rawListeners=function(M){return H(this,M,!1)},B.listenerCount=function(b,M){return"function"==typeof b.listenerCount?b.listenerCount(M):q.call(b,M)},B.prototype.listenerCount=q,B.prototype.eventNames=function(){return this._eventsCount>0?D(this._events):[]}},461:(Ce,De)=>{De.read=function(J,D,Y,T,B){var k,C,f=8*B-T-1,z=(1<<f)-1,K=z>>1,G=-7,H=Y?B-1:0,q=Y?-1:1,l=J[D+H];for(H+=q,k=l&(1<<-G)-1,l>>=-G,G+=f;G>0;k=256*k+J[D+H],H+=q,G-=8);for(C=k&(1<<-G)-1,k>>=-G,G+=T;G>0;C=256*C+J[D+H],H+=q,G-=8);if(0===k)k=1-K;else{if(k===z)return C?NaN:1/0*(l?-1:1);C+=Math.pow(2,T),k-=K}return(l?-1:1)*C*Math.pow(2,k-T)},De.write=function(J,D,Y,T,B,k){var C,f,z,K=8*k-B-1,G=(1<<K)-1,H=G>>1,q=23===B?Math.pow(2,-24)-Math.pow(2,-77):0,l=T?0:k-1,u=T?1:-1,h=D<0||0===D&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(f=isNaN(D)?1:0,C=G):(C=Math.floor(Math.log(D)/Math.LN2),D*(z=Math.pow(2,-C))<1&&(C--,z*=2),(D+=C+H>=1?q/z:q*Math.pow(2,1-H))*z>=2&&(C++,z/=2),C+H>=G?(f=0,C=G):C+H>=1?(f=(D*z-1)*Math.pow(2,B),C+=H):(f=D*Math.pow(2,H-1)*Math.pow(2,B),C=0));B>=8;J[Y+l]=255&f,l+=u,f/=256,B-=8);for(C=C<<B|f,K+=B;K>0;J[Y+l]=255&C,l+=u,C/=256,K-=8);J[Y+l-u]|=128*h}},894:Ce=>{Ce.exports="function"==typeof Object.create?function(J,D){D&&(J.super_=D,J.prototype=Object.create(D.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}))}:function(J,D){if(D){J.super_=D;var Y=function(){};Y.prototype=D.prototype,J.prototype=new Y,J.prototype.constructor=J}}},40:function(Ce,De,J){Ce.exports=function(D){"use strict";function Y(U){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(U)}function T(U,A){if(!(U instanceof A))throw new TypeError("Cannot call a class as a function")}function B(U,A){for(var $=0;$<A.length;$++){var N=A[$];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(U,N.key,N)}}function k(U,A,$){return A&&B(U.prototype,A),$&&B(U,$),U}function C(U,A,$){return A in U?Object.defineProperty(U,A,{value:$,enumerable:!0,configurable:!0,writable:!0}):U[A]=$,U}function f(U,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(A&&A.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),A&&K(U,A)}function z(U){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(U)}function K(U,A){return(K=Object.setPrototypeOf||function($,N){return $.__proto__=N,$})(U,A)}function G(U){if(void 0===U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function H(U,A){if(A&&("object"==typeof A||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return G(U)}function q(U){var A=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var $,N=z(U);if(A){var I=z(this).constructor;$=Reflect.construct(N,arguments,I)}else $=N.apply(this,arguments);return H(this,$)}}function u(U,A){if(U){if("string"==typeof U)return h(U,A);var $=Object.prototype.toString.call(U).slice(8,-1);return"Object"===$&&U.constructor&&($=U.constructor.name),"Map"===$||"Set"===$?Array.from(U):"Arguments"===$||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?h(U,A):void 0}}function h(U,A){(null==A||A>U.length)&&(A=U.length);for(var $=0,N=new Array(A);$<A;$++)N[$]=U[$];return N}function m(U,A){var $=typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(!$){if(Array.isArray(U)||($=u(U))||A&&U&&"number"==typeof U.length){$&&(U=$);var N=0,I=function(){};return{s:I,n:function(){return N>=U.length?{done:!0}:{done:!1,value:U[N++]}},e:function(ee){throw ee},f:I}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ne,re=!0,ce=!1;return{s:function(){$=$.call(U)},n:function(){var ee=$.next();return re=ee.done,ee},e:function(ee){ce=!0,ne=ee},f:function(){try{re||null==$.return||$.return()}finally{if(ce)throw ne}}}}var _,w;function b(U){if(_){for(var A=arguments.length,$=new Array(A>1?A-1:0),N=1;N<A;N++)$[N-1]=arguments[N];_.apply(void 0,[U].concat($))}}function M(U){if(w){for(var A=arguments.length,$=new Array(A>1?A-1:0),N=1;N<A;N++)$[N-1]=arguments[N];w.apply(void 0,[U].concat($))}}var P=function(){function U(A){T(this,U),this.payload=A,this.nri=(96&this.payload[0])>>5,this.ntype=31&this.payload[0],this.isvcl=1==this.ntype||5==this.ntype,this.stype="",this.isfmb=!1}return k(U,[{key:"toString",value:function(){return"".concat(U.type(this),": NRI: ").concat(this.getNri())}},{key:"getNri",value:function(){return this.nri}},{key:"type",value:function(){return this.ntype}},{key:"isKeyframe",value:function(){return this.ntype===U.IDR}},{key:"getPayload",value:function(){return this.payload}},{key:"getPayloadSize",value:function(){return this.payload.byteLength}},{key:"getSize",value:function(){return 4+this.getPayloadSize()}},{key:"getData",value:function(){var A=new Uint8Array(this.getSize());return new DataView(A.buffer).setUint32(0,this.getSize()-4),A.set(this.getPayload(),4),A}}],[{key:"NDR",get:function(){return 1}},{key:"IDR",get:function(){return 5}},{key:"SEI",get:function(){return 6}},{key:"SPS",get:function(){return 7}},{key:"PPS",get:function(){return 8}},{key:"AUD",get:function(){return 9}},{key:"TYPES",get:function(){var A;return C(A={},U.IDR,"IDR"),C(A,U.SEI,"SEI"),C(A,U.SPS,"SPS"),C(A,U.PPS,"PPS"),C(A,U.NDR,"NDR"),C(A,U.AUD,"AUD"),A}},{key:"type",value:function(A){return A.ntype in U.TYPES?U.TYPES[A.ntype]:"UNKNOWN"}}]),U}();function X(U,A){var $=new Uint8Array((0|U.byteLength)+(0|A.byteLength));return $.set(U,0),$.set(A,0|U.byteLength),$}var ie=function(){function U(A){T(this,U),this.data=A,this.index=0,this.bitLength=8*A.byteLength}return k(U,[{key:"setData",value:function(A){this.data=A,this.index=0,this.bitLength=8*A.byteLength}},{key:"bitsAvailable",get:function(){return this.bitLength-this.index}},{key:"skipBits",value:function(A){if(this.bitsAvailable<A)return!1;this.index+=A}},{key:"readBits",value:function(A){return this.getBits(A,this.index,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"getBits",value:function(A,$){var N=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.bitsAvailable<A)return 0;var I=$%8,ne=this.data[$/8|0]&255>>>I,re=8-I;if(re>=A)return N&&(this.index+=A),ne>>re-A;N&&(this.index+=re);var ce=A-re;return ne<<ce|this.getBits(ce,$+re,N)}},{key:"skipLZ",value:function(){var A;for(A=0;A<this.bitLength-this.index;++A)if(0!==this.getBits(1,this.index+A,!1))return this.index+=A,A;return A}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var A=this.skipLZ();return this.readBits(A+1)-1}},{key:"readEG",value:function(){var A=this.readUEG();return 1&A?1+A>>>1:-1*(A>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1))}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}}]),U}(),he=function(){function U(A){T(this,U),this.remuxer=A,this.track=A.mp4track}return k(U,[{key:"parseSPS",value:function(A){var $=U.readSPS(new Uint8Array(A));this.track.fps=$.fps,this.track.width=$.width,this.track.height=$.height,this.track.sps=[new Uint8Array(A)],this.track.codec="avc1.";for(var N=new DataView(A.buffer,A.byteOffset+1,4),I=0;I<3;++I){var ne=N.getUint8(I).toString(16);ne.length<2&&(ne="0"+ne),this.track.codec+=ne}}},{key:"parsePPS",value:function(A){this.track.pps=[new Uint8Array(A)]}},{key:"parseNAL",value:function(A){if(!A)return!1;var $=!1;switch(A.type()){case P.IDR:case P.NDR:$=!0;break;case P.PPS:this.track.pps||(this.parsePPS(A.getPayload()),!this.remuxer.readyToDecode&&this.track.pps&&this.track.sps&&(this.remuxer.readyToDecode=!0)),$=!0;break;case P.SPS:this.track.sps||(this.parseSPS(A.getPayload()),!this.remuxer.readyToDecode&&this.track.pps&&this.track.sps&&(this.remuxer.readyToDecode=!0)),$=!0;break;case P.AUD:b("AUD - ignoing");break;case P.SEI:b("SEI - ignoing")}return $}}],[{key:"extractNALu",value:function(A){for(var $,N,I=0,ne=A.byteLength,re=0,ce=[],ee=0;I<ne;)switch($=A[I++],re){case 0:0===$&&(re=1);break;case 1:re=0===$?2:0;break;case 2:case 3:0===$?re=3:(1===$&&I<ne&&(ee!=I-re-1&&ce.push(A.subarray(ee,I-re-1)),ee=I),re=0)}return ee<ne&&(N=A.subarray(ee,ne)),[ce,N]}},{key:"skipScalingList",value:function(A,$){for(var N=8,I=8,ne=0;ne<$;ne++)0!==I&&(I=(N+A.readEG()+256)%256),N=0===I?N:I}},{key:"readSPS",value:function(A){var $,N,I,ne,re,ce,ee=new ie(A),Ke=0,j=0,Q=0,ue=0,Oe=1,Ve=0;ee.readUByte();for(var F=[],L=A.byteLength,fe=1;fe<L;fe++)fe+2<L&&3===ee.readBits(24,!1)?(F.push(ee.readBits(8)),F.push(ee.readBits(8)),fe+=2,ee.readBits(8)):F.push(ee.readBits(8));if(ee.setData(new Uint8Array(F)),$=ee.readUByte(),ee.readBits(5),ee.skipBits(3),ee.readUByte(),ee.skipUEG(),100===$||110===$||122===$||244===$||44===$||83===$||86===$||118===$||128===$){var x=ee.readUEG();if(3===x&&ee.skipBits(1),ee.skipUEG(),ee.skipUEG(),ee.skipBits(1),ee.readBoolean()){ce=3!==x?8:12;for(var y=0;y<ce;++y)ee.readBoolean()&&U.skipScalingList(ee,y<6?16:64)}}ee.skipUEG();var v=ee.readUEG();if(0===v)ee.readUEG();else if(1===v){ee.skipBits(1),ee.skipEG(),ee.skipEG(),N=ee.readUEG();for(var O=0;O<N;++O)ee.skipEG()}if(ee.skipUEG(),ee.skipBits(1),I=ee.readUEG(),ne=ee.readUEG(),0===(re=ee.readBits(1))&&ee.skipBits(1),ee.skipBits(1),ee.readBoolean()&&(Ke=ee.readUEG(),j=ee.readUEG(),Q=ee.readUEG(),ue=ee.readUEG()),ee.readBoolean()){if(ee.readBoolean()){var Z;switch(ee.readUByte()){case 1:Z=[1,1];break;case 2:Z=[12,11];break;case 3:Z=[10,11];break;case 4:Z=[16,11];break;case 5:Z=[40,33];break;case 6:Z=[24,11];break;case 7:Z=[20,11];break;case 8:Z=[32,11];break;case 9:Z=[80,33];break;case 10:Z=[18,11];break;case 11:Z=[15,11];break;case 12:Z=[64,33];break;case 13:Z=[160,99];break;case 14:Z=[4,3];break;case 15:Z=[3,2];break;case 16:Z=[2,1];break;case 255:Z=[ee.readUByte()<<8|ee.readUByte(),ee.readUByte()<<8|ee.readUByte()]}Z&&Z[0]>0&&Z[1]>0&&(Oe=Z[0]/Z[1])}if(ee.readBoolean()&&ee.skipBits(1),ee.readBoolean()&&(ee.skipBits(4),ee.readBoolean()&&ee.skipBits(24)),ee.readBoolean()&&(ee.skipUEG(),ee.skipUEG()),ee.readBoolean()){var pe=ee.readUInt(),be=ee.readUInt();ee.readBoolean()&&(Ve=be/(2*pe))}}return{fps:Ve>0?Ve:void 0,width:Math.ceil((16*(I+1)-2*Ke-2*j)*Oe),height:(2-re)*(ne+1)*16-(re?2:4)*(Q+ue)}}},{key:"parseHeader",value:function(A){var $=new ie(A.getPayload());$.readUByte(),A.isfmb=0===$.readUEG(),A.stype=$.readUEG()}}]),U}(),ye=function(){function U(A){T(this,U),this.remuxer=A,this.track=A.mp4track}return k(U,[{key:"extractAAC",value:function(A){var $,N,I=0,ne=A.byteLength,re=[];if(!U.isAACPattern(A))return M("Invalid ADTS audio format"),re;for($=U.getHeaderLength(A),this.aacHeader||(this.aacHeader=A.subarray(0,$));I<ne;)N=U.getFrameLength(A),re.push(A.subarray($,N)),A=A.slice(N),I+=N;return re}},{key:"setAACConfig",value:function(){var A,$,N,I=new Uint8Array(2),ne=this.aacHeader;ne&&($=(60&ne[2])>>>2,N=(1&ne[2])<<2,N|=(192&ne[3])>>>6,I[0]=(A=1+((192&ne[2])>>>6))<<3,I[0]|=(14&$)>>1,I[1]|=(1&$)<<7,I[1]|=N<<3,this.track.codec="mp4a.40."+A,this.track.channelCount=N,this.track.config=I,this.remuxer.readyToDecode=!0)}}],[{key:"samplingRateMap",get:function(){return[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350]}},{key:"getHeaderLength",value:function(A){return 1&A[1]?7:9}},{key:"getFrameLength",value:function(A){return(3&A[3])<<11|A[4]<<3|(224&A[5])>>>5}},{key:"isAACPattern",value:function(A){return 255===A[0]&&240==(240&A[1])&&0==(6&A[1])}}]),U}(),ge=function(){function U(A){T(this,U),this.listener={},this.type=""|A}return k(U,[{key:"on",value:function(A,$){return this.listener[A]||(this.listener[A]=[]),this.listener[A].push($),!0}},{key:"off",value:function(A,$){if(this.listener[A]){var N=this.listener[A].indexOf($);return N>-1&&this.listener[A].splice(N,1),!0}return!1}},{key:"offAll",value:function(){this.listener={}}},{key:"dispatch",value:function(A,$){return!!this.listener[A]&&(this.listener[A].map(function(N){N.apply(null,[$])}),!0)}}]),U}(),Me=function(){function U(){T(this,U)}return k(U,null,[{key:"init",value:function(){var A;for(A in U.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]})U.types.hasOwnProperty(A)&&(U.types[A]=[A.charCodeAt(0),A.charCodeAt(1),A.charCodeAt(2),A.charCodeAt(3)]);var $=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),N=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);U.HDLR_TYPES={video:$,audio:N};var I=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ne=new Uint8Array([0,0,0,0,0,0,0,0]);U.STTS=U.STSC=U.STCO=ne,U.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),U.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),U.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),U.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var re=new Uint8Array([105,115,111,109]),ce=new Uint8Array([97,118,99,49]),ee=new Uint8Array([0,0,0,1]);U.FTYP=U.box(U.types.ftyp,re,ee,re,ce),U.DINF=U.box(U.types.dinf,U.box(U.types.dref,I))}},{key:"box",value:function(A){for(var $=arguments.length,N=new Array($>1?$-1:0),I=1;I<$;I++)N[I-1]=arguments[I];for(var ne,re=8,ce=N.length,ee=ce;ce--;)re+=N[ce].byteLength;for((ne=new Uint8Array(re))[0]=re>>24&255,ne[1]=re>>16&255,ne[2]=re>>8&255,ne[3]=255&re,ne.set(A,4),ce=0,re=8;ce<ee;++ce)ne.set(N[ce],re),re+=N[ce].byteLength;return ne}},{key:"hdlr",value:function(A){return U.box(U.types.hdlr,U.HDLR_TYPES[A])}},{key:"mdat",value:function(A){return U.box(U.types.mdat,A)}},{key:"mdhd",value:function(A,$){return U.box(U.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,A>>24&255,A>>16&255,A>>8&255,255&A,$>>24,$>>16&255,$>>8&255,255&$,85,196,0,0]))}},{key:"mdia",value:function(A){return U.box(U.types.mdia,U.mdhd(A.timescale,A.duration),U.hdlr(A.type),U.minf(A))}},{key:"mfhd",value:function(A){return U.box(U.types.mfhd,new Uint8Array([0,0,0,0,A>>24,A>>16&255,A>>8&255,255&A]))}},{key:"minf",value:function(A){return U.box(U.types.minf,"audio"===A.type?U.box(U.types.smhd,U.SMHD):U.box(U.types.vmhd,U.VMHD),U.DINF,U.stbl(A))}},{key:"moof",value:function(A,$,N){return U.box(U.types.moof,U.mfhd(A),U.traf(N,$))}},{key:"moov",value:function(A,$,N){for(var I=A.length,ne=[];I--;)ne[I]=U.trak(A[I]);return U.box.apply(null,[U.types.moov,U.mvhd(N,$)].concat(ne).concat(U.mvex(A)))}},{key:"mvex",value:function(A){for(var $=A.length,N=[];$--;)N[$]=U.trex(A[$]);return U.box.apply(null,[U.types.mvex].concat(N))}},{key:"mvhd",value:function(A,$){var N=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,A>>24&255,A>>16&255,A>>8&255,255&A,$>>24&255,$>>16&255,$>>8&255,255&$,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return U.box(U.types.mvhd,N)}},{key:"sdtp",value:function(A){var $,N,I=A.samples||[],ne=new Uint8Array(4+I.length);for(N=0;N<I.length;N++)ne[N+4]=($=I[N].flags).dependsOn<<4|$.isDependedOn<<2|$.hasRedundancy;return U.box(U.types.sdtp,ne)}},{key:"stbl",value:function(A){return U.box(U.types.stbl,U.stsd(A),U.box(U.types.stts,U.STTS),U.box(U.types.stsc,U.STSC),U.box(U.types.stsz,U.STSZ),U.box(U.types.stco,U.STCO))}},{key:"avc1",value:function(A){var $,N,I,ne=[],re=[];for($=0;$<A.sps.length;$++)I=(N=A.sps[$]).byteLength,ne.push(I>>>8&255),ne.push(255&I),ne=ne.concat(Array.prototype.slice.call(N));for($=0;$<A.pps.length;$++)I=(N=A.pps[$]).byteLength,re.push(I>>>8&255),re.push(255&I),re=re.concat(Array.prototype.slice.call(N));var ce=U.box(U.types.avcC,new Uint8Array([1,ne[3],ne[4],ne[5],255,224|A.sps.length].concat(ne).concat([A.pps.length]).concat(re))),ee=A.width,Ke=A.height;return U.box(U.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ee>>8&255,255&ee,Ke>>8&255,255&Ke,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,98,105,110,101,108,112,114,111,46,114,117,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),ce,U.box(U.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))}},{key:"esds",value:function(A){var $=A.config.byteLength,N=new Uint8Array(26+$+3);return N.set([0,0,0,0,3,23+$,0,1,0,4,15+$,64,21,0,0,0,0,0,0,0,0,0,0,0,5,$]),N.set(A.config,26),N.set([6,1,2],26+$),N}},{key:"mp4a",value:function(A){var $=A.audiosamplerate;return U.box(U.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,A.channelCount,0,16,0,0,0,0,$>>8&255,255&$,0,0]),U.box(U.types.esds,U.esds(A)))}},{key:"stsd",value:function(A){return U.box(U.types.stsd,U.STSD,"audio"===A.type?U.mp4a(A):U.avc1(A))}},{key:"tkhd",value:function(A){var $=A.id,N=A.duration,I=A.width,ne=A.height,re=A.volume;return U.box(U.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,$>>24&255,$>>16&255,$>>8&255,255&$,0,0,0,0,N>>24,N>>16&255,N>>8&255,255&N,0,0,0,0,0,0,0,0,0,0,0,0,re>>0&255,re%1*10>>0&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,I>>8&255,255&I,0,0,ne>>8&255,255&ne,0,0]))}},{key:"traf",value:function(A,$){var N=U.sdtp(A),I=A.id;return U.box(U.types.traf,U.box(U.types.tfhd,new Uint8Array([0,0,0,0,I>>24,I>>16&255,I>>8&255,255&I])),U.box(U.types.tfdt,new Uint8Array([0,0,0,0,$>>24,$>>16&255,$>>8&255,255&$])),U.trun(A,N.length+16+16+8+16+8+8),N)}},{key:"trak",value:function(A){return A.duration=A.duration||4294967295,U.box(U.types.trak,U.tkhd(A),U.mdia(A))}},{key:"trex",value:function(A){var $=A.id;return U.box(U.types.trex,new Uint8Array([0,0,0,0,$>>24,$>>16&255,$>>8&255,255&$,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(A,$){var N,I,ne,re,ce,ee,Ke=A.samples||[],j=Ke.length,Q=12+16*j,ue=new Uint8Array(Q);for(ue.set([0,0,15,1,j>>>24&255,j>>>16&255,j>>>8&255,255&j,($+=8+Q)>>>24&255,$>>>16&255,$>>>8&255,255&$],0),N=0;N<j;N++)ne=(I=Ke[N]).duration,ue.set([ne>>>24&255,ne>>>16&255,ne>>>8&255,255&ne,(re=I.size)>>>24&255,re>>>16&255,re>>>8&255,255&re,(ce=I.flags).isLeading<<2|ce.dependsOn,ce.isDependedOn<<6|ce.hasRedundancy<<4|ce.paddingValue<<1|ce.isNonSync,61440&ce.degradPrio,15&ce.degradPrio,(ee=I.cts)>>>24&255,ee>>>16&255,ee>>>8&255,255&ee],12+16*N);return U.box(U.types.trun,ue)}},{key:"initSegment",value:function(A,$,N){U.types||U.init();var I,ne=U.moov(A,$,N);return(I=new Uint8Array(U.FTYP.byteLength+ne.byteLength)).set(U.FTYP),I.set(ne,U.FTYP.byteLength),I}}]),U}(),bt=1,Gt=function(){function U(){T(this,U)}return k(U,[{key:"flush",value:function(){this.mp4track.len=0,this.mp4track.samples=[]}},{key:"isReady",value:function(){return!(!this.readyToDecode||!this.samples.length)||null}}],[{key:"getTrackID",value:function(){return bt++}}]),U}(),Jt=function(U){f($,U);var A=q($);function $(N){var I;return T(this,$),(I=A.call(this)).readyToDecode=!1,I.nextDts=0,I.dts=0,I.mp4track={id:Gt.getTrackID(),type:"audio",channelCount:0,len:0,fragmented:!0,timescale:N,duration:N,samples:[],config:"",codec:""},I.samples=[],I.aac=new ye(G(I)),I}return k($,[{key:"resetTrack",value:function(){this.readyToDecode=!1,this.mp4track.codec="",this.mp4track.channelCount="",this.mp4track.config="",this.mp4track.timescale=this.timescale,this.nextDts=0,this.dts=0}},{key:"remux",value:function(N){if(N.length>0)for(var I=0;I<N.length;I++){var ne=N[I],re=ne.units,ce=re.byteLength;this.samples.push({units:re,size:ce,duration:ne.duration}),this.mp4track.len+=ce,this.readyToDecode||this.aac.setAACConfig()}}},{key:"getPayload",value:function(){if(!this.isReady())return null;var N,I,ne=new Uint8Array(this.mp4track.len),re=0,ce=this.mp4track.samples;for(this.dts=this.nextDts;this.samples.length;){var ee=this.samples.shift();(I=ee.duration)<=0?(b("remuxer: invalid sample duration at DTS: ".concat(this.nextDts," :").concat(I)),this.mp4track.len-=ee.size):(this.nextDts+=I,N={size:ee.size,duration:I,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},ne.set(ee.units,re),re+=ee.size,ce.push(N))}return ce.length?new Uint8Array(ne.buffer,0,this.mp4track.len):null}},{key:"getAacParser",value:function(){return this.aac}}]),$}(Gt),wn=function(U){f($,U);var A=q($);function $(N){var I;return T(this,$),(I=A.call(this)).readyToDecode=!1,I.nextDts=0,I.dts=0,I.mp4track={id:Gt.getTrackID(),type:"video",len:0,fragmented:!0,sps:"",pps:"",fps:30,width:0,height:0,timescale:N,duration:N,samples:[]},I.samples=[],I.h264=new he(G(I)),I}return k($,[{key:"resetTrack",value:function(){this.readyToDecode=!1,this.mp4track.sps="",this.mp4track.pps="",this.nextDts=0,this.dts=0}},{key:"remux",value:function(N){var I,ne=m(N);try{for(ne.s();!(I=ne.n()).done;){var re,ce=I.value,ee=[],Ke=0,j=m(ce.units);try{for(j.s();!(re=j.n()).done;){var Q=re.value;this.h264.parseNAL(Q)&&(ee.push(Q),Ke+=Q.getSize())}}catch(ue){j.e(ue)}finally{j.f()}ee.length>0&&this.readyToDecode&&(this.mp4track.len+=Ke,this.samples.push({units:ee,size:Ke,keyFrame:ce.keyFrame,duration:ce.duration,compositionTimeOffset:ce.compositionTimeOffset}))}}catch(ue){ne.e(ue)}finally{ne.f()}}},{key:"getPayload",value:function(){if(!this.isReady())return null;var N,I,ne=new Uint8Array(this.mp4track.len),re=0,ce=this.mp4track.samples;for(this.dts=this.nextDts;this.samples.length;){var ee=this.samples.shift(),Ke=ee.units;if((I=ee.duration)<=0)b("remuxer: invalid sample duration at DTS: ".concat(this.nextDts," :").concat(I)),this.mp4track.len-=ee.size;else{this.nextDts+=I,N={size:ee.size,duration:I,cts:ee.compositionTimeOffset||0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,isNonSync:ee.keyFrame?0:1,dependsOn:ee.keyFrame?2:1}};var j,Q=m(Ke);try{for(Q.s();!(j=Q.n()).done;){var ue=j.value;ne.set(ue.getData(),re),re+=ue.getSize()}}catch(Oe){Q.e(Oe)}finally{Q.f()}ce.push(N)}}return ce.length?new Uint8Array(ne.buffer,0,this.mp4track.len):null}}]),$}(Gt),nn=function(U){f($,U);var A=q($);function $(N){var I;return T(this,$),(I=A.call(this,"remuxer")).initialized=!1,I.trackTypes=[],I.tracks={},I.seq=1,I.env=N,I.timescale=1e3,I.mediaDuration=0,I.aacParser=null,I}return k($,[{key:"addTrack",value:function(N){if("video"!==N&&"both"!==N||(this.tracks.video=new wn(this.timescale),this.trackTypes.push("video")),"audio"===N||"both"===N){var I=new Jt(this.timescale);this.aacParser=I.getAacParser(),this.tracks.audio=I,this.trackTypes.push("audio")}}},{key:"reset",value:function(){var N,I=m(this.trackTypes);try{for(I.s();!(N=I.n()).done;)this.tracks[N.value].resetTrack()}catch(re){I.e(re)}finally{I.f()}this.initialized=!1}},{key:"destroy",value:function(){this.tracks={},this.offAll()}},{key:"flush",value:function(){if(this.initialized){var N,I=m(this.trackTypes);try{for(I.s();!(N=I.n()).done;){var ne=N.value,re=this.tracks[ne],ce=re.getPayload();if(ce&&ce.byteLength){var ee={type:ne,payload:X(Me.moof(this.seq,re.dts,re.mp4track),Me.mdat(ce)),dts:re.dts};"video"===ne&&(ee.fps=re.mp4track.fps),this.dispatch("buffer",ee);var Ke=(Q=void 0,void 0,void 0,Ve=void 0,Ve="",Q=Math.floor(re.dts/this.timescale),(ue=parseInt(Q/3600,10)%24)>0&&(Ve+=(ue<10?"0"+ue:ue)+":"),Ve+=((Oe=parseInt(Q/60,10)%60)<10?"0"+Oe:Oe)+":"+((Q=Q<0?0:Q%60)<10?"0"+Q:Q));b("put segment (".concat(ne,"): dts: ").concat(re.dts," frames: ").concat(re.mp4track.samples.length," second: ").concat(Ke)),re.flush(),this.seq++}}}catch(F){I.e(F)}finally{I.f()}}else this.isReady()&&(this.dispatch("ready"),this.initSegment(),this.initialized=!0,this.flush());var Q,ue,Oe,Ve}},{key:"initSegment",value:function(){var N,I=[],ne=m(this.trackTypes);try{for(ne.s();!(N=ne.n()).done;){var re=N.value,ce=this.tracks[re];if("browser"==this.env){var ee={type:re,payload:Me.initSegment([ce.mp4track],this.mediaDuration,this.timescale)};this.dispatch("buffer",ee)}else I.push(ce.mp4track)}}catch(j){ne.e(j)}finally{ne.f()}if("node"==this.env){var Ke={type:"all",payload:Me.initSegment(I,this.mediaDuration,this.timescale)};this.dispatch("buffer",Ke)}b("Initial segment generated.")}},{key:"isReady",value:function(){var N,I=m(this.trackTypes);try{for(I.s();!(N=I.n()).done;){var ne=N.value;if(!this.tracks[ne].readyToDecode||!this.tracks[ne].samples.length)return!1}}catch(re){I.e(re)}finally{I.f()}return!0}},{key:"remux",value:function(N){var I,ne=m(this.trackTypes);try{for(ne.s();!(I=ne.n()).done;){var re=I.value,ce=N[re];"audio"===re&&this.tracks.video&&!this.tracks.video.readyToDecode||ce.length>0&&this.tracks[re].remux(ce)}}catch(ee){ne.e(ee)}finally{ne.f()}this.flush()}}]),$}(ge),Qe=function(U){f($,U);var A=q($);function $(N,I){var ne;return T(this,$),(ne=A.call(this,"buffer")).type=I,ne.queue=new Uint8Array,ne.cleaning=!1,ne.pendingCleaning=0,ne.cleanOffset=30,ne.cleanRanges=[],ne.sourceBuffer=N,ne.sourceBuffer.addEventListener("updateend",function(){ne.pendingCleaning>0&&(ne.initCleanup(ne.pendingCleaning),ne.pendingCleaning=0),ne.cleaning=!1,ne.cleanRanges.length&&ne.doCleanup()}),ne.sourceBuffer.addEventListener("error",function(){ne.dispatch("error",{type:ne.type,name:"buffer",error:"buffer error"})}),ne}return k($,[{key:"destroy",value:function(){this.queue=null,this.sourceBuffer=null,this.offAll()}},{key:"doCleanup",value:function(){if(this.cleanRanges.length){var N=this.cleanRanges.shift();b("".concat(this.type," remove range [").concat(N[0]," - ").concat(N[1],")")),this.cleaning=!0,this.sourceBuffer.remove(N[0],N[1])}else this.cleaning=!1}},{key:"initCleanup",value:function(N){try{if(this.sourceBuffer.updating)return void(this.pendingCleaning=N);if(this.sourceBuffer.buffered&&this.sourceBuffer.buffered.length&&!this.cleaning){for(var I=0;I<this.sourceBuffer.buffered.length;++I){var ne=this.sourceBuffer.buffered.start(I),re=this.sourceBuffer.buffered.end(I);N-ne>this.cleanOffset&&ne<(re=N-this.cleanOffset)&&this.cleanRanges.push([ne,re])}this.doCleanup()}}catch(ce){M("Error occured while cleaning ".concat(this.type," buffer - ").concat(ce.name,": ").concat(ce.message))}}},{key:"doAppend",value:function(){if(this.queue.length&&this.sourceBuffer&&!this.sourceBuffer.updating)try{this.sourceBuffer.appendBuffer(this.queue),this.queue=new Uint8Array}catch(I){var N="unexpectedError";"QuotaExceededError"===I.name?(b("".concat(this.type," buffer quota full")),N="QuotaExceeded"):(M("Error occured while appending ".concat(this.type," buffer - ").concat(I.name,": ").concat(I.message)),N="InvalidStateError"),this.dispatch("error",{type:this.type,name:N,error:"buffer error"})}}},{key:"feed",value:function(N){this.queue=X(this.queue,N)}}]),$}(ge);return function(U){f($,U);var A=q($);function $(N){var I;return T(this,$),(I=A.call(this,"jmuxer")).isReset=!1,I.options=Object.assign({},{node:"",mode:"both",flushingTime:500,maxDelay:500,clearBuffer:!0,fps:30,readFpsFromTrack:!1,debug:!1,onReady:function(){},onError:function(){},onMissingVideoFrames:function(){},onMissingAudioFrames:function(){}},N),I.env="object"===(typeof process>"u"?"undefined":Y(process))&&typeof window>"u"?"node":"browser",I.options.debug&&(_=console.log,w=console.error),I.options.fps||(I.options.fps=30),I.frameDuration=1e3/I.options.fps|0,I.remuxController=new nn(I.env),I.remuxController.addTrack(I.options.mode),I.initData(),I.remuxController.on("buffer",I.onBuffer.bind(G(I))),"browser"==I.env&&(I.remuxController.on("ready",I.createBuffer.bind(G(I))),I.initBrowser()),I}return k($,[{key:"initData",value:function(){this.lastCleaningTime=Date.now(),this.kfPosition=[],this.kfCounter=0,this.pendingUnits={},this.remainingData=new Uint8Array,this.startInterval()}},{key:"initBrowser",value:function(){"string"==typeof this.options.node&&""==this.options.node&&M("no video element were found to render, provide a valid video element"),this.node="string"==typeof this.options.node?document.getElementById(this.options.node):this.options.node,this.mseReady=!1,this.setupMSE()}},{key:"createStream",value:function(){var N=this.feed.bind(this),I=this.destroy.bind(this);return this.stream=new D.Duplex({writableObjectMode:!0,read:function(ne){},write:function(ne,re,ce){N(ne),ce()},final:function(ne){I(),ne()}}),this.stream}},{key:"setupMSE",value:function(){if(window.MediaSource=window.MediaSource||window.WebKitMediaSource,!window.MediaSource)throw"Oops! Browser does not support media source extension.";this.isMSESupported=!!window.MediaSource,this.mediaSource=new MediaSource,this.url=URL.createObjectURL(this.mediaSource),this.node.src=this.url,this.mseEnded=!1,this.mediaSource.addEventListener("sourceopen",this.onMSEOpen.bind(this)),this.mediaSource.addEventListener("sourceclose",this.onMSEClose.bind(this)),this.mediaSource.addEventListener("webkitsourceopen",this.onMSEOpen.bind(this)),this.mediaSource.addEventListener("webkitsourceclose",this.onMSEClose.bind(this))}},{key:"endMSE",value:function(){if(!this.mseEnded)try{this.mseEnded=!0,this.mediaSource.endOfStream()}catch{M("mediasource is not available to end")}}},{key:"feed",value:function(N){var I,ne,re,ce=!1,ee={video:[],audio:[]};if(N&&this.remuxController){if(re=N.duration?parseInt(N.duration):0,N.video){N.video=X(this.remainingData,N.video);var Ke=function l(U,A){return function($){if(Array.isArray($))return $}(U)||function($,N){var I=null==$?null:typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(null!=I){var ne,re,ce=[],ee=!0,Ke=!1;try{for(I=I.call($);!(ee=(ne=I.next()).done)&&(ce.push(ne.value),!N||ce.length!==N);ee=!0);}catch(j){Ke=!0,re=j}finally{try{ee||null==I.return||I.return()}finally{if(Ke)throw re}}return ce}}(U,A)||u(U,A)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(he.extractNALu(N.video),2);if(I=Ke[0],this.remainingData=(ne=Ke[1])||new Uint8Array,!(I.length>0))return M("Failed to extract any NAL units from video data:",ne),void("function"==typeof this.options.onMissingVideoFrames&&this.options.onMissingVideoFrames.call(null,N));ee.video=this.getVideoFrames(I,re,N.compositionTimeOffset),ce=!0}if(N.audio){if(!((I=this.remuxController.aacParser.extractAAC(N.audio)).length>0))return M("Failed to extract audio data from:",N.audio),void("function"==typeof this.options.onMissingAudioFrames&&this.options.onMissingAudioFrames.call(null,N));ee.audio=this.getAudioFrames(I,re),ce=!0}ce?this.remuxController.remux(ee):M("Input object must have video and/or audio property. Make sure it is a valid typed array")}}},{key:"getVideoFrames",value:function(N,I,ne){var re,ce=this,ee=[],Ke=[],j=0,Q=!1,ue=!1;this.pendingUnits.units&&(ee=this.pendingUnits.units,ue=this.pendingUnits.vcl,Q=this.pendingUnits.keyFrame,this.pendingUnits={});var Oe,Ve=m(N);try{for(Ve.s();!(Oe=Ve.n()).done;){var L=new P(Oe.value);L.type()!==P.IDR&&L.type()!==P.NDR||he.parseHeader(L),ee.length&&ue&&(L.isfmb||!L.isvcl)&&(Ke.push({units:ee,keyFrame:Q}),ee=[],Q=!1,ue=!1),ee.push(L),Q=Q||L.isKeyframe(),ue=ue||L.isvcl}}catch(x){Ve.e(x)}finally{Ve.f()}if(ee.length)if(I)if(ue)Ke.push({units:ee,keyFrame:Q});else{var fe=Ke.length-1;fe>=0&&(Ke[fe].units=Ke[fe].units.concat(ee))}else this.pendingUnits={units:ee,keyFrame:Q,vcl:ue};return re=I?I/Ke.length|0:this.frameDuration,j=I?I-re*Ke.length:0,Ke.map(function(x){x.duration=re,x.compositionTimeOffset=ne,j>0&&(x.duration++,j--),ce.kfCounter++,x.keyFrame&&ce.options.clearBuffer&&ce.kfPosition.push(ce.kfCounter*re/1e3)}),b("jmuxer: No. of frames of the last chunk: ".concat(Ke.length)),Ke}},{key:"getAudioFrames",value:function(N,I){var ne,re,ce=[],ee=0,Ke=m(N);try{for(Ke.s();!(re=Ke.n()).done;)ce.push({units:re.value})}catch(Q){Ke.e(Q)}finally{Ke.f()}return ne=I?I/ce.length|0:this.frameDuration,ee=I?I-ne*ce.length:0,ce.map(function(Q){Q.duration=ne,ee>0&&(Q.duration++,ee--)}),ce}},{key:"destroy",value:function(){if(this.stopInterval(),this.stream&&(this.remuxController.flush(),this.stream.push(null),this.stream=null),this.remuxController&&(this.remuxController.destroy(),this.remuxController=null),this.bufferControllers){for(var N in this.bufferControllers)this.bufferControllers[N].destroy();this.bufferControllers=null,this.endMSE()}this.node=!1,this.mseReady=!1,this.videoStarted=!1,this.mediaSource=null}},{key:"reset",value:function(){if(this.stopInterval(),this.isReset=!0,this.node.pause(),this.remuxController&&this.remuxController.reset(),this.bufferControllers){for(var N in this.bufferControllers)this.bufferControllers[N].destroy();this.bufferControllers=null,this.endMSE()}this.initData(),"browser"==this.env&&this.initBrowser(),b("JMuxer was reset")}},{key:"createBuffer",value:function(){if(this.mseReady&&this.remuxController&&this.remuxController.isReady()&&!this.bufferControllers)for(var N in this.bufferControllers={},this.remuxController.tracks){var I=this.remuxController.tracks[N];if(!$.isSupported("".concat(N,'/mp4; codecs="').concat(I.mp4track.codec,'"')))return M("Browser does not support codec"),!1;var ne=this.mediaSource.addSourceBuffer("".concat(N,'/mp4; codecs="').concat(I.mp4track.codec,'"'));this.bufferControllers[N]=new Qe(ne,N),this.bufferControllers[N].on("error",this.onBufferError.bind(this))}}},{key:"startInterval",value:function(){var N=this;this.interval=setInterval(function(){N.options.flushingTime?N.applyAndClearBuffer():N.bufferControllers&&N.cancelDelay()},this.options.flushingTime||1e3)}},{key:"stopInterval",value:function(){this.interval&&clearInterval(this.interval)}},{key:"cancelDelay",value:function(){if(this.node.buffered&&this.node.buffered.length>0&&!this.node.seeking){var N=this.node.buffered.end(0);N-this.node.currentTime>this.options.maxDelay/1e3&&(console.log("delay"),this.node.currentTime=N-.001)}}},{key:"releaseBuffer",value:function(){for(var N in this.bufferControllers)this.bufferControllers[N].doAppend()}},{key:"applyAndClearBuffer",value:function(){this.bufferControllers&&(this.releaseBuffer(),this.clearBuffer())}},{key:"getSafeClearOffsetOfBuffer",value:function(N){for(var I,ne="audio"===this.options.mode&&N||0,re=0;re<this.kfPosition.length&&!(this.kfPosition[re]>=N);re++)I=this.kfPosition[re];return I&&(this.kfPosition=this.kfPosition.filter(function(ce){return ce<I&&(ne=ce),ce>=I})),ne}},{key:"clearBuffer",value:function(){if(this.options.clearBuffer&&Date.now()-this.lastCleaningTime>1e4){for(var N in this.bufferControllers){var I=this.getSafeClearOffsetOfBuffer(this.node.currentTime);this.bufferControllers[N].initCleanup(I)}this.lastCleaningTime=Date.now()}}},{key:"onBuffer",value:function(N){this.options.readFpsFromTrack&&void 0!==N.fps&&this.options.fps!=N.fps&&(this.options.fps=N.fps,this.frameDuration=Math.ceil(1e3/N.fps),b("JMuxer changed FPS to ".concat(N.fps," from track data"))),"browser"==this.env?this.bufferControllers&&this.bufferControllers[N.type]&&this.bufferControllers[N.type].feed(N.payload):this.stream&&this.stream.push(N.payload),0===this.options.flushingTime&&this.applyAndClearBuffer()}},{key:"onMSEOpen",value:function(){this.mseReady=!0,URL.revokeObjectURL(this.url),"function"==typeof this.options.onReady&&this.options.onReady.call(null,this.isReset)}},{key:"onMSEClose",value:function(){this.mseReady=!1,this.videoStarted=!1}},{key:"onBufferError",value:function(N){if("QuotaExceeded"==N.name)return b("JMuxer cleaning ".concat(N.type," buffer due to QuotaExceeded error")),void this.bufferControllers[N.type].initCleanup(this.node.currentTime);"InvalidStateError"==N.name?(b("JMuxer is reseting due to InvalidStateError"),this.reset()):this.endMSE(),"function"==typeof this.options.onError&&this.options.onError.call(null,N)}}],[{key:"isSupported",value:function(N){return window.MediaSource&&window.MediaSource.isTypeSupported(N)}}]),$}(ge)}(J(295))},153:(Ce,De)=>{var l,w,D=(l=new Date,w=4,{setLogLevel:function(M){w=M==this.debug?1:M==this.info?2:M==this.warn?3:4},debug:function(M,P){void 0===console.debug&&(console.debug=console.log),1>=w&&console.debug("["+D.getDurationString(new Date-l,1e3)+"]","["+M+"]",P)},log:function(M,P){this.debug(M.msg)},info:function(M,P){2>=w&&console.info("["+D.getDurationString(new Date-l,1e3)+"]","["+M+"]",P)},warn:function(M,P){3>=w&&console.warn("["+D.getDurationString(new Date-l,1e3)+"]","["+M+"]",P)},error:function(M,P){4>=w&&console.error("["+D.getDurationString(new Date-l,1e3)+"]","["+M+"]",P)}});D.getDurationString=function(l,u){var h;function m(X,ie){for(var ye=(""+X).split(".");ye[0].length<ie;)ye[0]="0"+ye[0];return ye.join(".")}l<0?(h=!0,l=-l):h=!1;var w=l/(u||1),b=Math.floor(w/3600);w-=3600*b;var M=Math.floor(w/60),P=1e3*(w-=60*M);return P-=1e3*(w=Math.floor(w)),P=Math.floor(P),(h?"-":"")+b+":"+m(M,2)+":"+m(w,2)+"."+m(P,3)},D.printRanges=function(l){var u=l.length;if(u>0){for(var h="",m=0;m<u;m++)m>0&&(h+=","),h+="["+D.getDurationString(l.start(m))+","+D.getDurationString(l.end(m))+"]";return h}return"(empty)"};var Y=function(l){if(!(l instanceof ArrayBuffer))throw"Needs an array buffer";this.buffer=l,this.dataview=new DataView(l),this.position=0};Y.prototype.getPosition=function(){return this.position},Y.prototype.getEndPosition=function(){return this.buffer.byteLength},Y.prototype.getLength=function(){return this.buffer.byteLength},Y.prototype.seek=function(l){var u=Math.max(0,Math.min(this.buffer.byteLength,l));return this.position=isNaN(u)||!isFinite(u)?0:u,!0},Y.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()},Y.prototype.readAnyInt=function(l,u){var h=0;if(this.position+l<=this.buffer.byteLength){switch(l){case 1:h=u?this.dataview.getInt8(this.position):this.dataview.getUint8(this.position);break;case 2:h=u?this.dataview.getInt16(this.position):this.dataview.getUint16(this.position);break;case 3:if(u)throw"No method for reading signed 24 bits values";h=this.dataview.getUint8(this.position)<<16,h|=this.dataview.getUint8(this.position+1)<<8,h|=this.dataview.getUint8(this.position+2);break;case 4:h=u?this.dataview.getInt32(this.position):this.dataview.getUint32(this.position);break;case 8:if(u)throw"No method for reading signed 64 bits values";h=this.dataview.getUint32(this.position)<<32,h|=this.dataview.getUint32(this.position+4);break;default:throw"readInt method not implemented for size: "+l}return this.position+=l,h}throw"Not enough bytes in buffer"},Y.prototype.readUint8=function(){return this.readAnyInt(1,!1)},Y.prototype.readUint16=function(){return this.readAnyInt(2,!1)},Y.prototype.readUint24=function(){return this.readAnyInt(3,!1)},Y.prototype.readUint32=function(){return this.readAnyInt(4,!1)},Y.prototype.readUint64=function(){return this.readAnyInt(8,!1)},Y.prototype.readString=function(l){if(this.position+l<=this.buffer.byteLength){for(var u="",h=0;h<l;h++)u+=String.fromCharCode(this.readUint8());return u}throw"Not enough bytes in buffer"},Y.prototype.readCString=function(){for(var l=[];;){var u=this.readUint8();if(0===u)break;l.push(u)}return String.fromCharCode.apply(null,l)},Y.prototype.readInt8=function(){return this.readAnyInt(1,!0)},Y.prototype.readInt16=function(){return this.readAnyInt(2,!0)},Y.prototype.readInt32=function(){return this.readAnyInt(4,!0)},Y.prototype.readInt64=function(){return this.readAnyInt(8,!1)},Y.prototype.readUint8Array=function(l){for(var u=new Uint8Array(l),h=0;h<l;h++)u[h]=this.readUint8();return u},Y.prototype.readInt16Array=function(l){for(var u=new Int16Array(l),h=0;h<l;h++)u[h]=this.readInt16();return u},Y.prototype.readUint16Array=function(l){for(var u=new Int16Array(l),h=0;h<l;h++)u[h]=this.readUint16();return u},Y.prototype.readUint32Array=function(l){for(var u=new Uint32Array(l),h=0;h<l;h++)u[h]=this.readUint32();return u},Y.prototype.readInt32Array=function(l){for(var u=new Int32Array(l),h=0;h<l;h++)u[h]=this.readInt32();return u};var T=function(l,u,h){this._byteOffset=u||0,l instanceof ArrayBuffer?this.buffer=l:"object"==typeof l?(this.dataView=l,u&&(this._byteOffset+=u)):this.buffer=new ArrayBuffer(l||0),this.position=0,this.endianness=h??T.LITTLE_ENDIAN};T.prototype={},T.prototype.getPosition=function(){return this.position},T.prototype._realloc=function(l){if(this._dynamicSize){var u=this._byteOffset+this.position+l,h=this._buffer.byteLength;if(u<=h)return void(u>this._byteLength&&(this._byteLength=u));for(h<1&&(h=1);u>h;)h*=2;var m=new ArrayBuffer(h),_=new Uint8Array(this._buffer);new Uint8Array(m,0,_.length).set(_),this.buffer=m,this._byteLength=u}},T.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var l=new ArrayBuffer(this._byteLength),u=new Uint8Array(l),h=new Uint8Array(this._buffer,0,u.length);u.set(h),this.buffer=l}},T.BIG_ENDIAN=!1,T.LITTLE_ENDIAN=!0,T.prototype._byteLength=0,Object.defineProperty(T.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(T.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(l){this._buffer=l,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(T.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(l){this._byteOffset=l,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(T.prototype,"dataView",{get:function(){return this._dataView},set:function(l){this._byteOffset=l.byteOffset,this._buffer=l.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+l.byteLength}}),T.prototype.seek=function(l){var u=Math.max(0,Math.min(this.byteLength,l));this.position=isNaN(u)||!isFinite(u)?0:u},T.prototype.isEof=function(){return this.position>=this._byteLength},T.prototype.mapUint8Array=function(l){this._realloc(1*l);var u=new Uint8Array(this._buffer,this.byteOffset+this.position,l);return this.position+=1*l,u},T.prototype.readInt32Array=function(l,u){l=l??this.byteLength-this.position/4;var h=new Int32Array(l);return T.memcpy(h.buffer,0,this.buffer,this.byteOffset+this.position,l*h.BYTES_PER_ELEMENT),T.arrayToNative(h,u??this.endianness),this.position+=h.byteLength,h},T.prototype.readInt16Array=function(l,u){l=l??this.byteLength-this.position/2;var h=new Int16Array(l);return T.memcpy(h.buffer,0,this.buffer,this.byteOffset+this.position,l*h.BYTES_PER_ELEMENT),T.arrayToNative(h,u??this.endianness),this.position+=h.byteLength,h},T.prototype.readInt8Array=function(l){l=l??this.byteLength-this.position;var u=new Int8Array(l);return T.memcpy(u.buffer,0,this.buffer,this.byteOffset+this.position,l*u.BYTES_PER_ELEMENT),this.position+=u.byteLength,u},T.prototype.readUint32Array=function(l,u){l=l??this.byteLength-this.position/4;var h=new Uint32Array(l);return T.memcpy(h.buffer,0,this.buffer,this.byteOffset+this.position,l*h.BYTES_PER_ELEMENT),T.arrayToNative(h,u??this.endianness),this.position+=h.byteLength,h},T.prototype.readUint16Array=function(l,u){l=l??this.byteLength-this.position/2;var h=new Uint16Array(l);return T.memcpy(h.buffer,0,this.buffer,this.byteOffset+this.position,l*h.BYTES_PER_ELEMENT),T.arrayToNative(h,u??this.endianness),this.position+=h.byteLength,h},T.prototype.readUint8Array=function(l){l=l??this.byteLength-this.position;var u=new Uint8Array(l);return T.memcpy(u.buffer,0,this.buffer,this.byteOffset+this.position,l*u.BYTES_PER_ELEMENT),this.position+=u.byteLength,u},T.prototype.readFloat64Array=function(l,u){l=l??this.byteLength-this.position/8;var h=new Float64Array(l);return T.memcpy(h.buffer,0,this.buffer,this.byteOffset+this.position,l*h.BYTES_PER_ELEMENT),T.arrayToNative(h,u??this.endianness),this.position+=h.byteLength,h},T.prototype.readFloat32Array=function(l,u){l=l??this.byteLength-this.position/4;var h=new Float32Array(l);return T.memcpy(h.buffer,0,this.buffer,this.byteOffset+this.position,l*h.BYTES_PER_ELEMENT),T.arrayToNative(h,u??this.endianness),this.position+=h.byteLength,h},T.prototype.readInt32=function(l){var u=this._dataView.getInt32(this.position,l??this.endianness);return this.position+=4,u},T.prototype.readInt16=function(l){var u=this._dataView.getInt16(this.position,l??this.endianness);return this.position+=2,u},T.prototype.readInt8=function(){var l=this._dataView.getInt8(this.position);return this.position+=1,l},T.prototype.readUint32=function(l){var u=this._dataView.getUint32(this.position,l??this.endianness);return this.position+=4,u},T.prototype.readUint16=function(l){var u=this._dataView.getUint16(this.position,l??this.endianness);return this.position+=2,u},T.prototype.readUint8=function(){var l=this._dataView.getUint8(this.position);return this.position+=1,l},T.prototype.readFloat32=function(l){var u=this._dataView.getFloat32(this.position,l??this.endianness);return this.position+=4,u},T.prototype.readFloat64=function(l){var u=this._dataView.getFloat64(this.position,l??this.endianness);return this.position+=8,u},T.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,T.memcpy=function(l,u,h,m,_){var w=new Uint8Array(l,u,_),b=new Uint8Array(h,m,_);w.set(b)},T.arrayToNative=function(l,u){return u==this.endianness?l:this.flipArrayEndianness(l)},T.nativeToEndian=function(l,u){return this.endianness==u?l:this.flipArrayEndianness(l)},T.flipArrayEndianness=function(l){for(var u=new Uint8Array(l.buffer,l.byteOffset,l.byteLength),h=0;h<l.byteLength;h+=l.BYTES_PER_ELEMENT)for(var m=h+l.BYTES_PER_ELEMENT-1,_=h;m>_;m--,_++){var w=u[_];u[_]=u[m],u[m]=w}return l},T.prototype.failurePosition=0,String.fromCharCodeUint8=function(l){for(var u=[],h=0;h<l.length;h++)u[h]=l[h];return String.fromCharCode.apply(null,u)},T.prototype.readString=function(l,u){return null==u||"ASCII"==u?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(l??this.byteLength-this.position)]):new TextDecoder(u).decode(this.mapUint8Array(l))},T.prototype.readCString=function(l){var u=this.byteLength-this.position,h=new Uint8Array(this._buffer,this._byteOffset+this.position),m=u;null!=l&&(m=Math.min(l,u));for(var _=0;_<m&&0!==h[_];_++);var w=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(_)]);return null!=l?this.position+=m-_:_!=u&&(this.position+=1),w};var B=Math.pow(2,32);T.prototype.readInt64=function(){return this.readInt32()*B+this.readUint32()},T.prototype.readUint64=function(){return this.readUint32()*B+this.readUint32()},T.prototype.readInt64=function(){return this.readUint32()*B+this.readUint32()},T.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()},T.prototype.save=function(l){var u=new Blob([this.buffer]);if(!window.URL||!URL.createObjectURL)throw"DataStream.save: Can't create object URL.";var h=window.URL.createObjectURL(u),m=document.createElement("a");document.body.appendChild(m),m.setAttribute("href",h),m.setAttribute("download",l),m.setAttribute("target","_self"),m.click(),window.URL.revokeObjectURL(h)},T.prototype._dynamicSize=!0,Object.defineProperty(T.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(l){l||this._trimAlloc(),this._dynamicSize=l}}),T.prototype.shift=function(l){var u=new ArrayBuffer(this._byteLength-l),h=new Uint8Array(u),m=new Uint8Array(this._buffer,l,h.length);h.set(m),this.buffer=u,this.position-=l},T.prototype.writeInt32Array=function(l,u){if(this._realloc(4*l.length),l instanceof Int32Array&&this.byteOffset+this.position%l.BYTES_PER_ELEMENT===0)T.memcpy(this._buffer,this.byteOffset+this.position,l.buffer,0,l.byteLength),this.mapInt32Array(l.length,u);else for(var h=0;h<l.length;h++)this.writeInt32(l[h],u)},T.prototype.writeInt16Array=function(l,u){if(this._realloc(2*l.length),l instanceof Int16Array&&this.byteOffset+this.position%l.BYTES_PER_ELEMENT===0)T.memcpy(this._buffer,this.byteOffset+this.position,l.buffer,0,l.byteLength),this.mapInt16Array(l.length,u);else for(var h=0;h<l.length;h++)this.writeInt16(l[h],u)},T.prototype.writeInt8Array=function(l){if(this._realloc(1*l.length),l instanceof Int8Array&&this.byteOffset+this.position%l.BYTES_PER_ELEMENT===0)T.memcpy(this._buffer,this.byteOffset+this.position,l.buffer,0,l.byteLength),this.mapInt8Array(l.length);else for(var u=0;u<l.length;u++)this.writeInt8(l[u])},T.prototype.writeUint32Array=function(l,u){if(this._realloc(4*l.length),l instanceof Uint32Array&&this.byteOffset+this.position%l.BYTES_PER_ELEMENT===0)T.memcpy(this._buffer,this.byteOffset+this.position,l.buffer,0,l.byteLength),this.mapUint32Array(l.length,u);else for(var h=0;h<l.length;h++)this.writeUint32(l[h],u)},T.prototype.writeUint16Array=function(l,u){if(this._realloc(2*l.length),l instanceof Uint16Array&&this.byteOffset+this.position%l.BYTES_PER_ELEMENT===0)T.memcpy(this._buffer,this.byteOffset+this.position,l.buffer,0,l.byteLength),this.mapUint16Array(l.length,u);else for(var h=0;h<l.length;h++)this.writeUint16(l[h],u)},T.prototype.writeUint8Array=function(l){if(this._realloc(1*l.length),l instanceof Uint8Array&&this.byteOffset+this.position%l.BYTES_PER_ELEMENT===0)T.memcpy(this._buffer,this.byteOffset+this.position,l.buffer,0,l.byteLength),this.mapUint8Array(l.length);else for(var u=0;u<l.length;u++)this.writeUint8(l[u])},T.prototype.writeFloat64Array=function(l,u){if(this._realloc(8*l.length),l instanceof Float64Array&&this.byteOffset+this.position%l.BYTES_PER_ELEMENT===0)T.memcpy(this._buffer,this.byteOffset+this.position,l.buffer,0,l.byteLength),this.mapFloat64Array(l.length,u);else for(var h=0;h<l.length;h++)this.writeFloat64(l[h],u)},T.prototype.writeFloat32Array=function(l,u){if(this._realloc(4*l.length),l instanceof Float32Array&&this.byteOffset+this.position%l.BYTES_PER_ELEMENT===0)T.memcpy(this._buffer,this.byteOffset+this.position,l.buffer,0,l.byteLength),this.mapFloat32Array(l.length,u);else for(var h=0;h<l.length;h++)this.writeFloat32(l[h],u)},T.prototype.writeInt32=function(l,u){this._realloc(4),this._dataView.setInt32(this.position,l,u??this.endianness),this.position+=4},T.prototype.writeInt16=function(l,u){this._realloc(2),this._dataView.setInt16(this.position,l,u??this.endianness),this.position+=2},T.prototype.writeInt8=function(l){this._realloc(1),this._dataView.setInt8(this.position,l),this.position+=1},T.prototype.writeUint32=function(l,u){this._realloc(4),this._dataView.setUint32(this.position,l,u??this.endianness),this.position+=4},T.prototype.writeUint16=function(l,u){this._realloc(2),this._dataView.setUint16(this.position,l,u??this.endianness),this.position+=2},T.prototype.writeUint8=function(l){this._realloc(1),this._dataView.setUint8(this.position,l),this.position+=1},T.prototype.writeFloat32=function(l,u){this._realloc(4),this._dataView.setFloat32(this.position,l,u??this.endianness),this.position+=4},T.prototype.writeFloat64=function(l,u){this._realloc(8),this._dataView.setFloat64(this.position,l,u??this.endianness),this.position+=8},T.prototype.writeUCS2String=function(l,u,h){null==h&&(h=l.length);for(var m=0;m<l.length&&m<h;m++)this.writeUint16(l.charCodeAt(m),u);for(;m<h;m++)this.writeUint16(0)},T.prototype.writeString=function(l,u,h){var m=0;if(null==u||"ASCII"==u)if(null!=h){var _=Math.min(l.length,h);for(m=0;m<_;m++)this.writeUint8(l.charCodeAt(m));for(;m<h;m++)this.writeUint8(0)}else for(m=0;m<l.length;m++)this.writeUint8(l.charCodeAt(m));else this.writeUint8Array(new TextEncoder(u).encode(l.substring(0,h)))},T.prototype.writeCString=function(l,u){var h=0;if(null!=u){var m=Math.min(l.length,u);for(h=0;h<m;h++)this.writeUint8(l.charCodeAt(h));for(;h<u;h++)this.writeUint8(0)}else{for(h=0;h<l.length;h++)this.writeUint8(l.charCodeAt(h));this.writeUint8(0)}},T.prototype.writeStruct=function(l,u){for(var h=0;h<l.length;h+=2)this.writeType(l[h+1],u[l[h]],u)},T.prototype.writeType=function(l,u,h){var m;if("function"==typeof l)return l(this,u);if("object"==typeof l&&!(l instanceof Array))return l.set(this,u,h);var _=null,w="ASCII",b=this.position;switch("string"==typeof l&&/:/.test(l)&&(m=l.split(":"),l=m[0],_=parseInt(m[1])),"string"==typeof l&&/,/.test(l)&&(m=l.split(","),l=m[0],w=parseInt(m[1])),l){case"uint8":this.writeUint8(u);break;case"int8":this.writeInt8(u);break;case"uint16":this.writeUint16(u,this.endianness);break;case"int16":this.writeInt16(u,this.endianness);break;case"uint32":this.writeUint32(u,this.endianness);break;case"int32":this.writeInt32(u,this.endianness);break;case"float32":this.writeFloat32(u,this.endianness);break;case"float64":this.writeFloat64(u,this.endianness);break;case"uint16be":this.writeUint16(u,T.BIG_ENDIAN);break;case"int16be":this.writeInt16(u,T.BIG_ENDIAN);break;case"uint32be":this.writeUint32(u,T.BIG_ENDIAN);break;case"int32be":this.writeInt32(u,T.BIG_ENDIAN);break;case"float32be":this.writeFloat32(u,T.BIG_ENDIAN);break;case"float64be":this.writeFloat64(u,T.BIG_ENDIAN);break;case"uint16le":this.writeUint16(u,T.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(u,T.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(u,T.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(u,T.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(u,T.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(u,T.LITTLE_ENDIAN);break;case"cstring":this.writeCString(u,_);break;case"string":this.writeString(u,w,_);break;case"u16string":this.writeUCS2String(u,this.endianness,_);break;case"u16stringle":this.writeUCS2String(u,T.LITTLE_ENDIAN,_);break;case"u16stringbe":this.writeUCS2String(u,T.BIG_ENDIAN,_);break;default:if(3==l.length){for(var M=l[1],P=0;P<u.length;P++)this.writeType(M,u[P]);break}this.writeStruct(l,u)}null!=_&&(this.position=b,this._realloc(_),this.position=b+_)},T.prototype.writeUint64=function(l){var u=Math.floor(l/B);this.writeUint32(u),this.writeUint32(4294967295&l)},T.prototype.writeUint24=function(l){this.writeUint8((16711680&l)>>16),this.writeUint8((65280&l)>>8),this.writeUint8(255&l)},T.prototype.adjustUint32=function(l,u){var h=this.position;this.seek(l),this.writeUint32(u),this.seek(h)},T.prototype.mapInt32Array=function(l,u){this._realloc(4*l);var h=new Int32Array(this._buffer,this.byteOffset+this.position,l);return T.arrayToNative(h,u??this.endianness),this.position+=4*l,h},T.prototype.mapInt16Array=function(l,u){this._realloc(2*l);var h=new Int16Array(this._buffer,this.byteOffset+this.position,l);return T.arrayToNative(h,u??this.endianness),this.position+=2*l,h},T.prototype.mapInt8Array=function(l){this._realloc(1*l);var u=new Int8Array(this._buffer,this.byteOffset+this.position,l);return this.position+=1*l,u},T.prototype.mapUint32Array=function(l,u){this._realloc(4*l);var h=new Uint32Array(this._buffer,this.byteOffset+this.position,l);return T.arrayToNative(h,u??this.endianness),this.position+=4*l,h},T.prototype.mapUint16Array=function(l,u){this._realloc(2*l);var h=new Uint16Array(this._buffer,this.byteOffset+this.position,l);return T.arrayToNative(h,u??this.endianness),this.position+=2*l,h},T.prototype.mapFloat64Array=function(l,u){this._realloc(8*l);var h=new Float64Array(this._buffer,this.byteOffset+this.position,l);return T.arrayToNative(h,u??this.endianness),this.position+=8*l,h},T.prototype.mapFloat32Array=function(l,u){this._realloc(4*l);var h=new Float32Array(this._buffer,this.byteOffset+this.position,l);return T.arrayToNative(h,u??this.endianness),this.position+=4*l,h};var k=function(l){this.buffers=[],this.bufferIndex=-1,l&&(this.insertBuffer(l),this.bufferIndex=0)};(k.prototype=new T(new ArrayBuffer,0,T.BIG_ENDIAN)).initialized=function(){var l;return this.bufferIndex>-1||(this.buffers.length>0?0===(l=this.buffers[0]).fileStart?(this.buffer=l,this.bufferIndex=0,D.debug("MultiBufferStream","Stream ready for parsing"),!0):(D.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1):(D.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1))},ArrayBuffer.concat=function(l,u){D.debug("ArrayBuffer","Trying to create a new buffer of size: "+(l.byteLength+u.byteLength));var h=new Uint8Array(l.byteLength+u.byteLength);return h.set(new Uint8Array(l),0),h.set(new Uint8Array(u),l.byteLength),h.buffer},k.prototype.reduceBuffer=function(l,u,h){var m;return(m=new Uint8Array(h)).set(new Uint8Array(l,u,h)),m.buffer.fileStart=l.fileStart+u,m.buffer.usedBytes=0,m.buffer},k.prototype.insertBuffer=function(l){for(var u=!0,h=0;h<this.buffers.length;h++){var m=this.buffers[h];if(l.fileStart<=m.fileStart){if(l.fileStart===m.fileStart){if(l.byteLength>m.byteLength){this.buffers.splice(h,1),h--;continue}D.warn("MultiBufferStream","Buffer (fileStart: "+l.fileStart+" - Length: "+l.byteLength+") already appended, ignoring")}else l.fileStart+l.byteLength<=m.fileStart||(l=this.reduceBuffer(l,0,m.fileStart-l.fileStart)),D.debug("MultiBufferStream","Appending new buffer (fileStart: "+l.fileStart+" - Length: "+l.byteLength+")"),this.buffers.splice(h,0,l),0===h&&(this.buffer=l);u=!1;break}if(l.fileStart<m.fileStart+m.byteLength){var _=m.fileStart+m.byteLength-l.fileStart,w=l.byteLength-_;if(!(w>0)){u=!1;break}l=this.reduceBuffer(l,_,w)}}u&&(D.debug("MultiBufferStream","Appending new buffer (fileStart: "+l.fileStart+" - Length: "+l.byteLength+")"),this.buffers.push(l),0===h&&(this.buffer=l))},k.prototype.logBufferLevel=function(l){var u,h,m,_,b,w=[],M="";for(m=0,_=0,u=0;u<this.buffers.length;u++)h=this.buffers[u],0===u?(w.push(b={}),b.start=h.fileStart,b.end=h.fileStart+h.byteLength,M+="["+b.start+"-"):b.end===h.fileStart?b.end=h.fileStart+h.byteLength:((b={}).start=h.fileStart,M+=w[w.length-1].end-1+"], ["+b.start+"-",b.end=h.fileStart+h.byteLength,w.push(b)),m+=h.usedBytes,_+=h.byteLength;w.length>0&&(M+=b.end-1+"]"),(l?D.info:D.debug)("MultiBufferStream",0===this.buffers.length?"No more buffer in memory":this.buffers.length+" stored buffer(s) ("+m+"/"+_+" bytes), continuous ranges: "+M)},k.prototype.cleanBuffers=function(){var l,u;for(l=0;l<this.buffers.length;l++)(u=this.buffers[l]).usedBytes===u.byteLength&&(D.debug("MultiBufferStream","Removing buffer #"+l),this.buffers.splice(l,1),l--)},k.prototype.mergeNextBuffer=function(){var l;if(this.bufferIndex+1<this.buffers.length){if((l=this.buffers[this.bufferIndex+1]).fileStart===this.buffer.fileStart+this.buffer.byteLength){var u=this.buffer.byteLength,h=this.buffer.usedBytes,m=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,l),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=h,this.buffer.fileStart=m,D.debug("ISOFile","Concatenating buffer for box parsing (length: "+u+"->"+this.buffer.byteLength+")"),!0}return!1}return!1},k.prototype.findPosition=function(l,u,h){var m,_=null,w=-1;for(m=!0===l?0:this.bufferIndex;m<this.buffers.length&&(_=this.buffers[m]).fileStart<=u;)w=m,h&&(_.usedBytes=_.fileStart+_.byteLength<=u?_.byteLength:u-_.fileStart,this.logBufferLevel()),m++;return-1!==w&&(_=this.buffers[w]).fileStart+_.byteLength>=u?(D.debug("MultiBufferStream","Found position in existing buffer #"+w),w):-1},k.prototype.findEndContiguousBuf=function(l){var u,h,m,_=void 0!==l?l:this.bufferIndex;if(h=this.buffers[_],this.buffers.length>_+1)for(u=_+1;u<this.buffers.length&&(m=this.buffers[u]).fileStart===h.fileStart+h.byteLength;u++)h=m;return h.fileStart+h.byteLength},k.prototype.getEndFilePositionAfter=function(l){var u=this.findPosition(!0,l,!1);return-1!==u?this.findEndContiguousBuf(u):l},k.prototype.addUsedBytes=function(l){this.buffer.usedBytes+=l,this.logBufferLevel()},k.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()},k.prototype.seek=function(l,u,h){var m;return-1!==(m=this.findPosition(u,l,h))?(this.buffer=this.buffers[m],this.bufferIndex=m,this.position=l-this.buffer.fileStart,D.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(D.debug("MultiBufferStream","Position "+l+" not found in buffered data"),!1)},k.prototype.getPosition=function(){if(-1===this.bufferIndex||null===this.buffers[this.bufferIndex])throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position},k.prototype.getLength=function(){return this.byteLength},k.prototype.getEndPosition=function(){if(-1===this.bufferIndex||null===this.buffers[this.bufferIndex])throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength};var C=function(){var _=[];_[3]="ES_Descriptor",_[4]="DecoderConfigDescriptor",_[5]="DecoderSpecificInfo",_[6]="SLConfigDescriptor",this.getDescriptorName=function(M){return _[M]};var w=this,b={};return this.parseOneDescriptor=function(M){var ie,he,ye,X=0;for(ie=M.readUint8(),ye=M.readUint8();128&ye;)X=(127&ye)<<7,ye=M.readUint8();return D.debug("MPEG4DescriptorParser","Found "+(_[ie]||"Descriptor "+ie)+", size "+(X+=127&ye)+" at position "+M.getPosition()),(he=_[ie]?new b[_[ie]](X):new b.Descriptor(X)).parse(M),he},b.Descriptor=function(M,P){this.tag=M,this.size=P,this.descs=[]},b.Descriptor.prototype.parse=function(M){this.data=M.readUint8Array(this.size)},b.Descriptor.prototype.findDescriptor=function(M){for(var P=0;P<this.descs.length;P++)if(this.descs[P].tag==M)return this.descs[P];return null},b.Descriptor.prototype.parseRemainingDescriptors=function(M){for(var P=M.position;M.position<P+this.size;){var X=w.parseOneDescriptor(M);this.descs.push(X)}},b.ES_Descriptor=function(M){b.Descriptor.call(this,3,M)},b.ES_Descriptor.prototype=new b.Descriptor,b.ES_Descriptor.prototype.parse=function(M){if(this.ES_ID=M.readUint16(),this.flags=M.readUint8(),this.size-=3,128&this.flags?(this.dependsOn_ES_ID=M.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,64&this.flags){var P=M.readUint8();this.URL=M.readString(P),this.size-=P+1}else this.URL="";32&this.flags?(this.OCR_ES_ID=M.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(M)},b.ES_Descriptor.prototype.getOTI=function(M){var P=this.findDescriptor(4);return P?P.oti:0},b.ES_Descriptor.prototype.getAudioConfig=function(M){var P=this.findDescriptor(4);if(!P)return null;var X=P.findDescriptor(5);if(X&&X.data){var ie=(248&X.data[0])>>3;return 31===ie&&X.data.length>=2&&(ie=32+((7&X.data[0])<<3)+((224&X.data[1])>>5)),ie}return null},b.DecoderConfigDescriptor=function(M){b.Descriptor.call(this,4,M)},b.DecoderConfigDescriptor.prototype=new b.Descriptor,b.DecoderConfigDescriptor.prototype.parse=function(M){this.oti=M.readUint8(),this.streamType=M.readUint8(),this.bufferSize=M.readUint24(),this.maxBitrate=M.readUint32(),this.avgBitrate=M.readUint32(),this.size-=13,this.parseRemainingDescriptors(M)},b.DecoderSpecificInfo=function(M){b.Descriptor.call(this,5,M)},b.DecoderSpecificInfo.prototype=new b.Descriptor,b.SLConfigDescriptor=function(M){b.Descriptor.call(this,6,M)},b.SLConfigDescriptor.prototype=new b.Descriptor,this},f={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:["mdat","idat","free","skip","meco","strk"],FULL_BOXES:["hmhd","nmhd","iods","xml ","bxml","ipro","mere"],CONTAINER_BOXES:[["moov",["trak","pssh"]],["trak"],["edts"],["mdia"],["minf"],["dinf"],["stbl",["sgpd","sbgp"]],["mvex",["trex"]],["moof",["traf"]],["traf",["trun","sgpd","sbgp"]],["vttc"],["tref"],["iref"],["mfra",["tfra"]],["meco"],["hnti"],["hinf"],["strk"],["strd"],["sinf"],["rinf"],["schi"],["trgr"],["udta",["kind"]],["iprp",["ipma"]],["ipco"]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){f.FullBox.prototype=new f.Box,f.ContainerBox.prototype=new f.Box,f.SampleEntry.prototype=new f.Box,f.TrackGroupTypeBox.prototype=new f.FullBox,f.BASIC_BOXES.forEach(function(l){f.createBoxCtor(l)}),f.FULL_BOXES.forEach(function(l){f.createFullBoxCtor(l)}),f.CONTAINER_BOXES.forEach(function(l){f.createContainerBoxCtor(l[0],null,l[1])})},Box:function(l,u,h){this.type=l,this.size=u,this.uuid=h},FullBox:function(l,u,h){f.Box.call(this,l,u,h),this.flags=0,this.version=0},ContainerBox:function(l,u,h){f.Box.call(this,l,u,h),this.boxes=[]},SampleEntry:function(l,u,h,m){f.ContainerBox.call(this,l,u),this.hdr_size=h,this.start=m},SampleGroupEntry:function(l){this.grouping_type=l},TrackGroupTypeBox:function(l,u){f.FullBox.call(this,l,u)},createBoxCtor:function(l,u){f.boxCodes.push(l),f[l+"Box"]=function(h){f.Box.call(this,l,h)},f[l+"Box"].prototype=new f.Box,u&&(f[l+"Box"].prototype.parse=u)},createFullBoxCtor:function(l,u){f[l+"Box"]=function(h){f.FullBox.call(this,l,h)},f[l+"Box"].prototype=new f.FullBox,f[l+"Box"].prototype.parse=function(h){this.parseFullHeader(h),u&&u.call(this,h)}},addSubBoxArrays:function(l){if(l){this.subBoxNames=l;for(var u=l.length,h=0;h<u;h++)this[l[h]+"s"]=[]}},createContainerBoxCtor:function(l,u,h){f[l+"Box"]=function(m){f.ContainerBox.call(this,l,m),f.addSubBoxArrays.call(this,h)},f[l+"Box"].prototype=new f.ContainerBox,u&&(f[l+"Box"].prototype.parse=u)},createMediaSampleEntryCtor:function(l,u,h){f.sampleEntryCodes[l]=[],f[l+"SampleEntry"]=function(m,_){f.SampleEntry.call(this,m,_),f.addSubBoxArrays.call(this,h)},f[l+"SampleEntry"].prototype=new f.SampleEntry,u&&(f[l+"SampleEntry"].prototype.parse=u)},createSampleEntryCtor:function(l,u,h,m){f.sampleEntryCodes[l].push(u),f[u+"SampleEntry"]=function(_){f[l+"SampleEntry"].call(this,u,_),f.addSubBoxArrays.call(this,m)},f[u+"SampleEntry"].prototype=new f[l+"SampleEntry"],h&&(f[u+"SampleEntry"].prototype.parse=h)},createEncryptedSampleEntryCtor:function(l,u,h){f.createSampleEntryCtor.call(this,l,u,h,["sinf"])},createSampleGroupCtor:function(l,u){f[l+"SampleGroupEntry"]=function(h){f.SampleGroupEntry.call(this,l,h)},f[l+"SampleGroupEntry"].prototype=new f.SampleGroupEntry,u&&(f[l+"SampleGroupEntry"].prototype.parse=u)},createTrackGroupCtor:function(l,u){f[l+"TrackGroupTypeBox"]=function(h){f.TrackGroupTypeBox.call(this,l,h)},f[l+"TrackGroupTypeBox"].prototype=new f.TrackGroupTypeBox,u&&(f[l+"TrackGroupTypeBox"].prototype.parse=u)},createUUIDBox:function(l,u,h,m){f.UUIDs.push(l),f.UUIDBoxes[l]=function(_){u?f.FullBox.call(this,"uuid",_,l):h?f.ContainerBox.call(this,"uuid",_,l):f.Box.call(this,"uuid",_,l)},f.UUIDBoxes[l].prototype=u?new f.FullBox:h?new f.ContainerBox:new f.Box,m&&(f.UUIDBoxes[l].prototype.parse=u?function(_){this.parseFullHeader(_),m&&m.call(this,_)}:m)}};f.initialize(),f.TKHD_FLAG_ENABLED=1,f.TKHD_FLAG_IN_MOVIE=2,f.TKHD_FLAG_IN_PREVIEW=4,f.TFHD_FLAG_BASE_DATA_OFFSET=1,f.TFHD_FLAG_SAMPLE_DESC=2,f.TFHD_FLAG_SAMPLE_DUR=8,f.TFHD_FLAG_SAMPLE_SIZE=16,f.TFHD_FLAG_SAMPLE_FLAGS=32,f.TFHD_FLAG_DUR_EMPTY=65536,f.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,f.TRUN_FLAGS_DATA_OFFSET=1,f.TRUN_FLAGS_FIRST_FLAG=4,f.TRUN_FLAGS_DURATION=256,f.TRUN_FLAGS_SIZE=512,f.TRUN_FLAGS_FLAGS=1024,f.TRUN_FLAGS_CTS_OFFSET=2048,f.Box.prototype.add=function(l){return this.addBox(new f[l+"Box"])},f.Box.prototype.addBox=function(l){return this.boxes.push(l),this[l.type+"s"]?this[l.type+"s"].push(l):this[l.type]=l,l},f.Box.prototype.set=function(l,u){return this[l]=u,this},f.Box.prototype.addEntry=function(l,u){var h=u||"entries";return this[h]||(this[h]=[]),this[h].push(l),this},f.parseUUID=function(l){return f.parseHex16(l)},f.parseHex16=function(l){for(var u="",h=0;h<16;h++){var m=l.readUint8().toString(16);u+=1===m.length?"0"+m:m}return u},f.parseOneBox=function(l,u,h){var m,b,M,_=l.getPosition(),w=0;if(l.getEndPosition()-_<8)return D.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:f.ERR_NOT_ENOUGH_DATA};if(h&&h<8)return D.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:f.ERR_NOT_ENOUGH_DATA};var P=l.readUint32(),X=l.readString(4),ie=X;if(D.debug("BoxParser","Found box of type '"+X+"' and size "+P+" at position "+_),w=8,"uuid"==X){if(l.getEndPosition()-l.getPosition()<16||h-w<16)return l.seek(_),D.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:f.ERR_NOT_ENOUGH_DATA};w+=16,ie=M=f.parseUUID(l)}if(1==P){if(l.getEndPosition()-l.getPosition()<8||h&&h-w<8)return l.seek(_),D.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+X+'" box'),{code:f.ERR_NOT_ENOUGH_DATA};P=l.readUint64(),w+=8}else if(0===P)if(h)P=h;else if("mdat"!==X)return D.error("BoxParser","Unlimited box size not supported for type: '"+X+"'"),m=new f.Box(X,P),{code:f.OK,box:m,size:m.size};return 0!==P&&P<w?(D.error("BoxParser","Box of type "+X+" has an invalid size "+P+" (too small to be a box)"),{code:f.ERR_NOT_ENOUGH_DATA,type:X,size:P,hdr_size:w,start:_}):0!==P&&h&&P>h?(D.error("BoxParser","Box of type '"+X+"' has a size "+P+" greater than its container size "+h),{code:f.ERR_NOT_ENOUGH_DATA,type:X,size:P,hdr_size:w,start:_}):0!==P&&_+P>l.getEndPosition()?(l.seek(_),D.info("BoxParser","Not enough data in stream to parse the entire '"+X+"' box"),{code:f.ERR_NOT_ENOUGH_DATA,type:X,size:P,hdr_size:w,start:_}):u?{code:f.OK,type:X,size:P,hdr_size:w,start:_}:(f[X+"Box"]?m=new f[X+"Box"](P):"uuid"!==X?(D.warn("BoxParser","Unknown box type: '"+X+"'"),(m=new f.Box(X,P)).has_unparsed_data=!0):f.UUIDBoxes[M]?m=new f.UUIDBoxes[M](P):(D.warn("BoxParser","Unknown uuid type: '"+M+"'"),(m=new f.Box(X,P)).uuid=M,m.has_unparsed_data=!0),m.hdr_size=w,m.start=_,m.write===f.Box.prototype.write&&"mdat"!==m.type&&(D.info("BoxParser","'"+ie+"' box writing not yet implemented, keeping unparsed data in memory for later write"),m.parseDataAndRewind(l)),m.parse(l),(b=l.getPosition()-(m.start+m.size))<0?(D.warn("BoxParser","Parsing of box '"+ie+"' did not read the entire indicated box data size (missing "+-b+" bytes), seeking forward"),l.seek(m.start+m.size)):b>0&&(D.error("BoxParser","Parsing of box '"+ie+"' read "+b+" more bytes than the indicated box data size, seeking backwards"),0!==m.size&&l.seek(m.start+m.size)),{code:f.OK,box:m,size:m.size})},f.Box.prototype.parse=function(l){"mdat"!=this.type?this.data=l.readUint8Array(this.size-this.hdr_size):l.seek(0===this.size?l.getEndPosition():this.start+this.size)},f.Box.prototype.parseDataAndRewind=function(l){this.data=l.readUint8Array(this.size-this.hdr_size),l.position-=this.size-this.hdr_size},f.FullBox.prototype.parseDataAndRewind=function(l){this.parseFullHeader(l),this.data=l.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,l.position-=this.size-this.hdr_size},f.FullBox.prototype.parseFullHeader=function(l){this.version=l.readUint8(),this.flags=l.readUint24(),this.hdr_size+=4},f.FullBox.prototype.parse=function(l){this.parseFullHeader(l),this.data=l.readUint8Array(this.size-this.hdr_size)},f.ContainerBox.prototype.parse=function(l){for(var u,h;l.getPosition()<this.start+this.size;){if((u=f.parseOneBox(l,!1,this.size-(l.getPosition()-this.start))).code!==f.OK)return;if(this.boxes.push(h=u.box),this.subBoxNames&&-1!=this.subBoxNames.indexOf(h.type))this[this.subBoxNames[this.subBoxNames.indexOf(h.type)]+"s"].push(h);else{var m="uuid"!==h.type?h.type:h.uuid;this[m]?D.warn("Box of type "+m+" already stored in field of this type"):this[m]=h}}},f.Box.prototype.parseLanguage=function(l){this.language=l.readUint16();var u=[];u[0]=this.language>>10&31,u[1]=this.language>>5&31,u[2]=31&this.language,this.languageString=String.fromCharCode(u[0]+96,u[1]+96,u[2]+96)},f.SAMPLE_ENTRY_TYPE_VISUAL="Visual",f.SAMPLE_ENTRY_TYPE_AUDIO="Audio",f.SAMPLE_ENTRY_TYPE_HINT="Hint",f.SAMPLE_ENTRY_TYPE_METADATA="Metadata",f.SAMPLE_ENTRY_TYPE_SUBTITLE="Subtitle",f.SAMPLE_ENTRY_TYPE_SYSTEM="System",f.SAMPLE_ENTRY_TYPE_TEXT="Text",f.SampleEntry.prototype.parseHeader=function(l){l.readUint8Array(6),this.data_reference_index=l.readUint16(),this.hdr_size+=8},f.SampleEntry.prototype.parse=function(l){this.parseHeader(l),this.data=l.readUint8Array(this.size-this.hdr_size)},f.SampleEntry.prototype.parseDataAndRewind=function(l){this.parseHeader(l),this.data=l.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,l.position-=this.size-this.hdr_size},f.SampleEntry.prototype.parseFooter=function(l){f.ContainerBox.prototype.parse.call(this,l)},f.createMediaSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_HINT),f.createMediaSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_METADATA),f.createMediaSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_SUBTITLE),f.createMediaSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_SYSTEM),f.createMediaSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_TEXT),f.createMediaSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_VISUAL,function(l){var u;this.parseHeader(l),l.readUint16(),l.readUint16(),l.readUint32Array(3),this.width=l.readUint16(),this.height=l.readUint16(),this.horizresolution=l.readUint32(),this.vertresolution=l.readUint32(),l.readUint32(),this.frame_count=l.readUint16(),u=Math.min(31,l.readUint8()),this.compressorname=l.readString(u),u<31&&l.readString(31-u),this.depth=l.readUint16(),l.readUint16(),this.parseFooter(l)}),f.createMediaSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_AUDIO,function(l){this.parseHeader(l),l.readUint32Array(2),this.channel_count=l.readUint16(),this.samplesize=l.readUint16(),l.readUint16(),l.readUint16(),this.samplerate=l.readUint32()/65536,this.parseFooter(l)}),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_VISUAL,"avc1"),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_VISUAL,"avc2"),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_VISUAL,"avc3"),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_VISUAL,"avc4"),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_VISUAL,"av01"),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_VISUAL,"hvc1"),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_VISUAL,"hev1"),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_VISUAL,"vvc1"),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_VISUAL,"vvi1"),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_VISUAL,"vvs1"),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_VISUAL,"vvcN"),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_VISUAL,"vp08"),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_VISUAL,"vp09"),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_AUDIO,"mp4a"),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_AUDIO,"ac-3"),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_AUDIO,"ec-3"),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_AUDIO,"Opus"),f.createEncryptedSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_VISUAL,"encv"),f.createEncryptedSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_AUDIO,"enca"),f.createEncryptedSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_SUBTITLE,"encu"),f.createEncryptedSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_SYSTEM,"encs"),f.createEncryptedSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_TEXT,"enct"),f.createEncryptedSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_METADATA,"encm"),f.createBoxCtor("a1lx",function(l){var h=16*(1+(1&l.readUint8()));this.layer_size=[];for(var m=0;m<3;m++)this.layer_size[m]=16==h?l.readUint16():l.readUint32()}),f.createBoxCtor("a1op",function(l){this.op_index=l.readUint8()}),f.createFullBoxCtor("auxC",function(l){this.aux_type=l.readCString(),this.aux_subtype=l.readUint8Array(this.size-this.hdr_size-(this.aux_type.length+1))}),f.createBoxCtor("av1C",function(l){var m=l.readUint8();if(m>>7&!1)D.error("av1C marker problem");else if(this.version=127&m,1===this.version)if(m=l.readUint8(),this.seq_profile=m>>5&7,this.seq_level_idx_0=31&m,m=l.readUint8(),this.seq_tier_0=m>>7&1,this.high_bitdepth=m>>6&1,this.twelve_bit=m>>5&1,this.monochrome=m>>4&1,this.chroma_subsampling_x=m>>3&1,this.chroma_subsampling_y=m>>2&1,this.chroma_sample_position=3&m,m=l.readUint8(),this.reserved_1=m>>5&7,0===this.reserved_1){if(this.initial_presentation_delay_present=m>>4&1,1===this.initial_presentation_delay_present)this.initial_presentation_delay_minus_one=15&m;else if(this.reserved_2=15&m,0!==this.reserved_2)return void D.error("av1C reserved_2 parsing problem");this.configOBUs=l.readUint8Array(this.size-this.hdr_size-4)}else D.error("av1C reserved_1 parsing problem");else D.error("av1C version "+this.version+" not supported")}),f.createBoxCtor("avcC",function(l){var u,h;for(this.configurationVersion=l.readUint8(),this.AVCProfileIndication=l.readUint8(),this.profile_compatibility=l.readUint8(),this.AVCLevelIndication=l.readUint8(),this.lengthSizeMinusOne=3&l.readUint8(),this.nb_SPS_nalus=31&l.readUint8(),h=this.size-this.hdr_size-6,this.SPS=[],u=0;u<this.nb_SPS_nalus;u++)this.SPS[u]={},this.SPS[u].length=l.readUint16(),this.SPS[u].nalu=l.readUint8Array(this.SPS[u].length),h-=2+this.SPS[u].length;for(this.nb_PPS_nalus=l.readUint8(),h--,this.PPS=[],u=0;u<this.nb_PPS_nalus;u++)this.PPS[u]={},this.PPS[u].length=l.readUint16(),this.PPS[u].nalu=l.readUint8Array(this.PPS[u].length),h-=2+this.PPS[u].length;h>0&&(this.ext=l.readUint8Array(h))}),f.createBoxCtor("btrt",function(l){this.bufferSizeDB=l.readUint32(),this.maxBitrate=l.readUint32(),this.avgBitrate=l.readUint32()}),f.createBoxCtor("clap",function(l){this.cleanApertureWidthN=l.readUint32(),this.cleanApertureWidthD=l.readUint32(),this.cleanApertureHeightN=l.readUint32(),this.cleanApertureHeightD=l.readUint32(),this.horizOffN=l.readUint32(),this.horizOffD=l.readUint32(),this.vertOffN=l.readUint32(),this.vertOffD=l.readUint32()}),f.createBoxCtor("clli",function(l){this.max_content_light_level=l.readUint16(),this.max_pic_average_light_level=l.readUint16()}),f.createFullBoxCtor("co64",function(l){var u,h;if(u=l.readUint32(),this.chunk_offsets=[],0===this.version)for(h=0;h<u;h++)this.chunk_offsets.push(l.readUint64())}),f.createFullBoxCtor("CoLL",function(l){this.maxCLL=l.readUint16(),this.maxFALL=l.readUint16()}),f.createBoxCtor("colr",function(l){if(this.colour_type=l.readString(4),"nclx"===this.colour_type){this.colour_primaries=l.readUint16(),this.transfer_characteristics=l.readUint16(),this.matrix_coefficients=l.readUint16();var u=l.readUint8();this.full_range_flag=u>>7}else("rICC"===this.colour_type||"prof"===this.colour_type)&&(this.ICC_profile=l.readUint8Array(this.size-4))}),f.createFullBoxCtor("cprt",function(l){this.parseLanguage(l),this.notice=l.readCString()}),f.createFullBoxCtor("cslg",function(l){0===this.version&&(this.compositionToDTSShift=l.readInt32(),this.leastDecodeToDisplayDelta=l.readInt32(),this.greatestDecodeToDisplayDelta=l.readInt32(),this.compositionStartTime=l.readInt32(),this.compositionEndTime=l.readInt32())}),f.createFullBoxCtor("ctts",function(l){var u,h;if(u=l.readUint32(),this.sample_counts=[],this.sample_offsets=[],0===this.version)for(h=0;h<u;h++){this.sample_counts.push(l.readUint32());var m=l.readInt32();m<0&&D.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(m)}else if(1==this.version)for(h=0;h<u;h++)this.sample_counts.push(l.readUint32()),this.sample_offsets.push(l.readInt32())}),f.createBoxCtor("dac3",function(l){var u=l.readUint8(),h=l.readUint8(),m=l.readUint8();this.fscod=u>>6,this.bsid=u>>1&31,this.bsmod=(1&u)<<2|h>>6&3,this.acmod=h>>3&7,this.lfeon=h>>2&1,this.bit_rate_code=3&h|m>>5&7}),f.createBoxCtor("dec3",function(l){var u=l.readUint16();this.data_rate=u>>3,this.num_ind_sub=7&u,this.ind_subs=[];for(var h=0;h<this.num_ind_sub+1;h++){var m={};this.ind_subs.push(m);var _=l.readUint8(),w=l.readUint8(),b=l.readUint8();m.fscod=_>>6,m.bsid=_>>1&31,m.bsmod=(1&_)<<4|w>>4&15,m.acmod=w>>1&7,m.lfeon=1&w,m.num_dep_sub=b>>1&15,m.num_dep_sub>0&&(m.chan_loc=(1&b)<<8|l.readUint8())}}),f.createFullBoxCtor("dfLa",function(l){var m=[],_=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];for(this.parseFullHeader(l);;){var w=l.readUint8(),b=Math.min(127&w,_.length-1);if(b?l.readUint8Array(l.readUint24()):(l.readUint8Array(13),this.samplerate=l.readUint32()>>12,l.readUint8Array(20)),m.push(_[b]),128&w)break}this.numMetadataBlocks=m.length+" ("+m.join(", ")+")"}),f.createBoxCtor("dimm",function(l){this.bytessent=l.readUint64()}),f.createBoxCtor("dmax",function(l){this.time=l.readUint32()}),f.createBoxCtor("dmed",function(l){this.bytessent=l.readUint64()}),f.createBoxCtor("dOps",function(l){if(this.Version=l.readUint8(),this.OutputChannelCount=l.readUint8(),this.PreSkip=l.readUint16(),this.InputSampleRate=l.readUint32(),this.OutputGain=l.readInt16(),this.ChannelMappingFamily=l.readUint8(),0!==this.ChannelMappingFamily){this.StreamCount=l.readUint8(),this.CoupledCount=l.readUint8(),this.ChannelMapping=[];for(var u=0;u<this.OutputChannelCount;u++)this.ChannelMapping[u]=l.readUint8()}}),f.createFullBoxCtor("dref",function(l){var u;this.entries=[];for(var m=l.readUint32(),_=0;_<m;_++){if((u=f.parseOneBox(l,!1,this.size-(l.getPosition()-this.start))).code!==f.OK)return;this.entries.push(u.box)}}),f.createBoxCtor("drep",function(l){this.bytessent=l.readUint64()}),f.createFullBoxCtor("elng",function(l){this.extended_language=l.readString(this.size-this.hdr_size)}),f.createFullBoxCtor("elst",function(l){this.entries=[];for(var u=l.readUint32(),h=0;h<u;h++){var m={};this.entries.push(m),1===this.version?(m.segment_duration=l.readUint64(),m.media_time=l.readInt64()):(m.segment_duration=l.readUint32(),m.media_time=l.readInt32()),m.media_rate_integer=l.readInt16(),m.media_rate_fraction=l.readInt16()}}),f.createFullBoxCtor("emsg",function(l){1==this.version?(this.timescale=l.readUint32(),this.presentation_time=l.readUint64(),this.event_duration=l.readUint32(),this.id=l.readUint32(),this.scheme_id_uri=l.readCString(),this.value=l.readCString()):(this.scheme_id_uri=l.readCString(),this.value=l.readCString(),this.timescale=l.readUint32(),this.presentation_time_delta=l.readUint32(),this.event_duration=l.readUint32(),this.id=l.readUint32());var u=this.size-this.hdr_size-(16+(this.scheme_id_uri.length+1)+(this.value.length+1));1==this.version&&(u-=4),this.message_data=l.readUint8Array(u)}),f.createFullBoxCtor("esds",function(l){var u=l.readUint8Array(this.size-this.hdr_size),h=new C;this.esd=h.parseOneDescriptor(new T(u.buffer,0,T.BIG_ENDIAN))}),f.createBoxCtor("fiel",function(l){this.fieldCount=l.readUint8(),this.fieldOrdering=l.readUint8()}),f.createBoxCtor("frma",function(l){this.data_format=l.readString(4)}),f.createBoxCtor("ftyp",function(l){var u=this.size-this.hdr_size;this.major_brand=l.readString(4),this.minor_version=l.readUint32(),u-=8,this.compatible_brands=[];for(var h=0;u>=4;)this.compatible_brands[h]=l.readString(4),u-=4,h++}),f.createFullBoxCtor("hdlr",function(l){0===this.version&&(l.readUint32(),this.handler=l.readString(4),l.readUint32Array(3),this.name=l.readString(this.size-this.hdr_size-20),"\0"===this.name[this.name.length-1]&&(this.name=this.name.slice(0,-1)))}),f.createBoxCtor("hvcC",function(l){var u,h,_,w;this.configurationVersion=l.readUint8(),w=l.readUint8(),this.general_profile_space=w>>6,this.general_tier_flag=(32&w)>>5,this.general_profile_idc=31&w,this.general_profile_compatibility=l.readUint32(),this.general_constraint_indicator=l.readUint8Array(6),this.general_level_idc=l.readUint8(),this.min_spatial_segmentation_idc=4095&l.readUint16(),this.parallelismType=3&l.readUint8(),this.chroma_format_idc=3&l.readUint8(),this.bit_depth_luma_minus8=7&l.readUint8(),this.bit_depth_chroma_minus8=7&l.readUint8(),this.avgFrameRate=l.readUint16(),w=l.readUint8(),this.constantFrameRate=w>>6,this.numTemporalLayers=(13&w)>>3,this.temporalIdNested=(4&w)>>2,this.lengthSizeMinusOne=3&w,this.nalu_arrays=[];var b=l.readUint8();for(u=0;u<b;u++){var M=[];this.nalu_arrays.push(M),w=l.readUint8(),M.completeness=(128&w)>>7,M.nalu_type=63&w;var P=l.readUint16();for(h=0;h<P;h++){var X={};M.push(X),_=l.readUint16(),X.data=l.readUint8Array(_)}}}),f.createFullBoxCtor("iinf",function(l){var u;this.entry_count=0===this.version?l.readUint16():l.readUint32(),this.item_infos=[];for(var h=0;h<this.entry_count;h++){if((u=f.parseOneBox(l,!1,this.size-(l.getPosition()-this.start))).code!==f.OK)return;"infe"!==u.box.type&&D.error("BoxParser","Expected 'infe' box, got "+u.box.type),this.item_infos[h]=u.box}}),f.createFullBoxCtor("iloc",function(l){var u;u=l.readUint8(),this.offset_size=u>>4&15,this.length_size=15&u,u=l.readUint8(),this.base_offset_size=u>>4&15,this.index_size=1===this.version||2===this.version?15&u:0,this.items=[];var h=0;if(this.version<2)h=l.readUint16();else{if(2!==this.version)throw"version of iloc box not supported";h=l.readUint32()}for(var m=0;m<h;m++){var _={};if(this.items.push(_),this.version<2)_.item_ID=l.readUint16();else{if(2!==this.version)throw"version of iloc box not supported";_.item_ID=l.readUint16()}switch(_.construction_method=1===this.version||2===this.version?15&l.readUint16():0,_.data_reference_index=l.readUint16(),this.base_offset_size){case 0:_.base_offset=0;break;case 4:_.base_offset=l.readUint32();break;case 8:_.base_offset=l.readUint64();break;default:throw"Error reading base offset size"}var w=l.readUint16();_.extents=[];for(var b=0;b<w;b++){var M={};if(_.extents.push(M),1===this.version||2===this.version)switch(this.index_size){case 0:M.extent_index=0;break;case 4:M.extent_index=l.readUint32();break;case 8:M.extent_index=l.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:M.extent_offset=0;break;case 4:M.extent_offset=l.readUint32();break;case 8:M.extent_offset=l.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:M.extent_length=0;break;case 4:M.extent_length=l.readUint32();break;case 8:M.extent_length=l.readUint64();break;default:throw"Error reading extent index"}}}}),f.createBoxCtor("imir",function(l){var u=l.readUint8();this.reserved=u>>7,this.axis=1&u}),f.createFullBoxCtor("infe",function(l){if((0===this.version||1===this.version)&&(this.item_ID=l.readUint16(),this.item_protection_index=l.readUint16(),this.item_name=l.readCString(),this.content_type=l.readCString(),this.content_encoding=l.readCString()),1===this.version)return this.extension_type=l.readString(4),D.warn("BoxParser","Cannot parse extension type"),void l.seek(this.start+this.size);this.version>=2&&(2===this.version?this.item_ID=l.readUint16():3===this.version&&(this.item_ID=l.readUint32()),this.item_protection_index=l.readUint16(),this.item_type=l.readString(4),this.item_name=l.readCString(),"mime"===this.item_type?(this.content_type=l.readCString(),this.content_encoding=l.readCString()):"uri "===this.item_type&&(this.item_uri_type=l.readCString()))}),f.createFullBoxCtor("ipma",function(l){var u,h;for(entry_count=l.readUint32(),this.associations=[],u=0;u<entry_count;u++){var m={};this.associations.push(m),m.id=this.version<1?l.readUint16():l.readUint32();var _=l.readUint8();for(m.props=[],h=0;h<_;h++){var w=l.readUint8(),b={};m.props.push(b),b.essential=(128&w)>>7==1,b.property_index=1&this.flags?(127&w)<<8|l.readUint8():127&w}}}),f.createFullBoxCtor("iref",function(l){var u,m;for(this.references=[];l.getPosition()<this.start+this.size;){if((u=f.parseOneBox(l,!0,this.size-(l.getPosition()-this.start))).code!==f.OK)return;(m=0===this.version?new f.SingleItemTypeReferenceBox(u.type,u.size,u.hdr_size,u.start):new f.SingleItemTypeReferenceBoxLarge(u.type,u.size,u.hdr_size,u.start)).write===f.Box.prototype.write&&"mdat"!==m.type&&(D.warn("BoxParser",m.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),m.parseDataAndRewind(l)),m.parse(l),this.references.push(m)}}),f.createBoxCtor("irot",function(l){this.angle=3&l.readUint8()}),f.createFullBoxCtor("ispe",function(l){this.image_width=l.readUint32(),this.image_height=l.readUint32()}),f.createFullBoxCtor("kind",function(l){this.schemeURI=l.readCString(),this.value=l.readCString()}),f.createFullBoxCtor("leva",function(l){var u=l.readUint8();this.levels=[];for(var h=0;h<u;h++){var m={};this.levels[h]=m,m.track_ID=l.readUint32();var _=l.readUint8();switch(m.padding_flag=_>>7,m.assignment_type=127&_,m.assignment_type){case 0:m.grouping_type=l.readString(4);break;case 1:m.grouping_type=l.readString(4),m.grouping_type_parameter=l.readUint32();break;case 2:case 3:break;case 4:m.sub_track_id=l.readUint32();break;default:D.warn("BoxParser","Unknown leva assignement type")}}}),f.createBoxCtor("lsel",function(l){this.layer_id=l.readUint16()}),f.createBoxCtor("maxr",function(l){this.period=l.readUint32(),this.bytes=l.readUint32()}),f.createBoxCtor("mdcv",function(l){this.display_primaries=[],this.display_primaries[0]={},this.display_primaries[0].x=l.readUint16(),this.display_primaries[0].y=l.readUint16(),this.display_primaries[1]={},this.display_primaries[1].x=l.readUint16(),this.display_primaries[1].y=l.readUint16(),this.display_primaries[2]={},this.display_primaries[2].x=l.readUint16(),this.display_primaries[2].y=l.readUint16(),this.white_point={},this.white_point.x=l.readUint16(),this.white_point.y=l.readUint16(),this.max_display_mastering_luminance=l.readUint32(),this.min_display_mastering_luminance=l.readUint32()}),f.createFullBoxCtor("mdhd",function(l){1==this.version?(this.creation_time=l.readUint64(),this.modification_time=l.readUint64(),this.timescale=l.readUint32(),this.duration=l.readUint64()):(this.creation_time=l.readUint32(),this.modification_time=l.readUint32(),this.timescale=l.readUint32(),this.duration=l.readUint32()),this.parseLanguage(l),l.readUint16()}),f.createFullBoxCtor("mehd",function(l){1&this.flags&&(D.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),this.fragment_duration=1==this.version?l.readUint64():l.readUint32()}),f.createFullBoxCtor("meta",function(l){this.boxes=[],f.ContainerBox.prototype.parse.call(this,l)}),f.createFullBoxCtor("mfhd",function(l){this.sequence_number=l.readUint32()}),f.createFullBoxCtor("mfro",function(l){this._size=l.readUint32()}),f.createFullBoxCtor("mvhd",function(l){1==this.version?(this.creation_time=l.readUint64(),this.modification_time=l.readUint64(),this.timescale=l.readUint32(),this.duration=l.readUint64()):(this.creation_time=l.readUint32(),this.modification_time=l.readUint32(),this.timescale=l.readUint32(),this.duration=l.readUint32()),this.rate=l.readUint32(),this.volume=l.readUint16()>>8,l.readUint16(),l.readUint32Array(2),this.matrix=l.readUint32Array(9),l.readUint32Array(6),this.next_track_id=l.readUint32()}),f.createBoxCtor("npck",function(l){this.packetssent=l.readUint32()}),f.createBoxCtor("nump",function(l){this.packetssent=l.readUint64()}),f.createFullBoxCtor("padb",function(l){var u=l.readUint32();this.padbits=[];for(var h=0;h<Math.floor((u+1)/2);h++)this.padbits=l.readUint8()}),f.createBoxCtor("pasp",function(l){this.hSpacing=l.readUint32(),this.vSpacing=l.readUint32()}),f.createBoxCtor("payl",function(l){this.text=l.readString(this.size-this.hdr_size)}),f.createBoxCtor("payt",function(l){this.payloadID=l.readUint32();var u=l.readUint8();this.rtpmap_string=l.readString(u)}),f.createFullBoxCtor("pdin",function(l){var u=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var h=0;h<u;h++)this.rate[h]=l.readUint32(),this.initial_delay[h]=l.readUint32()}),f.createFullBoxCtor("pitm",function(l){this.item_id=0===this.version?l.readUint16():l.readUint32()}),f.createFullBoxCtor("pixi",function(l){var u;for(this.num_channels=l.readUint8(),this.bits_per_channels=[],u=0;u<this.num_channels;u++)this.bits_per_channels[u]=l.readUint8()}),f.createBoxCtor("pmax",function(l){this.bytes=l.readUint32()}),f.createFullBoxCtor("prft",function(l){this.ref_track_id=l.readUint32(),this.ntp_timestamp=l.readUint64(),this.media_time=0===this.version?l.readUint32():l.readUint64()}),f.createFullBoxCtor("pssh",function(l){if(this.system_id=f.parseHex16(l),this.version>0){var u=l.readUint32();this.kid=[];for(var h=0;h<u;h++)this.kid[h]=f.parseHex16(l)}var m=l.readUint32();m>0&&(this.data=l.readUint8Array(m))}),f.createFullBoxCtor("clef",function(l){this.width=l.readUint32(),this.height=l.readUint32()}),f.createFullBoxCtor("enof",function(l){this.width=l.readUint32(),this.height=l.readUint32()}),f.createFullBoxCtor("prof",function(l){this.width=l.readUint32(),this.height=l.readUint32()}),f.createContainerBoxCtor("tapt",null,["clef","prof","enof"]),f.createBoxCtor("rtp ",function(l){this.descriptionformat=l.readString(4),this.sdptext=l.readString(this.size-this.hdr_size-4)}),f.createFullBoxCtor("saio",function(l){1&this.flags&&(this.aux_info_type=l.readUint32(),this.aux_info_type_parameter=l.readUint32());var u=l.readUint32();this.offset=[];for(var h=0;h<u;h++)this.offset[h]=0===this.version?l.readUint32():l.readUint64()}),f.createFullBoxCtor("saiz",function(l){1&this.flags&&(this.aux_info_type=l.readUint32(),this.aux_info_type_parameter=l.readUint32()),this.default_sample_info_size=l.readUint8();var u=l.readUint32();if(this.sample_info_size=[],0===this.default_sample_info_size)for(var h=0;h<u;h++)this.sample_info_size[h]=l.readUint8()}),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_METADATA,"mett",function(l){this.parseHeader(l),this.content_encoding=l.readCString(),this.mime_format=l.readCString(),this.parseFooter(l)}),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_METADATA,"metx",function(l){this.parseHeader(l),this.content_encoding=l.readCString(),this.namespace=l.readCString(),this.schema_location=l.readCString(),this.parseFooter(l)}),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_SUBTITLE,"sbtt",function(l){this.parseHeader(l),this.content_encoding=l.readCString(),this.mime_format=l.readCString(),this.parseFooter(l)}),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_SUBTITLE,"stpp",function(l){this.parseHeader(l),this.namespace=l.readCString(),this.schema_location=l.readCString(),this.auxiliary_mime_types=l.readCString(),this.parseFooter(l)}),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",function(l){this.parseHeader(l),this.content_encoding=l.readCString(),this.mime_format=l.readCString(),this.parseFooter(l)}),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_SUBTITLE,"tx3g",function(l){this.parseHeader(l),this.displayFlags=l.readUint32(),this.horizontal_justification=l.readInt8(),this.vertical_justification=l.readInt8(),this.bg_color_rgba=l.readUint8Array(4),this.box_record=l.readInt16Array(4),this.style_record=l.readUint8Array(12),this.parseFooter(l)}),f.createSampleEntryCtor(f.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",function(l){this.parseHeader(l),this.parseFooter(l)}),f.createSampleGroupCtor("alst",function(l){var u,h=l.readUint16();for(this.first_output_sample=l.readUint16(),this.sample_offset=[],u=0;u<h;u++)this.sample_offset[u]=l.readUint32();var m=this.description_length-4-4*h;for(this.num_output_samples=[],this.num_total_samples=[],u=0;u<m/4;u++)this.num_output_samples[u]=l.readUint16(),this.num_total_samples[u]=l.readUint16()}),f.createSampleGroupCtor("avll",function(l){this.layerNumber=l.readUint8(),this.accurateStatisticsFlag=l.readUint8(),this.avgBitRate=l.readUint16(),this.avgFrameRate=l.readUint16()}),f.createSampleGroupCtor("avss",function(l){this.subSequenceIdentifier=l.readUint16(),this.layerNumber=l.readUint8();var u=l.readUint8();this.durationFlag=u>>7,this.avgRateFlag=u>>6&1,this.durationFlag&&(this.duration=l.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=l.readUint8(),this.avgBitRate=l.readUint16(),this.avgFrameRate=l.readUint16()),this.dependency=[];for(var h=l.readUint8(),m=0;m<h;m++){var _={};this.dependency.push(_),_.subSeqDirectionFlag=l.readUint8(),_.layerNumber=l.readUint8(),_.subSequenceIdentifier=l.readUint16()}}),f.createSampleGroupCtor("dtrt",function(l){D.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),f.createSampleGroupCtor("mvif",function(l){D.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),f.createSampleGroupCtor("prol",function(l){this.roll_distance=l.readInt16()}),f.createSampleGroupCtor("rap ",function(l){var u=l.readUint8();this.num_leading_samples_known=u>>7,this.num_leading_samples=127&u}),f.createSampleGroupCtor("rash",function(l){if(this.operation_point_count=l.readUint16(),this.description_length!==2+(1===this.operation_point_count?2:6*this.operation_point_count)+9)D.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=l.readUint8Array(this.description_length-2);else{if(1===this.operation_point_count)this.target_rate_share=l.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var u=0;u<this.operation_point_count;u++)this.available_bitrate[u]=l.readUint32(),this.target_rate_share[u]=l.readUint16()}this.maximum_bitrate=l.readUint32(),this.minimum_bitrate=l.readUint32(),this.discard_priority=l.readUint8()}}),f.createSampleGroupCtor("roll",function(l){this.roll_distance=l.readInt16()}),f.SampleGroupEntry.prototype.parse=function(l){D.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=l.readUint8Array(this.description_length)},f.createSampleGroupCtor("scif",function(l){D.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),f.createSampleGroupCtor("scnm",function(l){D.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),f.createSampleGroupCtor("seig",function(l){this.reserved=l.readUint8();var u=l.readUint8();this.crypt_byte_block=u>>4,this.skip_byte_block=15&u,this.isProtected=l.readUint8(),this.Per_Sample_IV_Size=l.readUint8(),this.KID=f.parseHex16(l),this.constant_IV_size=0,this.constant_IV=0,1===this.isProtected&&0===this.Per_Sample_IV_Size&&(this.constant_IV_size=l.readUint8(),this.constant_IV=l.readUint8Array(this.constant_IV_size))}),f.createSampleGroupCtor("stsa",function(l){D.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),f.createSampleGroupCtor("sync",function(l){var u=l.readUint8();this.NAL_unit_type=63&u}),f.createSampleGroupCtor("tele",function(l){var u=l.readUint8();this.level_independently_decodable=u>>7}),f.createSampleGroupCtor("tsas",function(l){D.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),f.createSampleGroupCtor("tscl",function(l){D.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),f.createSampleGroupCtor("vipr",function(l){D.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),f.createFullBoxCtor("sbgp",function(l){this.grouping_type=l.readString(4),this.grouping_type_parameter=1===this.version?l.readUint32():0,this.entries=[];for(var u=l.readUint32(),h=0;h<u;h++){var m={};this.entries.push(m),m.sample_count=l.readInt32(),m.group_description_index=l.readInt32()}}),f.createFullBoxCtor("schm",function(l){this.scheme_type=l.readString(4),this.scheme_version=l.readUint32(),1&this.flags&&(this.scheme_uri=l.readString(this.size-this.hdr_size-8))}),f.createBoxCtor("sdp ",function(l){this.sdptext=l.readString(this.size-this.hdr_size)}),f.createFullBoxCtor("sdtp",function(l){var u,h=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var m=0;m<h;m++)u=l.readUint8(),this.is_leading[m]=u>>6,this.sample_depends_on[m]=u>>4&3,this.sample_is_depended_on[m]=u>>2&3,this.sample_has_redundancy[m]=3&u}),f.createFullBoxCtor("senc"),f.createFullBoxCtor("sgpd",function(l){this.grouping_type=l.readString(4),D.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),this.default_length=1===this.version?l.readUint32():0,this.version>=2&&(this.default_group_description_index=l.readUint32()),this.entries=[];for(var u=l.readUint32(),h=0;h<u;h++){var m;m=f[this.grouping_type+"SampleGroupEntry"]?new f[this.grouping_type+"SampleGroupEntry"](this.grouping_type):new f.SampleGroupEntry(this.grouping_type),this.entries.push(m),m.description_length=1===this.version&&0===this.default_length?l.readUint32():this.default_length,m.write===f.SampleGroupEntry.prototype.write&&(D.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),m.data=l.readUint8Array(m.description_length),l.position-=m.description_length),m.parse(l)}}),f.createFullBoxCtor("sidx",function(l){this.reference_ID=l.readUint32(),this.timescale=l.readUint32(),0===this.version?(this.earliest_presentation_time=l.readUint32(),this.first_offset=l.readUint32()):(this.earliest_presentation_time=l.readUint64(),this.first_offset=l.readUint64()),l.readUint16(),this.references=[];for(var u=l.readUint16(),h=0;h<u;h++){var m={};this.references.push(m);var _=l.readUint32();m.reference_type=_>>31&1,m.referenced_size=2147483647&_,m.subsegment_duration=l.readUint32(),_=l.readUint32(),m.starts_with_SAP=_>>31&1,m.SAP_type=_>>28&7,m.SAP_delta_time=268435455&_}}),f.SingleItemTypeReferenceBox=function(l,u,h,m){f.Box.call(this,l,u),this.hdr_size=h,this.start=m},f.SingleItemTypeReferenceBox.prototype=new f.Box,f.SingleItemTypeReferenceBox.prototype.parse=function(l){this.from_item_ID=l.readUint16();var u=l.readUint16();this.references=[];for(var h=0;h<u;h++)this.references[h]=l.readUint16()},f.SingleItemTypeReferenceBoxLarge=function(l,u,h,m){f.Box.call(this,l,u),this.hdr_size=h,this.start=m},f.SingleItemTypeReferenceBoxLarge.prototype=new f.Box,f.SingleItemTypeReferenceBoxLarge.prototype.parse=function(l){this.from_item_ID=l.readUint32();var u=l.readUint16();this.references=[];for(var h=0;h<u;h++)this.references[h]=l.readUint32()},f.createFullBoxCtor("SmDm",function(l){this.primaryRChromaticity_x=l.readUint16(),this.primaryRChromaticity_y=l.readUint16(),this.primaryGChromaticity_x=l.readUint16(),this.primaryGChromaticity_y=l.readUint16(),this.primaryBChromaticity_x=l.readUint16(),this.primaryBChromaticity_y=l.readUint16(),this.whitePointChromaticity_x=l.readUint16(),this.whitePointChromaticity_y=l.readUint16(),this.luminanceMax=l.readUint32(),this.luminanceMin=l.readUint32()}),f.createFullBoxCtor("smhd",function(l){this.balance=l.readUint16(),l.readUint16()}),f.createFullBoxCtor("ssix",function(l){this.subsegments=[];for(var u=l.readUint32(),h=0;h<u;h++){var m={};this.subsegments.push(m),m.ranges=[];for(var _=l.readUint32(),w=0;w<_;w++){var b={};m.ranges.push(b),b.level=l.readUint8(),b.range_size=l.readUint24()}}}),f.createFullBoxCtor("stco",function(l){var u;if(u=l.readUint32(),this.chunk_offsets=[],0===this.version)for(var h=0;h<u;h++)this.chunk_offsets.push(l.readUint32())}),f.createFullBoxCtor("stdp",function(l){var u=(this.size-this.hdr_size)/2;this.priority=[];for(var h=0;h<u;h++)this.priority[h]=l.readUint16()}),f.createFullBoxCtor("sthd"),f.createFullBoxCtor("stri",function(l){this.switch_group=l.readUint16(),this.alternate_group=l.readUint16(),this.sub_track_id=l.readUint32();var u=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var h=0;h<u;h++)this.attribute_list[h]=l.readUint32()}),f.createFullBoxCtor("stsc",function(l){var u,h;if(u=l.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],0===this.version)for(h=0;h<u;h++)this.first_chunk.push(l.readUint32()),this.samples_per_chunk.push(l.readUint32()),this.sample_description_index.push(l.readUint32())}),f.createFullBoxCtor("stsd",function(l){var u,h,m,_;for(this.entries=[],m=l.readUint32(),u=1;u<=m;u++){if((h=f.parseOneBox(l,!0,this.size-(l.getPosition()-this.start))).code!==f.OK)return;f[h.type+"SampleEntry"]?((_=new f[h.type+"SampleEntry"](h.size)).hdr_size=h.hdr_size,_.start=h.start):(D.warn("BoxParser","Unknown sample entry type: "+h.type),_=new f.SampleEntry(h.type,h.size,h.hdr_size,h.start)),_.write===f.SampleEntry.prototype.write&&(D.info("BoxParser","SampleEntry "+_.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),_.parseDataAndRewind(l)),_.parse(l),this.entries.push(_)}}),f.createFullBoxCtor("stsg",function(l){this.grouping_type=l.readUint32();var u=l.readUint16();this.group_description_index=[];for(var h=0;h<u;h++)this.group_description_index[h]=l.readUint32()}),f.createFullBoxCtor("stsh",function(l){var u,h;if(u=l.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],0===this.version)for(h=0;h<u;h++)this.shadowed_sample_numbers.push(l.readUint32()),this.sync_sample_numbers.push(l.readUint32())}),f.createFullBoxCtor("stss",function(l){var u,h;if(h=l.readUint32(),0===this.version)for(this.sample_numbers=[],u=0;u<h;u++)this.sample_numbers.push(l.readUint32())}),f.createFullBoxCtor("stsz",function(l){var u;if(this.sample_sizes=[],0===this.version)for(this.sample_size=l.readUint32(),this.sample_count=l.readUint32(),u=0;u<this.sample_count;u++)0===this.sample_size?this.sample_sizes.push(l.readUint32()):this.sample_sizes[u]=this.sample_size}),f.createFullBoxCtor("stts",function(l){var u,h,m;if(u=l.readUint32(),this.sample_counts=[],this.sample_deltas=[],0===this.version)for(h=0;h<u;h++)this.sample_counts.push(l.readUint32()),(m=l.readInt32())<0&&(D.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),m=1),this.sample_deltas.push(m)}),f.createFullBoxCtor("stvi",function(l){var u=l.readUint32();this.single_view_allowed=3&u,this.stereo_scheme=l.readUint32();var m,_,h=l.readUint32();for(this.stereo_indication_type=l.readString(h),this.boxes=[];l.getPosition()<this.start+this.size;){if((m=f.parseOneBox(l,!1,this.size-(l.getPosition()-this.start))).code!==f.OK)return;this.boxes.push(_=m.box),this[_.type]=_}}),f.createBoxCtor("styp",function(l){f.ftypBox.prototype.parse.call(this,l)}),f.createFullBoxCtor("stz2",function(l){var u,m;if(this.sample_sizes=[],0===this.version)if(this.reserved=l.readUint24(),this.field_size=l.readUint8(),m=l.readUint32(),4===this.field_size)for(u=0;u<m;u+=2){var _=l.readUint8();this.sample_sizes[u]=_>>4&15,this.sample_sizes[u+1]=15&_}else if(8===this.field_size)for(u=0;u<m;u++)this.sample_sizes[u]=l.readUint8();else if(16===this.field_size)for(u=0;u<m;u++)this.sample_sizes[u]=l.readUint16();else D.error("BoxParser","Error in length field in stz2 box")}),f.createFullBoxCtor("subs",function(l){var u,h,m,_;for(m=l.readUint32(),this.entries=[],u=0;u<m;u++){var w={};if(this.entries[u]=w,w.sample_delta=l.readUint32(),w.subsamples=[],(_=l.readUint16())>0)for(h=0;h<_;h++){var b={};w.subsamples.push(b),b.size=1==this.version?l.readUint32():l.readUint16(),b.priority=l.readUint8(),b.discardable=l.readUint8(),b.codec_specific_parameters=l.readUint32()}}}),f.createFullBoxCtor("tenc",function(l){if(l.readUint8(),0===this.version)l.readUint8();else{var u=l.readUint8();this.default_crypt_byte_block=u>>4&15,this.default_skip_byte_block=15&u}this.default_isProtected=l.readUint8(),this.default_Per_Sample_IV_Size=l.readUint8(),this.default_KID=f.parseHex16(l),1===this.default_isProtected&&0===this.default_Per_Sample_IV_Size&&(this.default_constant_IV_size=l.readUint8(),this.default_constant_IV=l.readUint8Array(this.default_constant_IV_size))}),f.createFullBoxCtor("tfdt",function(l){this.baseMediaDecodeTime=1==this.version?l.readUint64():l.readUint32()}),f.createFullBoxCtor("tfhd",function(l){var u=0;this.track_id=l.readUint32(),this.size-this.hdr_size>u&&this.flags&f.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=l.readUint64(),u+=8):this.base_data_offset=0,this.size-this.hdr_size>u&&this.flags&f.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=l.readUint32(),u+=4):this.default_sample_description_index=0,this.size-this.hdr_size>u&&this.flags&f.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=l.readUint32(),u+=4):this.default_sample_duration=0,this.size-this.hdr_size>u&&this.flags&f.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=l.readUint32(),u+=4):this.default_sample_size=0,this.size-this.hdr_size>u&&this.flags&f.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=l.readUint32(),u+=4):this.default_sample_flags=0}),f.createFullBoxCtor("tfra",function(l){this.track_ID=l.readUint32(),l.readUint24();var u=l.readUint8();this.length_size_of_traf_num=u>>4&3,this.length_size_of_trun_num=u>>2&3,this.length_size_of_sample_num=3&u,this.entries=[];for(var h=l.readUint32(),m=0;m<h;m++)1===this.version?(this.time=l.readUint64(),this.moof_offset=l.readUint64()):(this.time=l.readUint32(),this.moof_offset=l.readUint32()),this.traf_number=l["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=l["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=l["readUint"+8*(this.length_size_of_sample_num+1)]()}),f.createFullBoxCtor("tkhd",function(l){1==this.version?(this.creation_time=l.readUint64(),this.modification_time=l.readUint64(),this.track_id=l.readUint32(),l.readUint32(),this.duration=l.readUint64()):(this.creation_time=l.readUint32(),this.modification_time=l.readUint32(),this.track_id=l.readUint32(),l.readUint32(),this.duration=l.readUint32()),l.readUint32Array(2),this.layer=l.readInt16(),this.alternate_group=l.readInt16(),this.volume=l.readInt16()>>8,l.readUint16(),this.matrix=l.readInt32Array(9),this.width=l.readUint32(),this.height=l.readUint32()}),f.createBoxCtor("tmax",function(l){this.time=l.readUint32()}),f.createBoxCtor("tmin",function(l){this.time=l.readUint32()}),f.createBoxCtor("totl",function(l){this.bytessent=l.readUint32()}),f.createBoxCtor("tpay",function(l){this.bytessent=l.readUint32()}),f.createBoxCtor("tpyl",function(l){this.bytessent=l.readUint64()}),f.TrackGroupTypeBox.prototype.parse=function(l){this.parseFullHeader(l),this.track_group_id=l.readUint32()},f.createTrackGroupCtor("msrc"),f.TrackReferenceTypeBox=function(l,u,h,m){f.Box.call(this,l,u),this.hdr_size=h,this.start=m},f.TrackReferenceTypeBox.prototype=new f.Box,f.TrackReferenceTypeBox.prototype.parse=function(l){this.track_ids=l.readUint32Array((this.size-this.hdr_size)/4)},f.trefBox.prototype.parse=function(l){for(var u,h;l.getPosition()<this.start+this.size;){if((u=f.parseOneBox(l,!0,this.size-(l.getPosition()-this.start))).code!==f.OK)return;(h=new f.TrackReferenceTypeBox(u.type,u.size,u.hdr_size,u.start)).write===f.Box.prototype.write&&"mdat"!==h.type&&(D.info("BoxParser","TrackReference "+h.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),h.parseDataAndRewind(l)),h.parse(l),this.boxes.push(h)}},f.createFullBoxCtor("trep",function(l){for(this.track_ID=l.readUint32(),this.boxes=[];l.getPosition()<this.start+this.size;){if(ret=f.parseOneBox(l,!1,this.size-(l.getPosition()-this.start)),ret.code!==f.OK)return;box=ret.box,this.boxes.push(box)}}),f.createFullBoxCtor("trex",function(l){this.track_id=l.readUint32(),this.default_sample_description_index=l.readUint32(),this.default_sample_duration=l.readUint32(),this.default_sample_size=l.readUint32(),this.default_sample_flags=l.readUint32()}),f.createBoxCtor("trpy",function(l){this.bytessent=l.readUint64()}),f.createFullBoxCtor("trun",function(l){var u=0;if(this.sample_count=l.readUint32(),this.size-this.hdr_size>(u+=4)&&this.flags&f.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=l.readInt32(),u+=4):this.data_offset=0,this.size-this.hdr_size>u&&this.flags&f.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=l.readUint32(),u+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>u)for(var h=0;h<this.sample_count;h++)this.flags&f.TRUN_FLAGS_DURATION&&(this.sample_duration[h]=l.readUint32()),this.flags&f.TRUN_FLAGS_SIZE&&(this.sample_size[h]=l.readUint32()),this.flags&f.TRUN_FLAGS_FLAGS&&(this.sample_flags[h]=l.readUint32()),this.flags&f.TRUN_FLAGS_CTS_OFFSET&&(this.sample_composition_time_offset[h]=0===this.version?l.readUint32():l.readInt32())}),f.createFullBoxCtor("tsel",function(l){this.switch_group=l.readUint32();var u=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var h=0;h<u;h++)this.attribute_list[h]=l.readUint32()}),f.createFullBoxCtor("txtC",function(l){this.config=l.readCString()}),f.createFullBoxCtor("url ",function(l){1!==this.flags&&(this.location=l.readCString())}),f.createFullBoxCtor("urn ",function(l){this.name=l.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=l.readCString())}),f.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66",!0,!1,function(l){this.LiveServerManifest=l.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}),f.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3",!0,!1,function(l){this.system_id=f.parseHex16(l);var u=l.readUint32();u>0&&(this.data=l.readUint8Array(u))}),f.createUUIDBox("a2394f525a9b4f14a2446c427c648df4",!0,!1),f.createUUIDBox("8974dbce7be74c5184f97148f9882554",!0,!1,function(l){this.default_AlgorithmID=l.readUint24(),this.default_IV_size=l.readUint8(),this.default_KID=f.parseHex16(l)}),f.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f",!0,!1,function(l){this.fragment_count=l.readUint8(),this.entries=[];for(var u=0;u<this.fragment_count;u++){var h={},m=0,_=0;1===this.version?(m=l.readUint64(),_=l.readUint64()):(m=l.readUint32(),_=l.readUint32()),h.absolute_time=m,h.absolute_duration=_,this.entries.push(h)}}),f.createUUIDBox("6d1d9b0542d544e680e2141daff757b2",!0,!1,function(l){1===this.version?(this.absolute_time=l.readUint64(),this.duration=l.readUint64()):(this.absolute_time=l.readUint32(),this.duration=l.readUint32())}),f.createFullBoxCtor("vmhd",function(l){this.graphicsmode=l.readUint16(),this.opcolor=l.readUint16Array(3)}),f.createFullBoxCtor("vpcC",function(l){var u;1===this.version?(this.profile=l.readUint8(),this.level=l.readUint8(),u=l.readUint8(),this.bitDepth=u>>4,this.chromaSubsampling=u>>1&7,this.videoFullRangeFlag=1&u,this.colourPrimaries=l.readUint8(),this.transferCharacteristics=l.readUint8(),this.matrixCoefficients=l.readUint8(),this.codecIntializationDataSize=l.readUint16(),this.codecIntializationData=l.readUint8Array(this.codecIntializationDataSize)):(this.profile=l.readUint8(),this.level=l.readUint8(),u=l.readUint8(),this.bitDepth=u>>4&15,this.colorSpace=15&u,u=l.readUint8(),this.chromaSubsampling=u>>4&15,this.transferFunction=u>>1&7,this.videoFullRangeFlag=1&u,this.codecIntializationDataSize=l.readUint16(),this.codecIntializationData=l.readUint8Array(this.codecIntializationDataSize))}),f.createBoxCtor("vttC",function(l){this.text=l.readString(this.size-this.hdr_size)}),f.createFullBoxCtor("vvcC",function(l){var u,h,m={held_bits:void 0,num_held_bits:0,stream_read_1_bytes:function(ge){this.held_bits=ge.readUint8(),this.num_held_bits=8},stream_read_2_bytes:function(ge){this.held_bits=ge.readUint16(),this.num_held_bits=16},extract_bits:function(ge){var Me=this.held_bits>>this.num_held_bits-ge&(1<<ge)-1;return this.num_held_bits-=ge,Me}};if(m.stream_read_1_bytes(l),m.extract_bits(5),this.lengthSizeMinusOne=m.extract_bits(2),this.ptl_present_flag=m.extract_bits(1),this.ptl_present_flag){if(m.stream_read_2_bytes(l),this.ols_idx=m.extract_bits(9),this.num_sublayers=m.extract_bits(3),this.constant_frame_rate=m.extract_bits(2),this.chroma_format_idc=m.extract_bits(2),m.stream_read_1_bytes(l),this.bit_depth_minus8=m.extract_bits(3),m.extract_bits(5),m.stream_read_2_bytes(l),m.extract_bits(2),this.num_bytes_constraint_info=m.extract_bits(6),this.general_profile_idc=m.extract_bits(7),this.general_tier_flag=m.extract_bits(1),this.general_level_idc=l.readUint8(),m.stream_read_1_bytes(l),this.ptl_frame_only_constraint_flag=m.extract_bits(1),this.ptl_multilayer_enabled_flag=m.extract_bits(1),this.general_constraint_info=new Uint8Array(this.num_bytes_constraint_info),this.num_bytes_constraint_info){for(u=0;u<this.num_bytes_constraint_info-1;u++){var _=m.extract_bits(6);m.stream_read_1_bytes(l);var w=m.extract_bits(2);this.general_constraint_info[u]=_<<2|w}this.general_constraint_info[this.num_bytes_constraint_info-1]=m.extract_bits(6)}else m.extract_bits(6);for(m.stream_read_1_bytes(l),this.ptl_sublayer_present_mask=0,h=this.num_sublayers-2;h>=0;--h){var b=m.extract_bits(1);this.ptl_sublayer_present_mask|=b<<h}for(h=this.num_sublayers;h<=8&&this.num_sublayers>1;++h)m.extract_bits(1);for(h=this.num_sublayers-2;h>=0;--h)this.ptl_sublayer_present_mask&1<<h&&(this.sublayer_level_idc[h]=l.readUint8());if(this.ptl_num_sub_profiles=l.readUint8(),this.general_sub_profile_idc=[],this.ptl_num_sub_profiles)for(u=0;u<this.ptl_num_sub_profiles;u++)this.general_sub_profile_idc.push(l.readUint32());this.max_picture_width=l.readUint16(),this.max_picture_height=l.readUint16(),this.avg_frame_rate=l.readUint16()}this.nalu_arrays=[];var X=l.readUint8();for(u=0;u<X;u++){var ie=[];this.nalu_arrays.push(ie),m.stream_read_1_bytes(l),ie.completeness=m.extract_bits(1),m.extract_bits(2),ie.nalu_type=m.extract_bits(5);var he=1;for(13!=ie.nalu_type&&12!=ie.nalu_type&&(he=l.readUint16()),h=0;h<he;h++){var ye=l.readUint16();ie.push({data:l.readUint8Array(ye),length:ye})}}}),f.createFullBoxCtor("vvnC",function(l){var u=strm.readUint8();this.lengthSizeMinusOne=3&u}),f.SampleEntry.prototype.isVideo=function(){return!1},f.SampleEntry.prototype.isAudio=function(){return!1},f.SampleEntry.prototype.isSubtitle=function(){return!1},f.SampleEntry.prototype.isMetadata=function(){return!1},f.SampleEntry.prototype.isHint=function(){return!1},f.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")},f.SampleEntry.prototype.getWidth=function(){return""},f.SampleEntry.prototype.getHeight=function(){return""},f.SampleEntry.prototype.getChannelCount=function(){return""},f.SampleEntry.prototype.getSampleRate=function(){return""},f.SampleEntry.prototype.getSampleSize=function(){return""},f.VisualSampleEntry.prototype.isVideo=function(){return!0},f.VisualSampleEntry.prototype.getWidth=function(){return this.width},f.VisualSampleEntry.prototype.getHeight=function(){return this.height},f.AudioSampleEntry.prototype.isAudio=function(){return!0},f.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count},f.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate},f.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize},f.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0},f.MetadataSampleEntry.prototype.isMetadata=function(){return!0},f.decimalToHex=function(l,u){var h=Number(l).toString(16);for(u=typeof u>"u"||null===u?u=2:u;h.length<u;)h="0"+h;return h},f.avc1SampleEntry.prototype.getCodec=f.avc2SampleEntry.prototype.getCodec=f.avc3SampleEntry.prototype.getCodec=f.avc4SampleEntry.prototype.getCodec=function(){var l=f.SampleEntry.prototype.getCodec.call(this);return this.avcC?l+"."+f.decimalToHex(this.avcC.AVCProfileIndication)+f.decimalToHex(this.avcC.profile_compatibility)+f.decimalToHex(this.avcC.AVCLevelIndication):l},f.hev1SampleEntry.prototype.getCodec=f.hvc1SampleEntry.prototype.getCodec=function(){var l,u=f.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(u+=".",this.hvcC.general_profile_space){case 0:u+="";break;case 1:u+="A";break;case 2:u+="B";break;case 3:u+="C"}u+=this.hvcC.general_profile_idc,u+=".";var h=this.hvcC.general_profile_compatibility,m=0;for(l=0;l<32&&(m|=1&h,31!=l);l++)m<<=1,h>>=1;u+=f.decimalToHex(m,0),u+=".",u+=0===this.hvcC.general_tier_flag?"L":"H",u+=this.hvcC.general_level_idc;var _=!1,w="";for(l=5;l>=0;l--)(this.hvcC.general_constraint_indicator[l]||_)&&(w="."+f.decimalToHex(this.hvcC.general_constraint_indicator[l],0)+w,_=!0);u+=w}return u},f.vvc1SampleEntry.prototype.getCodec=f.vvi1SampleEntry.prototype.getCodec=function(){var l,u=f.SampleEntry.prototype.getCodec.call(this);if(this.vvcC){u+="."+this.vvcC.general_profile_idc,u+=this.vvcC.general_tier_flag?".H":".L",u+=this.vvcC.general_level_idc;var h="";if(this.vvcC.general_constraint_info){var w,m=[],_=0;for(_|=this.vvcC.ptl_frame_only_constraint<<7,_|=this.vvcC.ptl_multilayer_enabled<<6,l=0;l<this.vvcC.general_constraint_info.length;++l)m.push(_|=this.vvcC.general_constraint_info[l]>>2&63),_&&(w=l),_=this.vvcC.general_constraint_info[l]>>2&3;if(void 0===w)h=".CA";else{h=".C";var b="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",M=0,P=0;for(l=0;l<=w;++l)for(M=M<<8|m[l],P+=8;P>=5;)h+=b[M>>P-5&31],M&=(1<<(P-=5))-1;P&&(h+=b[31&(M<<=5-P)])}}u+=h}return u},f.mp4aSampleEntry.prototype.getCodec=function(){var l=f.SampleEntry.prototype.getCodec.call(this);if(this.esds&&this.esds.esd){var u=this.esds.esd.getOTI(),h=this.esds.esd.getAudioConfig();return l+"."+f.decimalToHex(u)+(h?"."+h:"")}return l},f.stxtSampleEntry.prototype.getCodec=function(){var l=f.SampleEntry.prototype.getCodec.call(this);return this.mime_format?l+"."+this.mime_format:l},f.vp08SampleEntry.prototype.getCodec=f.vp09SampleEntry.prototype.getCodec=function(){var l=f.SampleEntry.prototype.getCodec.call(this),u=this.vpcC.level;0==u&&(u="00");var h=this.vpcC.bitDepth;return 8==h&&(h="08"),l+".0"+this.vpcC.profile+"."+u+"."+h},f.av01SampleEntry.prototype.getCodec=function(){var h,l=f.SampleEntry.prototype.getCodec.call(this),u=this.av1C.seq_level_idx_0;return u<10&&(u="0"+u),2===this.av1C.seq_profile&&1===this.av1C.high_bitdepth?h=1===this.av1C.twelve_bit?"12":"10":this.av1C.seq_profile<=2&&(h=1===this.av1C.high_bitdepth?"10":"08"),l+"."+this.av1C.seq_profile+"."+u+(this.av1C.seq_tier_0?"H":"M")+"."+h},f.Box.prototype.writeHeader=function(l,u){this.size+=8,this.size>B&&(this.size+=8),"uuid"===this.type&&(this.size+=16),D.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+l.getPosition()+(u||"")),this.size>B?l.writeUint32(1):(this.sizePosition=l.getPosition(),l.writeUint32(this.size)),l.writeString(this.type,null,4),"uuid"===this.type&&l.writeUint8Array(this.uuid),this.size>B&&l.writeUint64(this.size)},f.FullBox.prototype.writeHeader=function(l){this.size+=4,f.Box.prototype.writeHeader.call(this,l," v="+this.version+" f="+this.flags),l.writeUint8(this.version),l.writeUint24(this.flags)},f.Box.prototype.write=function(l){"mdat"===this.type?this.data&&(this.size=this.data.length,this.writeHeader(l),l.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(l),this.data&&l.writeUint8Array(this.data))},f.ContainerBox.prototype.write=function(l){this.size=0,this.writeHeader(l);for(var u=0;u<this.boxes.length;u++)this.boxes[u]&&(this.boxes[u].write(l),this.size+=this.boxes[u].size);D.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),l.adjustUint32(this.sizePosition,this.size)},f.TrackReferenceTypeBox.prototype.write=function(l){this.size=4*this.track_ids.length,this.writeHeader(l),l.writeUint32Array(this.track_ids)},f.avcCBox.prototype.write=function(l){var u;for(this.size=7,u=0;u<this.SPS.length;u++)this.size+=2+this.SPS[u].length;for(u=0;u<this.PPS.length;u++)this.size+=2+this.PPS[u].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(l),l.writeUint8(this.configurationVersion),l.writeUint8(this.AVCProfileIndication),l.writeUint8(this.profile_compatibility),l.writeUint8(this.AVCLevelIndication),l.writeUint8(this.lengthSizeMinusOne+252),l.writeUint8(this.SPS.length+224),u=0;u<this.SPS.length;u++)l.writeUint16(this.SPS[u].length),l.writeUint8Array(this.SPS[u].nalu);for(l.writeUint8(this.PPS.length),u=0;u<this.PPS.length;u++)l.writeUint16(this.PPS[u].length),l.writeUint8Array(this.PPS[u].nalu);this.ext&&l.writeUint8Array(this.ext)},f.co64Box.prototype.write=function(l){var u;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(l),l.writeUint32(this.chunk_offsets.length),u=0;u<this.chunk_offsets.length;u++)l.writeUint64(this.chunk_offsets[u])},f.cslgBox.prototype.write=function(l){this.version=0,this.flags=0,this.size=20,this.writeHeader(l),l.writeInt32(this.compositionToDTSShift),l.writeInt32(this.leastDecodeToDisplayDelta),l.writeInt32(this.greatestDecodeToDisplayDelta),l.writeInt32(this.compositionStartTime),l.writeInt32(this.compositionEndTime)},f.cttsBox.prototype.write=function(l){var u;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(l),l.writeUint32(this.sample_counts.length),u=0;u<this.sample_counts.length;u++)l.writeUint32(this.sample_counts[u]),1===this.version?l.writeInt32(this.sample_offsets[u]):l.writeUint32(this.sample_offsets[u])},f.drefBox.prototype.write=function(l){this.version=0,this.flags=0,this.size=4,this.writeHeader(l),l.writeUint32(this.entries.length);for(var u=0;u<this.entries.length;u++)this.entries[u].write(l),this.size+=this.entries[u].size;D.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),l.adjustUint32(this.sizePosition,this.size)},f.elngBox.prototype.write=function(l){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(l),l.writeString(this.extended_language)},f.elstBox.prototype.write=function(l){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(l),l.writeUint32(this.entries.length);for(var u=0;u<this.entries.length;u++){var h=this.entries[u];l.writeUint32(h.segment_duration),l.writeInt32(h.media_time),l.writeInt16(h.media_rate_integer),l.writeInt16(h.media_rate_fraction)}},f.emsgBox.prototype.write=function(l){this.version=0,this.flags=0,this.size=16+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(l),l.writeCString(this.scheme_id_uri),l.writeCString(this.value),l.writeUint32(this.timescale),l.writeUint32(this.presentation_time_delta),l.writeUint32(this.event_duration),l.writeUint32(this.id),l.writeUint8Array(this.message_data)},f.ftypBox.prototype.write=function(l){this.size=8+4*this.compatible_brands.length,this.writeHeader(l),l.writeString(this.major_brand,null,4),l.writeUint32(this.minor_version);for(var u=0;u<this.compatible_brands.length;u++)l.writeString(this.compatible_brands[u],null,4)},f.hdlrBox.prototype.write=function(l){this.size=20+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(l),l.writeUint32(0),l.writeString(this.handler,null,4),l.writeUint32(0),l.writeUint32(0),l.writeUint32(0),l.writeCString(this.name)},f.kindBox.prototype.write=function(l){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(l),l.writeCString(this.schemeURI),l.writeCString(this.value)},f.mdhdBox.prototype.write=function(l){this.size=20,this.flags=0,this.version=0,this.writeHeader(l),l.writeUint32(this.creation_time),l.writeUint32(this.modification_time),l.writeUint32(this.timescale),l.writeUint32(this.duration),l.writeUint16(this.language),l.writeUint16(0)},f.mehdBox.prototype.write=function(l){this.version=0,this.flags=0,this.size=4,this.writeHeader(l),l.writeUint32(this.fragment_duration)},f.mfhdBox.prototype.write=function(l){this.version=0,this.flags=0,this.size=4,this.writeHeader(l),l.writeUint32(this.sequence_number)},f.mvhdBox.prototype.write=function(l){this.version=0,this.flags=0,this.size=96,this.writeHeader(l),l.writeUint32(this.creation_time),l.writeUint32(this.modification_time),l.writeUint32(this.timescale),l.writeUint32(this.duration),l.writeUint32(this.rate),l.writeUint16(this.volume<<8),l.writeUint16(0),l.writeUint32(0),l.writeUint32(0),l.writeUint32Array(this.matrix),l.writeUint32(0),l.writeUint32(0),l.writeUint32(0),l.writeUint32(0),l.writeUint32(0),l.writeUint32(0),l.writeUint32(this.next_track_id)},f.SampleEntry.prototype.writeHeader=function(l){this.size=8,f.Box.prototype.writeHeader.call(this,l),l.writeUint8(0),l.writeUint8(0),l.writeUint8(0),l.writeUint8(0),l.writeUint8(0),l.writeUint8(0),l.writeUint16(this.data_reference_index)},f.SampleEntry.prototype.writeFooter=function(l){for(var u=0;u<this.boxes.length;u++)this.boxes[u].write(l),this.size+=this.boxes[u].size;D.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),l.adjustUint32(this.sizePosition,this.size)},f.SampleEntry.prototype.write=function(l){this.writeHeader(l),l.writeUint8Array(this.data),this.size+=this.data.length,D.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),l.adjustUint32(this.sizePosition,this.size)},f.VisualSampleEntry.prototype.write=function(l){this.writeHeader(l),this.size+=70,l.writeUint16(0),l.writeUint16(0),l.writeUint32(0),l.writeUint32(0),l.writeUint32(0),l.writeUint16(this.width),l.writeUint16(this.height),l.writeUint32(this.horizresolution),l.writeUint32(this.vertresolution),l.writeUint32(0),l.writeUint16(this.frame_count),l.writeUint8(Math.min(31,this.compressorname.length)),l.writeString(this.compressorname,null,31),l.writeUint16(this.depth),l.writeInt16(-1),this.writeFooter(l)},f.AudioSampleEntry.prototype.write=function(l){this.writeHeader(l),this.size+=20,l.writeUint32(0),l.writeUint32(0),l.writeUint16(this.channel_count),l.writeUint16(this.samplesize),l.writeUint16(0),l.writeUint16(0),l.writeUint32(this.samplerate<<16),this.writeFooter(l)},f.stppSampleEntry.prototype.write=function(l){this.writeHeader(l),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,l.writeCString(this.namespace),l.writeCString(this.schema_location),l.writeCString(this.auxiliary_mime_types),this.writeFooter(l)},f.SampleGroupEntry.prototype.write=function(l){l.writeUint8Array(this.data)},f.sbgpBox.prototype.write=function(l){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(l),l.writeString(this.grouping_type,null,4),l.writeUint32(this.grouping_type_parameter),l.writeUint32(this.entries.length);for(var u=0;u<this.entries.length;u++){var h=this.entries[u];l.writeInt32(h.sample_count),l.writeInt32(h.group_description_index)}},f.sgpdBox.prototype.write=function(l){var u,h;for(this.flags=0,this.size=12,u=0;u<this.entries.length;u++)h=this.entries[u],1===this.version&&(0===this.default_length&&(this.size+=4),this.size+=h.data.length);for(this.writeHeader(l),l.writeString(this.grouping_type,null,4),1===this.version&&l.writeUint32(this.default_length),this.version>=2&&l.writeUint32(this.default_sample_description_index),l.writeUint32(this.entries.length),u=0;u<this.entries.length;u++)h=this.entries[u],1===this.version&&0===this.default_length&&l.writeUint32(h.description_length),h.write(l)},f.sidxBox.prototype.write=function(l){this.version=0,this.flags=0,this.size=20+12*this.references.length,this.writeHeader(l),l.writeUint32(this.reference_ID),l.writeUint32(this.timescale),l.writeUint32(this.earliest_presentation_time),l.writeUint32(this.first_offset),l.writeUint16(0),l.writeUint16(this.references.length);for(var u=0;u<this.references.length;u++){var h=this.references[u];l.writeUint32(h.reference_type<<31|h.referenced_size),l.writeUint32(h.subsegment_duration),l.writeUint32(h.starts_with_SAP<<31|h.SAP_type<<28|h.SAP_delta_time)}},f.smhdBox.prototype.write=function(l){this.version=0,this.flags=1,this.size=4,this.writeHeader(l),l.writeUint16(this.balance),l.writeUint16(0)},f.stcoBox.prototype.write=function(l){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(l),l.writeUint32(this.chunk_offsets.length),l.writeUint32Array(this.chunk_offsets)},f.stscBox.prototype.write=function(l){var u;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(l),l.writeUint32(this.first_chunk.length),u=0;u<this.first_chunk.length;u++)l.writeUint32(this.first_chunk[u]),l.writeUint32(this.samples_per_chunk[u]),l.writeUint32(this.sample_description_index[u])},f.stsdBox.prototype.write=function(l){var u;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(l),l.writeUint32(this.entries.length),this.size+=4,u=0;u<this.entries.length;u++)this.entries[u].write(l),this.size+=this.entries[u].size;D.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),l.adjustUint32(this.sizePosition,this.size)},f.stshBox.prototype.write=function(l){var u;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(l),l.writeUint32(this.shadowed_sample_numbers.length),u=0;u<this.shadowed_sample_numbers.length;u++)l.writeUint32(this.shadowed_sample_numbers[u]),l.writeUint32(this.sync_sample_numbers[u])},f.stssBox.prototype.write=function(l){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(l),l.writeUint32(this.sample_numbers.length),l.writeUint32Array(this.sample_numbers)},f.stszBox.prototype.write=function(l){var u,h=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0)for(u=0;u+1<this.sample_sizes.length;){if(this.sample_sizes[u+1]!==this.sample_sizes[0]){h=!1;break}u++}else h=!1;this.size=8,h||(this.size+=4*this.sample_sizes.length),this.writeHeader(l),l.writeUint32(h?this.sample_sizes[0]:0),l.writeUint32(this.sample_sizes.length),h||l.writeUint32Array(this.sample_sizes)},f.sttsBox.prototype.write=function(l){var u;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(l),l.writeUint32(this.sample_counts.length),u=0;u<this.sample_counts.length;u++)l.writeUint32(this.sample_counts[u]),l.writeUint32(this.sample_deltas[u])},f.tfdtBox.prototype.write=function(l){var u=Math.pow(2,32)-1;this.version=this.baseMediaDecodeTime>u?1:0,this.flags=0,this.size=4,1===this.version&&(this.size+=4),this.writeHeader(l),1===this.version?l.writeUint64(this.baseMediaDecodeTime):l.writeUint32(this.baseMediaDecodeTime)},f.tfhdBox.prototype.write=function(l){this.version=0,this.size=4,this.flags&f.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&f.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&f.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&f.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&f.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(l),l.writeUint32(this.track_id),this.flags&f.TFHD_FLAG_BASE_DATA_OFFSET&&l.writeUint64(this.base_data_offset),this.flags&f.TFHD_FLAG_SAMPLE_DESC&&l.writeUint32(this.default_sample_description_index),this.flags&f.TFHD_FLAG_SAMPLE_DUR&&l.writeUint32(this.default_sample_duration),this.flags&f.TFHD_FLAG_SAMPLE_SIZE&&l.writeUint32(this.default_sample_size),this.flags&f.TFHD_FLAG_SAMPLE_FLAGS&&l.writeUint32(this.default_sample_flags)},f.tkhdBox.prototype.write=function(l){this.version=0,this.size=80,this.writeHeader(l),l.writeUint32(this.creation_time),l.writeUint32(this.modification_time),l.writeUint32(this.track_id),l.writeUint32(0),l.writeUint32(this.duration),l.writeUint32(0),l.writeUint32(0),l.writeInt16(this.layer),l.writeInt16(this.alternate_group),l.writeInt16(this.volume<<8),l.writeUint16(0),l.writeInt32Array(this.matrix),l.writeUint32(this.width),l.writeUint32(this.height)},f.trexBox.prototype.write=function(l){this.version=0,this.flags=0,this.size=20,this.writeHeader(l),l.writeUint32(this.track_id),l.writeUint32(this.default_sample_description_index),l.writeUint32(this.default_sample_duration),l.writeUint32(this.default_sample_size),l.writeUint32(this.default_sample_flags)},f.trunBox.prototype.write=function(l){this.version=0,this.size=4,this.flags&f.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&f.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&f.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&f.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&f.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&f.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(l),l.writeUint32(this.sample_count),this.flags&f.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=l.getPosition(),l.writeInt32(this.data_offset)),this.flags&f.TRUN_FLAGS_FIRST_FLAG&&l.writeUint32(this.first_sample_flags);for(var u=0;u<this.sample_count;u++)this.flags&f.TRUN_FLAGS_DURATION&&l.writeUint32(this.sample_duration[u]),this.flags&f.TRUN_FLAGS_SIZE&&l.writeUint32(this.sample_size[u]),this.flags&f.TRUN_FLAGS_FLAGS&&l.writeUint32(this.sample_flags[u]),this.flags&f.TRUN_FLAGS_CTS_OFFSET&&(0===this.version?l.writeUint32(this.sample_composition_time_offset[u]):l.writeInt32(this.sample_composition_time_offset[u]))},f["url Box"].prototype.write=function(l){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(l),this.location&&l.writeCString(this.location)},f["urn Box"].prototype.write=function(l){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(l),l.writeCString(this.name),this.location&&l.writeCString(this.location)},f.vmhdBox.prototype.write=function(l){this.version=0,this.flags=1,this.size=8,this.writeHeader(l),l.writeUint16(this.graphicsmode),l.writeUint16Array(this.opcolor)},f.cttsBox.prototype.unpack=function(l){var u,h,m;for(m=0,u=0;u<this.sample_counts.length;u++)for(h=0;h<this.sample_counts[u];h++)l[m].pts=l[m].dts+this.sample_offsets[u],m++},f.sttsBox.prototype.unpack=function(l){var u,h,m;for(m=0,u=0;u<this.sample_counts.length;u++)for(h=0;h<this.sample_counts[u];h++)l[m].dts=0===m?0:l[m-1].dts+this.sample_deltas[u],m++},f.stcoBox.prototype.unpack=function(l){var u;for(u=0;u<this.chunk_offsets.length;u++)l[u].offset=this.chunk_offsets[u]},f.stscBox.prototype.unpack=function(l){var u,h,m,_,w;for(_=0,w=0,u=0;u<this.first_chunk.length;u++)for(h=0;h<(u+1<this.first_chunk.length?this.first_chunk[u+1]:1/0);h++)for(w++,m=0;m<this.samples_per_chunk[u];m++){if(!l[_])return;l[_].description_index=this.sample_description_index[u],l[_].chunk_index=w,_++}},f.stszBox.prototype.unpack=function(l){var u;for(u=0;u<this.sample_sizes.length;u++)l[u].size=this.sample_sizes[u]},f.DIFF_BOXES_PROP_NAMES=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"],f.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=["compatible_brands","matrix","opcolor","sample_counts","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"],f.boxEqualFields=function(l,u){if(l&&!u)return!1;var h;for(h in l)if(!(f.DIFF_BOXES_PROP_NAMES.indexOf(h)>-1)){if(l[h]instanceof f.Box||u[h]instanceof f.Box)continue;if(typeof l[h]>"u"||typeof u[h]>"u")continue;if("function"==typeof l[h]||"function"==typeof u[h])continue;if(l.subBoxNames&&l.subBoxNames.indexOf(h.slice(0,4))>-1||u.subBoxNames&&u.subBoxNames.indexOf(h.slice(0,4))>-1)continue;if("data"===h||"start"===h||"size"===h||"creation_time"===h||"modification_time"===h)continue;if(f.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(h)>-1)continue;if(l[h]!==u[h])return!1}return!0},f.boxEqual=function(l,u){if(!f.boxEqualFields(l,u))return!1;for(var h=0;h<f.DIFF_BOXES_PROP_NAMES.length;h++){var m=f.DIFF_BOXES_PROP_NAMES[h];if(l[m]&&u[m]&&!f.boxEqual(l[m],u[m]))return!1}return!0};var z=function(){};z.prototype.parseSample=function(l){var u,h,m=new Y(l.buffer);for(u=[];!m.isEos();)(h=f.parseOneBox(m,!1)).code===f.OK&&"vttc"===h.box.type&&u.push(h.box);return u},z.prototype.getText=function(l,u,h){function m(X,ie,he){return he=he||"0",(X+="").length>=ie?X:new Array(ie-X.length+1).join(he)+X}function _(X){var ie=Math.floor(X/3600),he=Math.floor((X-3600*ie)/60),ye=Math.floor(X-3600*ie-60*he),ge=Math.floor(1e3*(X-3600*ie-60*he-ye));return m(ie,2)+":"+m(he,2)+":"+m(ye,2)+"."+m(ge,3)}for(var w=this.parseSample(h),b="",M=0;M<w.length;M++){var P=w[M];b+=_(l)+" --\x3e "+_(u)+"\r\n",b+=P.payl.text}return b};var G=function(){};G.prototype.parseSample=function(l){return new Y(l.data.buffer).readString(l.data.length)},G.prototype.parseConfig=function(l){var h=new Y(l.buffer);return h.readUint32(),h.readCString()};var H=function(l){this.stream=l||new k,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.onSidx=null,this.sidxSent=!1};H.prototype.setSegmentOptions=function(l,u,h){var m=this.getTrackById(l);if(m){var _={};this.fragmentedTracks.push(_),_.id=l,_.user=u,_.trak=m,m.nextSample=0,_.segmentStream=null,_.nb_samples=1e3,_.rapAlignement=!0,h&&(h.nbSamples&&(_.nb_samples=h.nbSamples),h.rapAlignement&&(_.rapAlignement=h.rapAlignement))}},H.prototype.unsetSegmentOptions=function(l){for(var u=-1,h=0;h<this.fragmentedTracks.length;h++)this.fragmentedTracks[h].id==l&&(u=h);u>-1&&this.fragmentedTracks.splice(u,1)},H.prototype.setExtractionOptions=function(l,u,h){var m=this.getTrackById(l);if(m){var _={};this.extractedTracks.push(_),_.id=l,_.user=u,_.trak=m,m.nextSample=0,_.nb_samples=1e3,_.samples=[],h&&h.nbSamples&&(_.nb_samples=h.nbSamples)}},H.prototype.unsetExtractionOptions=function(l){for(var u=-1,h=0;h<this.extractedTracks.length;h++)this.extractedTracks[h].id==l&&(u=h);u>-1&&this.extractedTracks.splice(u,1)},H.prototype.parse=function(){var u,h;if(!this.restoreParsePosition||this.restoreParsePosition())for(;;){if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}if(this.saveParsePosition&&this.saveParsePosition(),(u=f.parseOneBox(this.stream,!1)).code===f.ERR_NOT_ENOUGH_DATA){if(this.processIncompleteBox){if(this.processIncompleteBox(u))continue;return}return}var _;switch(_="uuid"!==(h=u.box).type?h.type:h.uuid,this.boxes.push(h),_){case"mdat":this.mdats.push(h);break;case"moof":this.moofs.push(h);break;case"moov":this.moovStartFound=!0,0===this.mdats.length&&(this.isProgressive=!0);default:void 0!==this[_]&&D.warn("ISOFile","Duplicate Box of type: "+_+", overriding previous occurrence"),this[_]=h}this.updateUsedBytes&&this.updateUsedBytes(h,u)}},H.prototype.checkBuffer=function(l){if(null==l)throw"Buffer must be defined and non empty";if(void 0===l.fileStart)throw"Buffer must have a fileStart property";return 0===l.byteLength?(D.warn("ISOFile","Ignoring empty buffer (fileStart: "+l.fileStart+")"),this.stream.logBufferLevel(),!1):(D.info("ISOFile","Processing buffer (fileStart: "+l.fileStart+")"),l.usedBytes=0,this.stream.insertBuffer(l),this.stream.logBufferLevel(),!!this.stream.initialized()||(D.warn("ISOFile","Not ready to start parsing"),!1))},H.prototype.appendBuffer=function(l,u){var h;if(this.checkBuffer(l))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(u),this.nextSeekPosition?(h=this.nextSeekPosition,this.nextSeekPosition=void 0):h=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(h=this.stream.getEndFilePositionAfter(h))):h=this.nextParsePosition?this.nextParsePosition:0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(D.info("ISOFile","Done processing buffer (fileStart: "+l.fileStart+") - next buffer to fetch should have a fileStart position of "+h),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),D.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),h},H.prototype.getInfo=function(){var l,u,m,_,w,b,h={},M=new Date("1904-01-01T00:00:00Z").getTime();if(this.moov)for(h.hasMoov=!0,h.duration=this.moov.mvhd.duration,h.timescale=this.moov.mvhd.timescale,h.isFragmented=null!=this.moov.mvex,h.isFragmented&&this.moov.mvex.mehd&&(h.fragment_duration=this.moov.mvex.mehd.fragment_duration),h.isProgressive=this.isProgressive,h.hasIOD=null!=this.moov.iods,h.brands=[],h.brands.push(this.ftyp.major_brand),h.brands=h.brands.concat(this.ftyp.compatible_brands),h.created=new Date(M+1e3*this.moov.mvhd.creation_time),h.modified=new Date(M+1e3*this.moov.mvhd.modification_time),h.tracks=[],h.audioTracks=[],h.videoTracks=[],h.subtitleTracks=[],h.metadataTracks=[],h.hintTracks=[],h.otherTracks=[],l=0;l<this.moov.traks.length;l++){if(b=(m=this.moov.traks[l]).mdia.minf.stbl.stsd.entries[0],h.tracks.push(_={}),_.id=m.tkhd.track_id,_.name=m.mdia.hdlr.name,_.references=[],m.tref)for(u=0;u<m.tref.boxes.length;u++)_.references.push(w={}),w.type=m.tref.boxes[u].type,w.track_ids=m.tref.boxes[u].track_ids;m.edts&&(_.edits=m.edts.elst.entries),_.created=new Date(M+1e3*m.tkhd.creation_time),_.modified=new Date(M+1e3*m.tkhd.modification_time),_.movie_duration=m.tkhd.duration,_.movie_timescale=h.timescale,_.layer=m.tkhd.layer,_.alternate_group=m.tkhd.alternate_group,_.volume=m.tkhd.volume,_.matrix=m.tkhd.matrix,_.track_width=m.tkhd.width/65536,_.track_height=m.tkhd.height/65536,_.timescale=m.mdia.mdhd.timescale,_.cts_shift=m.mdia.minf.stbl.cslg,_.duration=m.mdia.mdhd.duration,_.samples_duration=m.samples_duration,_.codec=b.getCodec(),_.kind=m.udta&&m.udta.kinds.length?m.udta.kinds[0]:{schemeURI:"",value:""},_.language=m.mdia.elng?m.mdia.elng.extended_language:m.mdia.mdhd.languageString,_.nb_samples=m.samples.length,_.size=m.samples_size,_.bitrate=8*_.size*_.timescale/_.samples_duration,b.isAudio()?(_.type="audio",h.audioTracks.push(_),_.audio={},_.audio.sample_rate=b.getSampleRate(),_.audio.channel_count=b.getChannelCount(),_.audio.sample_size=b.getSampleSize()):b.isVideo()?(_.type="video",h.videoTracks.push(_),_.video={},_.video.width=b.getWidth(),_.video.height=b.getHeight()):b.isSubtitle()?(_.type="subtitles",h.subtitleTracks.push(_)):b.isHint()?(_.type="metadata",h.hintTracks.push(_)):b.isMetadata()?(_.type="metadata",h.metadataTracks.push(_)):(_.type="metadata",h.otherTracks.push(_))}else h.hasMoov=!1;if(h.mime="",h.hasMoov&&h.tracks){for(h.mime+=h.videoTracks&&h.videoTracks.length>0?'video/mp4; codecs="':h.audioTracks&&h.audioTracks.length>0?'audio/mp4; codecs="':'application/mp4; codecs="',l=0;l<h.tracks.length;l++)0!==l&&(h.mime+=","),h.mime+=h.tracks[l].codec;h.mime+='"; profiles="',h.mime+=this.ftyp.compatible_brands.join(),h.mime+='"'}return h},H.prototype.processSamples=function(l){var u,h;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&null!==this.onSegment)for(u=0;u<this.fragmentedTracks.length;u++){var m=this.fragmentedTracks[u];for(h=m.trak;h.nextSample<h.samples.length&&this.sampleProcessingStarted;){D.debug("ISOFile","Creating media fragment on track #"+m.id+" for sample "+h.nextSample);var _=this.createFragment(m.id,h.nextSample,m.segmentStream);if(!_)break;if(m.segmentStream=_,h.nextSample++,(h.nextSample%m.nb_samples==0||l||h.nextSample>=h.samples.length)&&(D.info("ISOFile","Sending fragmented data on track #"+m.id+" for samples ["+Math.max(0,h.nextSample-m.nb_samples)+","+(h.nextSample-1)+"]"),D.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(m.id,m.user,m.segmentStream.buffer,h.nextSample,l||h.nextSample>=h.samples.length),m.segmentStream=null,m!==this.fragmentedTracks[u]))break}}if(null!==this.onSamples)for(u=0;u<this.extractedTracks.length;u++){var w=this.extractedTracks[u];for(h=w.trak;h.nextSample<h.samples.length&&this.sampleProcessingStarted;){D.debug("ISOFile","Exporting on track #"+w.id+" sample #"+h.nextSample);var b=this.getSample(h,h.nextSample);if(!b)break;if(h.nextSample++,w.samples.push(b),(h.nextSample%w.nb_samples==0||h.nextSample>=h.samples.length)&&(D.debug("ISOFile","Sending samples on track #"+w.id+" for sample "+h.nextSample),this.onSamples&&this.onSamples(w.id,w.user,w.samples),w.samples=[],w!==this.extractedTracks[u]))break}}}},H.prototype.getBox=function(l){var u=this.getBoxes(l,!0);return u.length?u[0]:null},H.prototype.getBoxes=function(l,u){var h=[];return H._sweep.call(this,l,h,u),h},H._sweep=function(l,u,h){for(var m in this.type&&this.type==l&&u.push(this),this.boxes){if(u.length&&h)return;H._sweep.call(this.boxes[m],l,u,h)}},H.prototype.getTrackSamplesInfo=function(l){var u=this.getTrackById(l);if(u)return u.samples},H.prototype.getTrackSample=function(l,u){var h=this.getTrackById(l);return this.getSample(h,u)},H.prototype.releaseUsedSamples=function(l,u){var h=0,m=this.getTrackById(l);m.lastValidSample||(m.lastValidSample=0);for(var _=m.lastValidSample;_<u;_++)h+=this.releaseSample(m,_);D.info("ISOFile","Track #"+l+" released samples up to "+u+" (released size: "+h+", remaining: "+this.samplesDataSize+")"),m.lastValidSample=u},H.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)},H.prototype.stop=function(){this.sampleProcessingStarted=!1},H.prototype.flush=function(){D.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)},H.prototype.seekTrack=function(l,u,h){var m,_,w,P,b=0,M=0;if(0===h.samples.length)return D.info("ISOFile","No sample in track, cannot seek! Using time "+D.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(m=0;m<h.samples.length;m++){if(_=h.samples[m],0===m)M=0,P=_.timescale;else if(_.cts>l*_.timescale){M=m-1;break}u&&_.is_sync&&(b=m)}for(u&&(M=b),l=h.samples[M].cts,h.nextSample=M;h.samples[M].alreadyRead===h.samples[M].size&&h.samples[M+1];)M++;return w=h.samples[M].offset+h.samples[M].alreadyRead,D.info("ISOFile","Seeking to "+(u?"RAP":"")+" sample #"+h.nextSample+" on track "+h.tkhd.track_id+", time "+D.getDurationString(l,P)+" and offset: "+w),{offset:w,time:l/P}},H.prototype.seek=function(l,u){var _,w,h=this.moov,b={offset:1/0,time:1/0};if(this.moov){for(w=0;w<h.traks.length;w++)(_=this.seekTrack(l,u,h.traks[w])).offset<b.offset&&(b.offset=_.offset),_.time<b.time&&(b.time=_.time);return D.info("ISOFile","Seeking at time "+D.getDurationString(b.time,1)+" needs a buffer with a fileStart position of "+b.offset),b.offset===1/0?b={offset:this.nextParsePosition,time:0}:b.offset=this.stream.getEndFilePositionAfter(b.offset),D.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+b.offset),b}throw"Cannot seek: moov not received!"},H.prototype.equal=function(l){for(var u=0;u<this.boxes.length&&u<l.boxes.length;){if(!f.boxEqual(this.boxes[u],l.boxes[u]))return!1;u++}return!0},H.prototype.lastBoxStartPosition=0,H.prototype.parsingMdat=null,H.prototype.nextParsePosition=0,H.prototype.discardMdatData=!1,H.prototype.processIncompleteBox=function(l){var u;return"mdat"===l.type?(u=new f[l.type+"Box"](l.size),this.parsingMdat=u,this.boxes.push(u),this.mdats.push(u),u.start=l.start,u.hdr_size=l.hdr_size,this.stream.addUsedBytes(u.hdr_size),this.lastBoxStartPosition=u.start+u.size,this.stream.seek(u.start+u.size,!1,this.discardMdatData)?(this.parsingMdat=null,!0):(this.nextParsePosition=this.moovStartFound?this.stream.findEndContiguousBuf():u.start+u.size,!1)):("moov"===l.type&&(this.moovStartFound=!0,0===this.mdats.length&&(this.isProgressive=!0)),this.stream.mergeNextBuffer&&this.stream.mergeNextBuffer()?(this.nextParsePosition=this.stream.getEndPosition(),!0):(this.nextParsePosition=l.type?this.moovStartFound?this.stream.getEndPosition():this.stream.getPosition()+l.size:this.stream.getEndPosition(),!1))},H.prototype.hasIncompleteMdat=function(){return null!==this.parsingMdat},H.prototype.processIncompleteMdat=function(){var l;return this.stream.seek((l=this.parsingMdat).start+l.size,!1,this.discardMdatData)?(D.debug("ISOFile","Found 'mdat' end in buffered data"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)},H.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)},H.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()},H.prototype.updateUsedBytes=function(l,u){this.stream.addUsedBytes&&("mdat"===l.type?(this.stream.addUsedBytes(l.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(l.size-l.hdr_size)):this.stream.addUsedBytes(l.size))},H.prototype.add=f.Box.prototype.add,H.prototype.addBox=f.Box.prototype.addBox,H.prototype.init=function(l){var u=l||{},m=(this.add("ftyp").set("major_brand",u.brands&&u.brands[0]||"iso4").set("minor_version",0).set("compatible_brands",u.brands||["iso4"]),this.add("moov"));return m.add("mvhd").set("timescale",u.timescale||600).set("rate",u.rate||65536).set("creation_time",0).set("modification_time",0).set("duration",u.duration||0).set("volume",u.width?0:256).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("next_track_id",1),m.add("mvex"),this},H.prototype.addTrack=function(l){this.moov||this.init(l);var u=l||{};u.width=u.width||320,u.height=u.height||320,u.id=u.id||this.moov.mvhd.next_track_id,u.type=u.type||"avc1";var h=this.moov.add("trak");this.moov.mvhd.next_track_id=u.id+1,h.add("tkhd").set("flags",f.TKHD_FLAG_ENABLED|f.TKHD_FLAG_IN_MOVIE|f.TKHD_FLAG_IN_PREVIEW).set("creation_time",0).set("modification_time",0).set("track_id",u.id).set("duration",u.duration||0).set("layer",u.layer||0).set("alternate_group",0).set("volume",1).set("matrix",[0,0,0,0,0,0,0,0,0]).set("width",u.width<<16).set("height",u.height<<16);var m=h.add("mdia");m.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",u.timescale||1).set("duration",u.media_duration||0).set("language",u.language||"und"),m.add("hdlr").set("handler",u.hdlr||"vide").set("name",u.name||"Track created with MP4Box.js"),m.add("elng").set("extended_language",u.language||"fr-FR");var _=m.add("minf");if(void 0!==f[u.type+"SampleEntry"]){var w=new f[u.type+"SampleEntry"];w.data_reference_index=1;var b="";for(var M in f.sampleEntryCodes)for(var P=f.sampleEntryCodes[M],X=0;X<P.length;X++)if(P.indexOf(u.type)>-1){b=M;break}switch(b){case"Visual":if(_.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),w.set("width",u.width).set("height",u.height).set("horizresolution",72<<16).set("vertresolution",72<<16).set("frame_count",1).set("compressorname",u.type+" Compressor").set("depth",24),u.avcDecoderConfigRecord){var ie=new f.avcCBox,he=new Y(u.avcDecoderConfigRecord);ie.parse(he),w.addBox(ie)}break;case"Audio":_.add("smhd").set("balance",u.balance||0),w.set("channel_count",u.channel_count||2).set("samplesize",u.samplesize||16).set("samplerate",u.samplerate||65536);break;case"Hint":_.add("hmhd");break;case"Subtitle":"stpp"===(_.add("sthd"),u.type)&&w.set("namespace",u.namespace||"nonamespace").set("schema_location",u.schema_location||"").set("auxiliary_mime_types",u.auxiliary_mime_types||"");break;default:_.add("nmhd")}u.description&&w.addBox(u.description),u.description_boxes&&u.description_boxes.forEach(function(ge){w.addBox(ge)}),_.add("dinf").add("dref").addEntry((new f["url Box"]).set("flags",1));var ye=_.add("stbl");return ye.add("stsd").addEntry(w),ye.add("stts").set("sample_counts",[]).set("sample_deltas",[]),ye.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),ye.add("stco").set("chunk_offsets",[]),ye.add("stsz").set("sample_sizes",[]),this.moov.mvex.add("trex").set("track_id",u.id).set("default_sample_description_index",u.default_sample_description_index||1).set("default_sample_duration",u.default_sample_duration||0).set("default_sample_size",u.default_sample_size||0).set("default_sample_flags",u.default_sample_flags||0),this.buildTrakSampleLists(h),u.id}},f.Box.prototype.computeSize=function(l){var u=l||new T;u.endianness=T.BIG_ENDIAN,this.write(u)},H.prototype.addSample=function(l,u,h){var m=h||{},_={},w=this.getTrackById(l);if(null!==w){_.number=w.samples.length,_.track_id=w.tkhd.track_id,_.timescale=w.mdia.mdhd.timescale,_.description_index=m.sample_description_index?m.sample_description_index-1:0,_.description=w.mdia.minf.stbl.stsd.entries[_.description_index],_.data=u,_.size=u.byteLength,_.alreadyRead=_.size,_.duration=m.duration||1,_.cts=m.cts||0,_.dts=m.dts||0,_.is_sync=m.is_sync||!1,_.is_leading=m.is_leading||0,_.depends_on=m.depends_on||0,_.is_depended_on=m.is_depended_on||0,_.has_redundancy=m.has_redundancy||0,_.degradation_priority=m.degradation_priority||0,_.offset=0,_.subsamples=m.subsamples,w.samples.push(_),w.samples_size+=_.size,w.samples_duration+=_.duration,w.first_dts||(w.first_dts=m.dts),this.processSamples();var b=this.createSingleSampleMoof(_);return this.addBox(b),b.computeSize(),b.trafs[0].truns[0].data_offset=b.size+8,this.add("mdat").data=new Uint8Array(u),_}},H.prototype.createSingleSampleMoof=function(l){var u;u=l.is_sync?1<<25:65536;var h=new f.moofBox;h.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++;var m=h.add("traf"),_=this.getTrackById(l.track_id);return m.add("tfhd").set("track_id",l.track_id).set("flags",f.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),m.add("tfdt").set("baseMediaDecodeTime",l.dts-(_.first_dts||0)),m.add("trun").set("flags",f.TRUN_FLAGS_DATA_OFFSET|f.TRUN_FLAGS_DURATION|f.TRUN_FLAGS_SIZE|f.TRUN_FLAGS_FLAGS|f.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[l.duration]).set("sample_size",[l.size]).set("sample_flags",[u]).set("sample_composition_time_offset",[l.cts-l.dts]),h},H.prototype.lastMoofIndex=0,H.prototype.samplesDataSize=0,H.prototype.resetTables=function(){var l,u,m,w,b;for(this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0,l=0;l<this.moov.traks.length;l++){(u=this.moov.traks[l]).tkhd.duration=0,u.mdia.mdhd.duration=0,(u.mdia.minf.stbl.stco||u.mdia.minf.stbl.co64).chunk_offsets=[],(m=u.mdia.minf.stbl.stsc).first_chunk=[],m.samples_per_chunk=[],m.sample_description_index=[],(u.mdia.minf.stbl.stsz||u.mdia.minf.stbl.stz2).sample_sizes=[],(w=u.mdia.minf.stbl.stts).sample_counts=[],w.sample_deltas=[],(b=u.mdia.minf.stbl.ctts)&&(b.sample_counts=[],b.sample_offsets=[]);var P=u.mdia.minf.stbl.boxes.indexOf(u.mdia.minf.stbl.stss);-1!=P&&(u.mdia.minf.stbl.boxes[P]=null)}},H.initSampleGroups=function(l,u,h,m,_){var w,b,P,X;function ie(he,ye,ge){this.grouping_type=he,this.grouping_type_parameter=ye,this.sbgp=ge,this.last_sample_in_run=-1,this.entry_index=-1}for(u&&(u.sample_groups_info=[]),l.sample_groups_info||(l.sample_groups_info=[]),b=0;b<h.length;b++){for(X=h[b].grouping_type+"/"+h[b].grouping_type_parameter,P=new ie(h[b].grouping_type,h[b].grouping_type_parameter,h[b]),u&&(u.sample_groups_info[X]=P),l.sample_groups_info[X]||(l.sample_groups_info[X]=P),w=0;w<m.length;w++)m[w].grouping_type===h[b].grouping_type&&(P.description=m[w],P.description.used=!0);if(_)for(w=0;w<_.length;w++)_[w].grouping_type===h[b].grouping_type&&(P.fragment_description=_[w],P.fragment_description.used=!0,P.is_fragment=!0)}if(u){if(_)for(b=0;b<_.length;b++)!_[b].used&&_[b].version>=2&&(X=_[b].grouping_type+"/0",(P=new ie(_[b].grouping_type,0)).is_fragment=!0,u.sample_groups_info[X]||(u.sample_groups_info[X]=P))}else for(b=0;b<m.length;b++)!m[b].used&&m[b].version>=2&&(X=m[b].grouping_type+"/0",P=new ie(m[b].grouping_type,0),l.sample_groups_info[X]||(l.sample_groups_info[X]=P))},H.setSampleGroupProperties=function(l,u,h,m){var _,w;for(_ in u.sample_groups=[],m)if(u.sample_groups[_]={},u.sample_groups[_].grouping_type=m[_].grouping_type,u.sample_groups[_].grouping_type_parameter=m[_].grouping_type_parameter,h>=m[_].last_sample_in_run&&(m[_].last_sample_in_run<0&&(m[_].last_sample_in_run=0),m[_].entry_index++,m[_].entry_index<=m[_].sbgp.entries.length-1&&(m[_].last_sample_in_run+=m[_].sbgp.entries[m[_].entry_index].sample_count)),u.sample_groups[_].group_description_index=m[_].entry_index<=m[_].sbgp.entries.length-1?m[_].sbgp.entries[m[_].entry_index].group_description_index:-1,0!==u.sample_groups[_].group_description_index){var b;b=m[_].fragment_description?m[_].fragment_description:m[_].description,u.sample_groups[_].group_description_index>0?(w=u.sample_groups[_].group_description_index>65535?(u.sample_groups[_].group_description_index>>16)-1:u.sample_groups[_].group_description_index-1,b&&w>=0&&(u.sample_groups[_].description=b.entries[w])):b&&b.version>=2&&b.default_group_description_index>0&&(u.sample_groups[_].description=b.entries[b.default_group_description_index-1])}},H.process_sdtp=function(l,u,h){!u||(l?(u.is_leading=l.is_leading[h],u.depends_on=l.sample_depends_on[h],u.is_depended_on=l.sample_is_depended_on[h],u.has_redundancy=l.sample_has_redundancy[h]):(u.is_leading=0,u.depends_on=0,u.is_depended_on=0,u.has_redundancy=0))},H.prototype.buildSampleLists=function(){var l;for(l=0;l<this.moov.traks.length;l++)this.buildTrakSampleLists(this.moov.traks[l])},H.prototype.buildTrakSampleLists=function(l){var u,m,_,w,b,M,P,X,ie,he,ye,ge,Me,bt,Gt,Jt,wn,nn,Qe,U,A,$,I,ne;if(l.samples=[],l.samples_duration=0,l.samples_size=0,m=l.mdia.minf.stbl.stco||l.mdia.minf.stbl.co64,_=l.mdia.minf.stbl.stsc,w=l.mdia.minf.stbl.stsz||l.mdia.minf.stbl.stz2,b=l.mdia.minf.stbl.stts,M=l.mdia.minf.stbl.ctts,P=l.mdia.minf.stbl.stss,X=l.mdia.minf.stbl.stsd,ie=l.mdia.minf.stbl.subs,ge=l.mdia.minf.stbl.stdp,nn=-1,Qe=-1,U=-1,A=-1,$=0,I=0,ne=0,H.initSampleGroups(l,null,he=l.mdia.minf.stbl.sbgps,ye=l.mdia.minf.stbl.sgpds),!(typeof w>"u")){for(u=0;u<w.sample_sizes.length;u++){var re={};re.number=u,re.track_id=l.tkhd.track_id,re.timescale=l.mdia.mdhd.timescale,re.alreadyRead=0,l.samples[u]=re,re.size=w.sample_sizes[u],l.samples_size+=re.size,0===u?(Me=0,re.chunk_index=bt=1,re.chunk_run_index=Me,wn=_.samples_per_chunk[Me],Jt=0,Gt=Me+1<_.first_chunk.length?_.first_chunk[Me+1]-1:1/0):u<wn?(re.chunk_index=bt,re.chunk_run_index=Me):(bt++,re.chunk_index=bt,Jt=0,bt<=Gt||(Gt=1+ ++Me<_.first_chunk.length?_.first_chunk[Me+1]-1:1/0),re.chunk_run_index=Me,wn+=_.samples_per_chunk[Me]),re.description_index=_.sample_description_index[re.chunk_run_index]-1,re.description=X.entries[re.description_index],re.offset=m.chunk_offsets[re.chunk_index-1]+Jt,Jt+=re.size,u>nn&&(Qe++,nn<0&&(nn=0),nn+=b.sample_counts[Qe]),u>0?(l.samples[u-1].duration=b.sample_deltas[Qe],l.samples_duration+=l.samples[u-1].duration,re.dts=l.samples[u-1].dts+l.samples[u-1].duration):re.dts=0,M?(u>=U&&(A++,U<0&&(U=0),U+=M.sample_counts[A]),re.cts=l.samples[u].dts+M.sample_offsets[A]):re.cts=re.dts,P?(u==P.sample_numbers[$]-1?(re.is_sync=!0,$++):(re.is_sync=!1,re.degradation_priority=0),ie&&ie.entries[I].sample_delta+ne==u+1&&(re.subsamples=ie.entries[I].subsamples,ne+=ie.entries[I].sample_delta,I++)):re.is_sync=!0,H.process_sdtp(l.mdia.minf.stbl.sdtp,re,re.number),re.degradation_priority=ge?ge.priority[u]:0,ie&&ie.entries[I].sample_delta+ne==u&&(re.subsamples=ie.entries[I].subsamples,ne+=ie.entries[I].sample_delta),(he.length>0||ye.length>0)&&H.setSampleGroupProperties(l,re,u,l.sample_groups_info)}u>0&&(l.samples[u-1].duration=Math.max(l.mdia.mdhd.duration-l.samples[u-1].dts,0),l.samples_duration+=l.samples[u-1].duration)}},H.prototype.updateSampleLists=function(){var l,u,h,m,_,w,b,M,P,X,ie,he,ye,ge,Me;if(void 0!==this.moov)for(;this.lastMoofIndex<this.moofs.length;)if(P=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,"moof"==P.type)for(X=P,l=0;l<X.trafs.length;l++){for(he=this.getTrackById((ie=X.trafs[l]).tfhd.track_id),ye=this.getTrexById(ie.tfhd.track_id),m=ie.tfhd.flags&f.TFHD_FLAG_SAMPLE_DESC?ie.tfhd.default_sample_description_index:ye?ye.default_sample_description_index:1,_=ie.tfhd.flags&f.TFHD_FLAG_SAMPLE_DUR?ie.tfhd.default_sample_duration:ye?ye.default_sample_duration:0,w=ie.tfhd.flags&f.TFHD_FLAG_SAMPLE_SIZE?ie.tfhd.default_sample_size:ye?ye.default_sample_size:0,b=ie.tfhd.flags&f.TFHD_FLAG_SAMPLE_FLAGS?ie.tfhd.default_sample_flags:ye?ye.default_sample_flags:0,ie.sample_number=0,ie.sbgps.length>0&&H.initSampleGroups(he,ie,ie.sbgps,he.mdia.minf.stbl.sgpds,ie.sgpds),u=0;u<ie.truns.length;u++){var bt=ie.truns[u];for(h=0;h<bt.sample_count;h++){(ge={}).moof_number=this.lastMoofIndex,ge.number_in_traf=ie.sample_number,ie.sample_number++,ge.number=he.samples.length,ie.first_sample_index=he.samples.length,he.samples.push(ge),ge.track_id=he.tkhd.track_id,ge.timescale=he.mdia.mdhd.timescale,ge.description_index=m-1,ge.description=he.mdia.minf.stbl.stsd.entries[ge.description_index],ge.size=w,bt.flags&f.TRUN_FLAGS_SIZE&&(ge.size=bt.sample_size[h]),he.samples_size+=ge.size,ge.duration=_,bt.flags&f.TRUN_FLAGS_DURATION&&(ge.duration=bt.sample_duration[h]),he.samples_duration+=ge.duration,he.first_traf_merged||h>0?ge.dts=he.samples[he.samples.length-2].dts+he.samples[he.samples.length-2].duration:(ge.dts=ie.tfdt?ie.tfdt.baseMediaDecodeTime:0,he.first_traf_merged=!0),ge.cts=ge.dts,bt.flags&f.TRUN_FLAGS_CTS_OFFSET&&(ge.cts=ge.dts+bt.sample_composition_time_offset[h]),Me=b,bt.flags&f.TRUN_FLAGS_FLAGS?Me=bt.sample_flags[h]:0===h&&bt.flags&f.TRUN_FLAGS_FIRST_FLAG&&(Me=bt.first_sample_flags),ge.is_sync=!(Me>>16&1),ge.is_leading=Me>>26&3,ge.depends_on=Me>>24&3,ge.is_depended_on=Me>>22&3,ge.has_redundancy=Me>>20&3,ge.degradation_priority=65535&Me;var nn;nn=ie.tfhd.flags&f.TFHD_FLAG_BASE_DATA_OFFSET?ie.tfhd.base_data_offset:ie.tfhd.flags&f.TFHD_FLAG_DEFAULT_BASE_IS_MOOF||0===u?X.start:M,ge.offset=0===u&&0===h?bt.flags&f.TRUN_FLAGS_DATA_OFFSET?nn+bt.data_offset:nn:M,M=ge.offset+ge.size,(ie.sbgps.length>0||ie.sgpds.length>0||he.mdia.minf.stbl.sbgps.length>0||he.mdia.minf.stbl.sgpds.length>0)&&H.setSampleGroupProperties(he,ge,ge.number_in_traf,ie.sample_groups_info)}}if(ie.subs){he.has_fragment_subsamples=!0;var Qe=ie.first_sample_index;for(u=0;u<ie.subs.entries.length;u++)(ge=he.samples[(Qe+=ie.subs.entries[u].sample_delta)-1]).subsamples=ie.subs.entries[u].subsamples}}},H.prototype.getSample=function(l,u){var h,m=l.samples[u];if(!this.moov)return null;if(m.data){if(m.alreadyRead==m.size)return m}else m.data=new Uint8Array(m.size),m.alreadyRead=0,this.samplesDataSize+=m.size,D.debug("ISOFile","Allocating sample #"+u+" on track #"+l.tkhd.track_id+" of size "+m.size+" (total: "+this.samplesDataSize+")");for(;;){var _=this.stream.findPosition(!0,m.offset+m.alreadyRead,!1);if(!(_>-1))return null;var w=(h=this.stream.buffers[_]).byteLength-(m.offset+m.alreadyRead-h.fileStart);if(m.size-m.alreadyRead<=w)return D.debug("ISOFile","Getting sample #"+u+" data (alreadyRead: "+m.alreadyRead+" offset: "+(m.offset+m.alreadyRead-h.fileStart)+" read size: "+(m.size-m.alreadyRead)+" full size: "+m.size+")"),T.memcpy(m.data.buffer,m.alreadyRead,h,m.offset+m.alreadyRead-h.fileStart,m.size-m.alreadyRead),h.usedBytes+=m.size-m.alreadyRead,this.stream.logBufferLevel(),m.alreadyRead=m.size,m;if(0===w)return null;D.debug("ISOFile","Getting sample #"+u+" partial data (alreadyRead: "+m.alreadyRead+" offset: "+(m.offset+m.alreadyRead-h.fileStart)+" read size: "+w+" full size: "+m.size+")"),T.memcpy(m.data.buffer,m.alreadyRead,h,m.offset+m.alreadyRead-h.fileStart,w),m.alreadyRead+=w,h.usedBytes+=w,this.stream.logBufferLevel()}},H.prototype.releaseSample=function(l,u){var h=l.samples[u];return h.data?(this.samplesDataSize-=h.size,h.data=null,h.alreadyRead=0,h.size):0},H.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize},H.prototype.getCodecs=function(){var l,u="";for(l=0;l<this.moov.traks.length;l++)l>0&&(u+=","),u+=this.moov.traks[l].mdia.minf.stbl.stsd.entries[0].getCodec();return u},H.prototype.getTrexById=function(l){var u;if(!this.moov||!this.moov.mvex)return null;for(u=0;u<this.moov.mvex.trexs.length;u++){var h=this.moov.mvex.trexs[u];if(h.track_id==l)return h}return null},H.prototype.getTrackById=function(l){if(void 0===this.moov)return null;for(var u=0;u<this.moov.traks.length;u++){var h=this.moov.traks[u];if(h.tkhd.track_id==l)return h}return null},H.prototype.items=[],H.prototype.itemsDataSize=0,H.prototype.flattenItemInfo=function(){var u,h,m,l=this.items,_=this.meta;if(null!=_&&void 0!==_.hdlr&&void 0!==_.iinf){for(u=0;u<_.iinf.item_infos.length;u++)(m={}).id=_.iinf.item_infos[u].item_ID,l[m.id]=m,m.ref_to=[],m.name=_.iinf.item_infos[u].item_name,_.iinf.item_infos[u].protection_index>0&&(m.protection=_.ipro.protections[_.iinf.item_infos[u].protection_index-1]),m.type=_.iinf.item_infos[u].item_type?_.iinf.item_infos[u].item_type:"mime",m.content_type=_.iinf.item_infos[u].content_type,m.content_encoding=_.iinf.item_infos[u].content_encoding;if(_.iloc)for(u=0;u<_.iloc.items.length;u++){var b=_.iloc.items[u];switch(m=l[b.item_ID],0!==b.data_reference_index&&(D.warn("Item storage with reference to other files: not supported"),m.source=_.dinf.boxes[b.data_reference_index-1]),b.construction_method){case 0:break;case 1:case 2:D.warn("Item storage with construction_method : not supported")}for(m.extents=[],m.size=0,h=0;h<b.extents.length;h++)m.extents[h]={},m.extents[h].offset=b.extents[h].extent_offset+b.base_offset,m.extents[h].length=b.extents[h].extent_length,m.extents[h].alreadyRead=0,m.size+=m.extents[h].length}if(_.pitm&&(l[_.pitm.item_id].primary=!0),_.iref)for(u=0;u<_.iref.references.length;u++){var M=_.iref.references[u];for(h=0;h<M.references.length;h++)l[M.from_item_ID].ref_to.push({type:M.type,id:M.references[h]})}if(_.iprp)for(var P=0;P<_.iprp.ipmas.length;P++){var X=_.iprp.ipmas[P];for(u=0;u<X.associations.length;u++){var ie=X.associations[u];for(void 0===(m=l[ie.id]).properties&&(m.properties={},m.properties.boxes=[]),h=0;h<ie.props.length;h++){var he=ie.props[h];if(he.property_index>0&&he.property_index-1<_.iprp.ipco.boxes.length){var ye=_.iprp.ipco.boxes[he.property_index-1];m.properties[ye.type]=ye,m.properties.boxes.push(ye)}}}}}},H.prototype.getItem=function(l){var u,h;if(!this.meta)return null;if(!(h=this.items[l]).data&&h.size)h.data=new Uint8Array(h.size),h.alreadyRead=0,this.itemsDataSize+=h.size,D.debug("ISOFile","Allocating item #"+l+" of size "+h.size+" (total: "+this.itemsDataSize+")");else if(h.alreadyRead===h.size)return h;for(var m=0;m<h.extents.length;m++){var _=h.extents[m];if(_.alreadyRead!==_.length){var w=this.stream.findPosition(!0,_.offset+_.alreadyRead,!1);if(!(w>-1))return null;var b=(u=this.stream.buffers[w]).byteLength-(_.offset+_.alreadyRead-u.fileStart);if(!(_.length-_.alreadyRead<=b))return D.debug("ISOFile","Getting item #"+l+" extent #"+m+" partial data (alreadyRead: "+_.alreadyRead+" offset: "+(_.offset+_.alreadyRead-u.fileStart)+" read size: "+b+" full extent size: "+_.length+" full item size: "+h.size+")"),T.memcpy(h.data.buffer,h.alreadyRead,u,_.offset+_.alreadyRead-u.fileStart,b),_.alreadyRead+=b,h.alreadyRead+=b,u.usedBytes+=b,this.stream.logBufferLevel(),null;D.debug("ISOFile","Getting item #"+l+" extent #"+m+" data (alreadyRead: "+_.alreadyRead+" offset: "+(_.offset+_.alreadyRead-u.fileStart)+" read size: "+(_.length-_.alreadyRead)+" full extent size: "+_.length+" full item size: "+h.size+")"),T.memcpy(h.data.buffer,h.alreadyRead,u,_.offset+_.alreadyRead-u.fileStart,_.length-_.alreadyRead),u.usedBytes+=_.length-_.alreadyRead,this.stream.logBufferLevel(),h.alreadyRead+=_.length-_.alreadyRead,_.alreadyRead=_.length}}return h.alreadyRead===h.size?h:null},H.prototype.releaseItem=function(l){var u=this.items[l];if(u.data){this.itemsDataSize-=u.size,u.data=null,u.alreadyRead=0;for(var h=0;h<u.extents.length;h++)u.extents[h].alreadyRead=0;return u.size}return 0},H.prototype.processItems=function(l){for(var u in this.items){var h=this.items[u];this.getItem(h.id),l&&!h.sent&&(l(h),h.sent=!0,h.data=null)}},H.prototype.hasItem=function(l){for(var u in this.items){var h=this.items[u];if(h.name===l)return h.id}return-1},H.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null},H.prototype.getPrimaryItem=function(){return this.meta&&this.meta.pitm?this.getItem(this.meta.pitm.item_id):null},H.prototype.itemToFragmentedTrackFile=function(l){var h,u=l||{};if(null==(h=u.itemId?this.getItem(u.itemId):this.getPrimaryItem()))return null;var m=new H;m.discardMdatData=!1;var _={type:h.type,description_boxes:h.properties.boxes};h.properties.ispe&&(_.width=h.properties.ispe.image_width,_.height=h.properties.ispe.image_height);var w=m.addTrack(_);return w?(m.addSample(w,h.data),m):null},H.prototype.write=function(l){for(var u=0;u<this.boxes.length;u++)this.boxes[u].write(l)},H.prototype.createFragment=function(l,u,h){var m=this.getTrackById(l),_=this.getSample(m,u);if(null==_)return _=m.samples[u],this.nextSeekPosition=this.nextSeekPosition?Math.min(_.offset+_.alreadyRead,this.nextSeekPosition):m.samples[u].offset+_.alreadyRead,null;var w=h||new T;w.endianness=T.BIG_ENDIAN;var b=this.createSingleSampleMoof(_);b.write(w),b.trafs[0].truns[0].data_offset=b.size+8,D.debug("MP4Box","Adjusting data_offset with new value "+b.trafs[0].truns[0].data_offset),w.adjustUint32(b.trafs[0].truns[0].data_offset_position,b.trafs[0].truns[0].data_offset);var M=new f.mdatBox;return M.data=_.data,M.write(w),w},H.writeInitializationSegment=function(l,u,h,m){var _;D.debug("ISOFile","Generating initialization segment");var X=new T;X.endianness=T.BIG_ENDIAN,l.write(X);var ie=u.add("mvex");for(h&&ie.add("mehd").set("fragment_duration",h),_=0;_<u.traks.length;_++)ie.add("trex").set("track_id",u.traks[_].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",m).set("default_sample_size",0).set("default_sample_flags",65536);return u.write(X),X.buffer},H.prototype.save=function(l){var u=new T;u.endianness=T.BIG_ENDIAN,this.write(u),u.save(l)},H.prototype.getBuffer=function(){var l=new T;return l.endianness=T.BIG_ENDIAN,this.write(l),l.buffer},H.prototype.initializeSegmentation=function(){var l,m,_,w;for(null===this.onSegment&&D.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),m=[],l=0;l<this.fragmentedTracks.length;l++){var b=new f.moovBox;b.mvhd=this.moov.mvhd,b.boxes.push(b.mvhd),_=this.getTrackById(this.fragmentedTracks[l].id),b.boxes.push(_),b.traks.push(_),(w={}).id=_.tkhd.track_id,w.user=this.fragmentedTracks[l].user,w.buffer=H.writeInitializationSegment(this.ftyp,b,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,this.moov.traks[l].samples.length>0?this.moov.traks[l].samples[0].duration:0),m.push(w)}return m},f.Box.prototype.printHeader=function(l){this.size+=8,this.size>B&&(this.size+=8),"uuid"===this.type&&(this.size+=16),l.log(l.indent+"size:"+this.size),l.log(l.indent+"type:"+this.type)},f.FullBox.prototype.printHeader=function(l){this.size+=4,f.Box.prototype.printHeader.call(this,l),l.log(l.indent+"version:"+this.version),l.log(l.indent+"flags:"+this.flags)},f.Box.prototype.print=function(l){this.printHeader(l)},f.ContainerBox.prototype.print=function(l){this.printHeader(l);for(var u=0;u<this.boxes.length;u++)if(this.boxes[u]){var h=l.indent;l.indent+=" ",this.boxes[u].print(l),l.indent=h}},H.prototype.print=function(l){l.indent="";for(var u=0;u<this.boxes.length;u++)this.boxes[u]&&this.boxes[u].print(l)},f.mvhdBox.prototype.print=function(l){f.FullBox.prototype.printHeader.call(this,l),l.log(l.indent+"creation_time: "+this.creation_time),l.log(l.indent+"modification_time: "+this.modification_time),l.log(l.indent+"timescale: "+this.timescale),l.log(l.indent+"duration: "+this.duration),l.log(l.indent+"rate: "+this.rate),l.log(l.indent+"volume: "+(this.volume>>8)),l.log(l.indent+"matrix: "+this.matrix.join(", ")),l.log(l.indent+"next_track_id: "+this.next_track_id)},f.tkhdBox.prototype.print=function(l){f.FullBox.prototype.printHeader.call(this,l),l.log(l.indent+"creation_time: "+this.creation_time),l.log(l.indent+"modification_time: "+this.modification_time),l.log(l.indent+"track_id: "+this.track_id),l.log(l.indent+"duration: "+this.duration),l.log(l.indent+"volume: "+(this.volume>>8)),l.log(l.indent+"matrix: "+this.matrix.join(", ")),l.log(l.indent+"layer: "+this.layer),l.log(l.indent+"alternate_group: "+this.alternate_group),l.log(l.indent+"width: "+this.width),l.log(l.indent+"height: "+this.height)};var q_createFile=function(l,u){var h=void 0===l||l,m=new H(u);return m.discardMdatData=!h,m};De.cn=q_createFile},884:(Ce,De,J)=>{"use strict";Ce.exports=J(95)},95:(Ce,De,J)=>{"use strict";var D=De;function Y(){D.util._configure(),D.Writer._configure(D.BufferWriter),D.Reader._configure(D.BufferReader)}D.build="minimal",D.Writer=J(650),D.BufferWriter=J(813),D.Reader=J(270),D.BufferReader=J(354),D.util=J(211),D.rpc=J(830),D.roots=J(671),D.configure=Y,Y()},270:(Ce,De,J)=>{"use strict";Ce.exports=C;var Y,D=J(211),T=D.LongBits,B=D.utf8;function k(q,l){return RangeError("index out of range: "+q.pos+" + "+(l||1)+" > "+q.len)}function C(q){this.buf=q,this.pos=0,this.len=q.length}var l,f=typeof Uint8Array<"u"?function(l){if(l instanceof Uint8Array||Array.isArray(l))return new C(l);throw Error("illegal buffer")}:function(l){if(Array.isArray(l))return new C(l);throw Error("illegal buffer")},z=function(){return D.Buffer?function(u){return(C.create=function(m){return D.Buffer.isBuffer(m)?new Y(m):f(m)})(u)}:f};function K(){var q=new T(0,0),l=0;if(!(this.len-this.pos>4)){for(;l<3;++l){if(this.pos>=this.len)throw k(this);if(q.lo=(q.lo|(127&this.buf[this.pos])<<7*l)>>>0,this.buf[this.pos++]<128)return q}return q.lo=(q.lo|(127&this.buf[this.pos++])<<7*l)>>>0,q}for(;l<4;++l)if(q.lo=(q.lo|(127&this.buf[this.pos])<<7*l)>>>0,this.buf[this.pos++]<128)return q;if(q.lo=(q.lo|(127&this.buf[this.pos])<<28)>>>0,q.hi=(q.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return q;if(l=0,this.len-this.pos>4){for(;l<5;++l)if(q.hi=(q.hi|(127&this.buf[this.pos])<<7*l+3)>>>0,this.buf[this.pos++]<128)return q}else for(;l<5;++l){if(this.pos>=this.len)throw k(this);if(q.hi=(q.hi|(127&this.buf[this.pos])<<7*l+3)>>>0,this.buf[this.pos++]<128)return q}throw Error("invalid varint encoding")}function G(q,l){return(q[l-4]|q[l-3]<<8|q[l-2]<<16|q[l-1]<<24)>>>0}function H(){if(this.pos+8>this.len)throw k(this,8);return new T(G(this.buf,this.pos+=4),G(this.buf,this.pos+=4))}C.create=z(),C.prototype._slice=D.Array.prototype.subarray||D.Array.prototype.slice,C.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return l;if((this.pos+=5)>this.len)throw this.pos=this.len,k(this,10);return l}),C.prototype.int32=function(){return 0|this.uint32()},C.prototype.sint32=function(){var l=this.uint32();return l>>>1^-(1&l)|0},C.prototype.bool=function(){return 0!==this.uint32()},C.prototype.fixed32=function(){if(this.pos+4>this.len)throw k(this,4);return G(this.buf,this.pos+=4)},C.prototype.sfixed32=function(){if(this.pos+4>this.len)throw k(this,4);return 0|G(this.buf,this.pos+=4)},C.prototype.float=function(){if(this.pos+4>this.len)throw k(this,4);var l=D.float.readFloatLE(this.buf,this.pos);return this.pos+=4,l},C.prototype.double=function(){if(this.pos+8>this.len)throw k(this,4);var l=D.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,l},C.prototype.bytes=function(){var l=this.uint32(),u=this.pos,h=this.pos+l;if(h>this.len)throw k(this,l);return this.pos+=l,Array.isArray(this.buf)?this.buf.slice(u,h):u===h?new this.buf.constructor(0):this._slice.call(this.buf,u,h)},C.prototype.string=function(){var l=this.bytes();return B.read(l,0,l.length)},C.prototype.skip=function(l){if("number"==typeof l){if(this.pos+l>this.len)throw k(this,l);this.pos+=l}else do{if(this.pos>=this.len)throw k(this)}while(128&this.buf[this.pos++]);return this},C.prototype.skipType=function(q){switch(q){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(q=7&this.uint32());)this.skipType(q);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+q+" at offset "+this.pos)}return this},C._configure=function(q){Y=q,C.create=z(),Y._configure();var l=D.Long?"toLong":"toNumber";D.merge(C.prototype,{int64:function(){return K.call(this)[l](!1)},uint64:function(){return K.call(this)[l](!0)},sint64:function(){return K.call(this).zzDecode()[l](!1)},fixed64:function(){return H.call(this)[l](!0)},sfixed64:function(){return H.call(this)[l](!1)}})}},354:(Ce,De,J)=>{"use strict";Ce.exports=T;var D=J(270);(T.prototype=Object.create(D.prototype)).constructor=T;var Y=J(211);function T(B){D.call(this,B)}T._configure=function(){Y.Buffer&&(T.prototype._slice=Y.Buffer.prototype.slice)},T.prototype.string=function(){var k=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+k,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+k,this.len))},T._configure()},671:Ce=>{"use strict";Ce.exports={}},830:(Ce,De,J)=>{"use strict";De.Service=J(346)},346:(Ce,De,J)=>{"use strict";Ce.exports=Y;var D=J(211);function Y(T,B,k){if("function"!=typeof T)throw TypeError("rpcImpl must be a function");D.EventEmitter.call(this),this.rpcImpl=T,this.requestDelimited=Boolean(B),this.responseDelimited=Boolean(k)}(Y.prototype=Object.create(D.EventEmitter.prototype)).constructor=Y,Y.prototype.rpcCall=function T(B,k,C,f,z){if(!f)throw TypeError("request must be specified");var K=this;if(!z)return D.asPromise(T,K,B,k,C,f);if(K.rpcImpl)try{return K.rpcImpl(B,k[K.requestDelimited?"encodeDelimited":"encode"](f).finish(),function(H,q){if(H)return K.emit("error",H,B),z(H);if(null!==q){if(!(q instanceof C))try{q=C[K.responseDelimited?"decodeDelimited":"decode"](q)}catch(l){return K.emit("error",l,B),z(l)}return K.emit("data",q,B),z(null,q)}K.end(!0)})}catch(G){return K.emit("error",G,B),void setTimeout(function(){z(G)},0)}else setTimeout(function(){z(Error("already ended"))},0)},Y.prototype.end=function(B){return this.rpcImpl&&(B||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},942:(Ce,De,J)=>{"use strict";Ce.exports=Y;var D=J(211);function Y(C,f){this.lo=C>>>0,this.hi=f>>>0}var T=Y.zero=new Y(0,0);T.toNumber=function(){return 0},T.zzEncode=T.zzDecode=function(){return this},T.length=function(){return 1};var B=Y.zeroHash="\0\0\0\0\0\0\0\0";Y.fromNumber=function(f){if(0===f)return T;var z=f<0;z&&(f=-f);var K=f>>>0,G=(f-K)/4294967296>>>0;return z&&(G=~G>>>0,K=~K>>>0,++K>4294967295&&(K=0,++G>4294967295&&(G=0))),new Y(K,G)},Y.from=function(f){if("number"==typeof f)return Y.fromNumber(f);if(D.isString(f)){if(!D.Long)return Y.fromNumber(parseInt(f,10));f=D.Long.fromString(f)}return f.low||f.high?new Y(f.low>>>0,f.high>>>0):T},Y.prototype.toNumber=function(f){if(!f&&this.hi>>>31){var z=1+~this.lo>>>0,K=~this.hi>>>0;return z||(K=K+1>>>0),-(z+4294967296*K)}return this.lo+4294967296*this.hi},Y.prototype.toLong=function(f){return D.Long?new D.Long(0|this.lo,0|this.hi,Boolean(f)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(f)}};var k=String.prototype.charCodeAt;Y.fromHash=function(f){return f===B?T:new Y((k.call(f,0)|k.call(f,1)<<8|k.call(f,2)<<16|k.call(f,3)<<24)>>>0,(k.call(f,4)|k.call(f,5)<<8|k.call(f,6)<<16|k.call(f,7)<<24)>>>0)},Y.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},Y.prototype.zzEncode=function(){var f=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^f)>>>0,this.lo=(this.lo<<1^f)>>>0,this},Y.prototype.zzDecode=function(){var f=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^f)>>>0,this.hi=(this.hi>>>1^f)>>>0,this},Y.prototype.length=function(){var f=this.lo,z=(this.lo>>>28|this.hi<<4)>>>0,K=this.hi>>>24;return 0===K?0===z?f<16384?f<128?1:2:f<2097152?3:4:z<16384?z<128?5:6:z<2097152?7:8:K<128?9:10}},211:function(Ce,De,J){"use strict";var D=De;function Y(B,k,C){for(var f=Object.keys(k),z=0;z<f.length;++z)(void 0===B[f[z]]||!C)&&(B[f[z]]=k[f[z]]);return B}function T(B){function k(C,f){if(!(this instanceof k))return new k(C,f);Object.defineProperty(this,"message",{get:function(){return C}}),Error.captureStackTrace?Error.captureStackTrace(this,k):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),f&&Y(this,f)}return k.prototype=Object.create(Error.prototype,{constructor:{value:k,writable:!0,enumerable:!1,configurable:!0},name:{get:()=>B,set:void 0,enumerable:!1,configurable:!0},toString:{value(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),k}D.asPromise=J(280),D.base64=J(39),D.EventEmitter=J(889),D.float=J(530),D.inquire=J(716),D.utf8=J(768),D.pool=J(479),D.LongBits=J(942),D.isNode=Boolean(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node),D.global=D.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||this,D.emptyArray=Object.freeze?Object.freeze([]):[],D.emptyObject=Object.freeze?Object.freeze({}):{},D.isInteger=Number.isInteger||function(k){return"number"==typeof k&&isFinite(k)&&Math.floor(k)===k},D.isString=function(k){return"string"==typeof k||k instanceof String},D.isObject=function(k){return k&&"object"==typeof k},D.isset=D.isSet=function(k,C){var f=k[C];return!(null==f||!k.hasOwnProperty(C))&&("object"!=typeof f||(Array.isArray(f)?f.length:Object.keys(f).length)>0)},D.Buffer=function(){try{var B=D.inquire("buffer").Buffer;return B.prototype.utf8Write?B:null}catch{return null}}(),D._Buffer_from=null,D._Buffer_allocUnsafe=null,D.newBuffer=function(k){return"number"==typeof k?D.Buffer?D._Buffer_allocUnsafe(k):new D.Array(k):D.Buffer?D._Buffer_from(k):typeof Uint8Array>"u"?k:new Uint8Array(k)},D.Array=typeof Uint8Array<"u"?Uint8Array:Array,D.Long=D.global.dcodeIO&&D.global.dcodeIO.Long||D.global.Long||D.inquire("long"),D.key2Re=/^true|false|0|1$/,D.key32Re=/^-?(?:0|[1-9][0-9]*)$/,D.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,D.longToHash=function(k){return k?D.LongBits.from(k).toHash():D.LongBits.zeroHash},D.longFromHash=function(k,C){var f=D.LongBits.fromHash(k);return D.Long?D.Long.fromBits(f.lo,f.hi,C):f.toNumber(Boolean(C))},D.merge=Y,D.lcFirst=function(k){return k.charAt(0).toLowerCase()+k.substring(1)},D.newError=T,D.ProtocolError=T("ProtocolError"),D.oneOfGetter=function(k){for(var C={},f=0;f<k.length;++f)C[k[f]]=1;return function(){for(var z=Object.keys(this),K=z.length-1;K>-1;--K)if(1===C[z[K]]&&null!=this[z[K]])return z[K]}},D.oneOfSetter=function(k){return function(C){for(var f=0;f<k.length;++f)k[f]!==C&&delete this[k[f]]}},D.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},D._configure=function(){var B=D.Buffer;B?(D._Buffer_from=B.from!==Uint8Array.from&&B.from||function(C,f){return new B(C,f)},D._Buffer_allocUnsafe=B.allocUnsafe||function(C){return new B(C)}):D._Buffer_from=D._Buffer_allocUnsafe=null}},650:(Ce,De,J)=>{"use strict";Ce.exports=K;var Y,D=J(211),T=D.LongBits,B=D.base64,k=D.utf8;function C(_,w,b){this.fn=_,this.len=w,this.next=void 0,this.val=b}function f(){}function z(_){this.head=_.head,this.tail=_.tail,this.len=_.len,this.next=_.states}function K(){this.len=0,this.head=new C(f,0,0),this.tail=this.head,this.states=null}var G=function(){return D.Buffer?function(){return(K.create=function(){return new Y})()}:function(){return new K}};function H(_,w,b){w[b]=255&_}function l(_,w){this.len=_,this.next=void 0,this.val=w}function u(_,w,b){for(;_.hi;)w[b++]=127&_.lo|128,_.lo=(_.lo>>>7|_.hi<<25)>>>0,_.hi>>>=7;for(;_.lo>127;)w[b++]=127&_.lo|128,_.lo=_.lo>>>7;w[b++]=_.lo}function h(_,w,b){w[b]=255&_,w[b+1]=_>>>8&255,w[b+2]=_>>>16&255,w[b+3]=_>>>24}K.create=G(),K.alloc=function(w){return new D.Array(w)},D.Array!==Array&&(K.alloc=D.pool(K.alloc,D.Array.prototype.subarray)),K.prototype._push=function(w,b,M){return this.tail=this.tail.next=new C(w,b,M),this.len+=b,this},(l.prototype=Object.create(C.prototype)).fn=function q(_,w,b){for(;_>127;)w[b++]=127&_|128,_>>>=7;w[b]=_},K.prototype.uint32=function(w){return this.len+=(this.tail=this.tail.next=new l((w>>>=0)<128?1:w<16384?2:w<2097152?3:w<268435456?4:5,w)).len,this},K.prototype.int32=function(w){return w<0?this._push(u,10,T.fromNumber(w)):this.uint32(w)},K.prototype.sint32=function(w){return this.uint32((w<<1^w>>31)>>>0)},K.prototype.int64=K.prototype.uint64=function(w){var b=T.from(w);return this._push(u,b.length(),b)},K.prototype.sint64=function(w){var b=T.from(w).zzEncode();return this._push(u,b.length(),b)},K.prototype.bool=function(w){return this._push(H,1,w?1:0)},K.prototype.sfixed32=K.prototype.fixed32=function(w){return this._push(h,4,w>>>0)},K.prototype.sfixed64=K.prototype.fixed64=function(w){var b=T.from(w);return this._push(h,4,b.lo)._push(h,4,b.hi)},K.prototype.float=function(w){return this._push(D.float.writeFloatLE,4,w)},K.prototype.double=function(w){return this._push(D.float.writeDoubleLE,8,w)};var m=D.Array.prototype.set?function(w,b,M){b.set(w,M)}:function(w,b,M){for(var P=0;P<w.length;++P)b[M+P]=w[P]};K.prototype.bytes=function(w){var b=w.length>>>0;if(!b)return this._push(H,1,0);if(D.isString(w)){var M=K.alloc(b=B.length(w));B.decode(w,M,0),w=M}return this.uint32(b)._push(m,b,w)},K.prototype.string=function(w){var b=k.length(w);return b?this.uint32(b)._push(k.write,b,w):this._push(H,1,0)},K.prototype.fork=function(){return this.states=new z(this),this.head=this.tail=new C(f,0,0),this.len=0,this},K.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new C(f,0,0),this.len=0),this},K.prototype.ldelim=function(){var w=this.head,b=this.tail,M=this.len;return this.reset().uint32(M),M&&(this.tail.next=w.next,this.tail=b,this.len+=M),this},K.prototype.finish=function(){for(var w=this.head.next,b=this.constructor.alloc(this.len),M=0;w;)w.fn(w.val,b,M),M+=w.len,w=w.next;return b},K._configure=function(_){Y=_,K.create=G(),Y._configure()}},813:(Ce,De,J)=>{"use strict";Ce.exports=T;var D=J(650);(T.prototype=Object.create(D.prototype)).constructor=T;var Y=J(211);function T(){D.call(this)}function B(k,C,f){k.length<40?Y.utf8.write(k,C,f):C.utf8Write?C.utf8Write(k,f):C.write(k,f)}T._configure=function(){T.alloc=Y._Buffer_allocUnsafe,T.writeBytesBuffer=Y.Buffer&&Y.Buffer.prototype instanceof Uint8Array&&"set"===Y.Buffer.prototype.set.name?function(C,f,z){f.set(C,z)}:function(C,f,z){if(C.copy)C.copy(f,z,0,C.length);else for(var K=0;K<C.length;)f[z++]=C[K++]}},T.prototype.bytes=function(C){Y.isString(C)&&(C=Y._Buffer_from(C,"base64"));var f=C.length>>>0;return this.uint32(f),f&&this._push(T.writeBytesBuffer,f,C),this},T.prototype.string=function(C){var f=Y.Buffer.byteLength(C);return this.uint32(f),f&&this._push(B,f,C),this},T._configure()},891:Ce=>{"use strict";var J={};function D(C,f,z){z||(z=Error);var G=function(H){function q(l,u,h){return H.call(this,function K(H,q,l){return"string"==typeof f?f:f(H,q,l)}(l,u,h))||this}return function De(C,f){C.prototype=Object.create(f.prototype),C.prototype.constructor=C,C.__proto__=f}(q,H),q}(z);G.prototype.name=z.name,G.prototype.code=C,J[C]=G}function Y(C,f){if(Array.isArray(C)){var z=C.length;return C=C.map(function(K){return String(K)}),z>2?"one of ".concat(f," ").concat(C.slice(0,z-1).join(", "),", or ")+C[z-1]:2===z?"one of ".concat(f," ").concat(C[0]," or ").concat(C[1]):"of ".concat(f," ").concat(C[0])}return"of ".concat(f," ").concat(String(C))}D("ERR_INVALID_OPT_VALUE",function(C,f){return'The value "'+f+'" is invalid for option "'+C+'"'},TypeError),D("ERR_INVALID_ARG_TYPE",function(C,f,z){var K,G;if("string"==typeof f&&function T(C,f,z){return C.substr(!z||z<0?0:+z,f.length)===f}(f,"not ")?(K="must not be",f=f.replace(/^not /,"")):K="must be",function B(C,f,z){return(void 0===z||z>C.length)&&(z=C.length),C.substring(z-f.length,z)===f}(C," argument"))G="The ".concat(C," ").concat(K," ").concat(Y(f,"type"));else{var H=function k(C,f,z){return"number"!=typeof z&&(z=0),!(z+f.length>C.length)&&-1!==C.indexOf(f,z)}(C,".")?"property":"argument";G='The "'.concat(C,'" ').concat(H," ").concat(K," ").concat(Y(f,"type"))}return G+". Received type ".concat(typeof z)},TypeError),D("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),D("ERR_METHOD_NOT_IMPLEMENTED",function(C){return"The "+C+" method is not implemented"}),D("ERR_STREAM_PREMATURE_CLOSE","Premature close"),D("ERR_STREAM_DESTROYED",function(C){return"Cannot call "+C+" after a stream was destroyed"}),D("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),D("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),D("ERR_STREAM_WRITE_AFTER_END","write after end"),D("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),D("ERR_UNKNOWN_ENCODING",function(C){return"Unknown encoding: "+C},TypeError),D("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ce.exports.q=J},339:(Ce,De,J)=>{"use strict";var D=Object.keys||function(G){var H=[];for(var q in G)H.push(q);return H};Ce.exports=f;var Y=J(154),T=J(520);J(894)(f,Y);for(var B=D(T.prototype),k=0;k<B.length;k++){var C=B[k];f.prototype[C]||(f.prototype[C]=T.prototype[C])}function f(G){if(!(this instanceof f))return new f(G);Y.call(this,G),T.call(this,G),this.allowHalfOpen=!0,G&&(!1===G.readable&&(this.readable=!1),!1===G.writable&&(this.writable=!1),!1===G.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",z)))}function z(){this._writableState.ended||process.nextTick(K,this)}function K(G){G.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(H){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=H,this._writableState.destroyed=H)}})},71:(Ce,De,J)=>{"use strict";Ce.exports=Y;var D=J(25);function Y(T){if(!(this instanceof Y))return new Y(T);D.call(this,T)}J(894)(Y,D),Y.prototype._transform=function(T,B,k){k(null,T)}},154:(Ce,De,J)=>{"use strict";var D;Ce.exports=Me,Me.ReadableState=ge,J(69);var G,T=function(L,fe){return L.listeners(fe).length},B=J(970),k=J(172).Buffer,C=global.Uint8Array||function(){},K=J(616);G=K&&K.debuglog?K.debuglog("stream"):function(){};var M,P,X,H=J(19),q=J(920),u=J(102).getHighWaterMark,h=J(891).q,m=h.ERR_INVALID_ARG_TYPE,_=h.ERR_STREAM_PUSH_AFTER_EOF,w=h.ERR_METHOD_NOT_IMPLEMENTED,b=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;J(894)(Me,B);var ie=q.errorOrDestroy,he=["error","close","destroy","pause","resume"];function ge(F,L,fe){D=D||J(339),"boolean"!=typeof fe&&(fe=L instanceof D),this.objectMode=!!(F=F||{}).objectMode,fe&&(this.objectMode=this.objectMode||!!F.readableObjectMode),this.highWaterMark=u(this,F,"readableHighWaterMark",fe),this.buffer=new H,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==F.emitClose,this.autoDestroy=!!F.autoDestroy,this.destroyed=!1,this.defaultEncoding=F.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,F.encoding&&(M||(M=J(54).s),this.decoder=new M(F.encoding),this.encoding=F.encoding)}function Me(F){if(D=D||J(339),!(this instanceof Me))return new Me(F);this._readableState=new ge(F,this,this instanceof D),this.readable=!0,F&&("function"==typeof F.read&&(this._read=F.read),"function"==typeof F.destroy&&(this._destroy=F.destroy)),B.call(this)}function bt(F,L,fe,x,y){G("readableAddChunk",L);var O,v=F._readableState;if(null===L)v.reading=!1,function U(F,L){if(G("onEofChunk"),!L.ended){if(L.decoder){var fe=L.decoder.end();fe&&fe.length&&(L.buffer.push(fe),L.length+=L.objectMode?1:fe.length)}L.ended=!0,L.sync?A(F):(L.needReadable=!1,L.emittedReadable||(L.emittedReadable=!0,$(F)))}}(F,v);else if(y||(O=function Jt(F,L){var fe;return!function z(F){return k.isBuffer(F)||F instanceof C}(L)&&"string"!=typeof L&&void 0!==L&&!F.objectMode&&(fe=new m("chunk",["string","Buffer","Uint8Array"],L)),fe}(v,L)),O)ie(F,O);else if(v.objectMode||L&&L.length>0)if("string"!=typeof L&&!v.objectMode&&Object.getPrototypeOf(L)!==k.prototype&&(L=function f(F){return k.from(F)}(L)),x)v.endEmitted?ie(F,new b):Gt(F,v,L,!0);else if(v.ended)ie(F,new _);else{if(v.destroyed)return!1;v.reading=!1,v.decoder&&!fe?(L=v.decoder.write(L),v.objectMode||0!==L.length?Gt(F,v,L,!1):N(F,v)):Gt(F,v,L,!1)}else x||(v.reading=!1,N(F,v));return!v.ended&&(v.length<v.highWaterMark||0===v.length)}function Gt(F,L,fe,x){L.flowing&&0===L.length&&!L.sync?(L.awaitDrain=0,F.emit("data",fe)):(L.length+=L.objectMode?1:fe.length,x?L.buffer.unshift(fe):L.buffer.push(fe),L.needReadable&&A(F)),N(F,L)}Object.defineProperty(Me.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(L){!this._readableState||(this._readableState.destroyed=L)}}),Me.prototype.destroy=q.destroy,Me.prototype._undestroy=q.undestroy,Me.prototype._destroy=function(F,L){L(F)},Me.prototype.push=function(F,L){var x,fe=this._readableState;return fe.objectMode?x=!0:"string"==typeof F&&((L=L||fe.defaultEncoding)!==fe.encoding&&(F=k.from(F,L),L=""),x=!0),bt(this,F,L,!1,x)},Me.prototype.unshift=function(F){return bt(this,F,null,!0,!1)},Me.prototype.isPaused=function(){return!1===this._readableState.flowing},Me.prototype.setEncoding=function(F){M||(M=J(54).s);var L=new M(F);this._readableState.decoder=L,this._readableState.encoding=this._readableState.decoder.encoding;for(var fe=this._readableState.buffer.head,x="";null!==fe;)x+=L.write(fe.data),fe=fe.next;return this._readableState.buffer.clear(),""!==x&&this._readableState.buffer.push(x),this._readableState.length=x.length,this};var wn=1073741824;function Qe(F,L){return F<=0||0===L.length&&L.ended?0:L.objectMode?1:F!=F?L.flowing&&L.length?L.buffer.head.data.length:L.length:(F>L.highWaterMark&&(L.highWaterMark=function nn(F){return F>=wn?F=wn:(F--,F|=F>>>1,F|=F>>>2,F|=F>>>4,F|=F>>>8,F|=F>>>16,F++),F}(F)),F<=L.length?F:L.ended?L.length:(L.needReadable=!0,0))}function A(F){var L=F._readableState;G("emitReadable",L.needReadable,L.emittedReadable),L.needReadable=!1,L.emittedReadable||(G("emitReadable",L.flowing),L.emittedReadable=!0,process.nextTick($,F))}function $(F){var L=F._readableState;G("emitReadable_",L.destroyed,L.length,L.ended),!L.destroyed&&(L.length||L.ended)&&(F.emit("readable"),L.emittedReadable=!1),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,j(F)}function N(F,L){L.readingMore||(L.readingMore=!0,process.nextTick(I,F,L))}function I(F,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&0===L.length);){var fe=L.length;if(G("maybeReadMore read 0"),F.read(0),fe===L.length)break}L.readingMore=!1}function re(F){var L=F._readableState;L.readableListening=F.listenerCount("readable")>0,L.resumeScheduled&&!L.paused?L.flowing=!0:F.listenerCount("data")>0&&F.resume()}function ce(F){G("readable nexttick read 0"),F.read(0)}function Ke(F,L){G("resume",L.reading),L.reading||F.read(0),L.resumeScheduled=!1,F.emit("resume"),j(F),L.flowing&&!L.reading&&F.read(0)}function j(F){var L=F._readableState;for(G("flow",L.flowing);L.flowing&&null!==F.read(););}function Q(F,L){return 0===L.length?null:(L.objectMode?fe=L.buffer.shift():!F||F>=L.length?(fe=L.decoder?L.buffer.join(""):1===L.buffer.length?L.buffer.first():L.buffer.concat(L.length),L.buffer.clear()):fe=L.buffer.consume(F,L.decoder),fe);var fe}function ue(F){var L=F._readableState;G("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,process.nextTick(Oe,L,F))}function Oe(F,L){if(G("endReadableNT",F.endEmitted,F.length),!F.endEmitted&&0===F.length&&(F.endEmitted=!0,L.readable=!1,L.emit("end"),F.autoDestroy)){var fe=L._writableState;(!fe||fe.autoDestroy&&fe.finished)&&L.destroy()}}function Ve(F,L){for(var fe=0,x=F.length;fe<x;fe++)if(F[fe]===L)return fe;return-1}Me.prototype.read=function(F){G("read",F),F=parseInt(F,10);var L=this._readableState,fe=F;if(0!==F&&(L.emittedReadable=!1),0===F&&L.needReadable&&((0!==L.highWaterMark?L.length>=L.highWaterMark:L.length>0)||L.ended))return G("read: emitReadable",L.length,L.ended),0===L.length&&L.ended?ue(this):A(this),null;if(0===(F=Qe(F,L))&&L.ended)return 0===L.length&&ue(this),null;var y,x=L.needReadable;return G("need readable",x),(0===L.length||L.length-F<L.highWaterMark)&&G("length less than watermark",x=!0),L.ended||L.reading?G("reading or ended",x=!1):x&&(G("do read"),L.reading=!0,L.sync=!0,0===L.length&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(F=Qe(fe,L))),null===(y=F>0?Q(F,L):null)?(L.needReadable=L.length<=L.highWaterMark,F=0):(L.length-=F,L.awaitDrain=0),0===L.length&&(L.ended||(L.needReadable=!0),fe!==F&&L.ended&&ue(this)),null!==y&&this.emit("data",y),y},Me.prototype._read=function(F){ie(this,new w("_read()"))},Me.prototype.pipe=function(F,L){var fe=this,x=this._readableState;switch(x.pipesCount){case 0:x.pipes=F;break;case 1:x.pipes=[x.pipes,F];break;default:x.pipes.push(F)}x.pipesCount+=1,G("pipe count=%d opts=%j",x.pipesCount,L);var v=L&&!1===L.end||F===process.stdout||F===process.stderr?Ii:Z;function Z(){G("onend"),F.end()}x.endEmitted?process.nextTick(v):fe.once("end",v),F.on("unpipe",function O(mr,Yi){G("onunpipe"),mr===fe&&Yi&&!1===Yi.hasUnpiped&&(Yi.hasUnpiped=!0,function gt(){G("cleanup"),F.removeListener("close",ln),F.removeListener("finish",Ht),F.removeListener("drain",pe),F.removeListener("error",_t),F.removeListener("unpipe",O),fe.removeListener("end",Z),fe.removeListener("end",Ii),fe.removeListener("data",Tt),be=!0,x.awaitDrain&&(!F._writableState||F._writableState.needDrain)&&pe()}())});var pe=function ne(F){return function(){var fe=F._readableState;G("pipeOnDrain",fe.awaitDrain),fe.awaitDrain&&fe.awaitDrain--,0===fe.awaitDrain&&T(F,"data")&&(fe.flowing=!0,j(F))}}(fe);F.on("drain",pe);var be=!1;function Tt(mr){G("ondata");var Yi=F.write(mr);G("dest.write",Yi),!1===Yi&&((1===x.pipesCount&&x.pipes===F||x.pipesCount>1&&-1!==Ve(x.pipes,F))&&!be&&(G("false write response, pause",x.awaitDrain),x.awaitDrain++),fe.pause())}function _t(mr){G("onerror",mr),Ii(),F.removeListener("error",_t),0===T(F,"error")&&ie(F,mr)}function ln(){F.removeListener("finish",Ht),Ii()}function Ht(){G("onfinish"),F.removeListener("close",ln),Ii()}function Ii(){G("unpipe"),fe.unpipe(F)}return fe.on("data",Tt),function ye(F,L,fe){if("function"==typeof F.prependListener)return F.prependListener(L,fe);F._events&&F._events[L]?Array.isArray(F._events[L])?F._events[L].unshift(fe):F._events[L]=[fe,F._events[L]]:F.on(L,fe)}(F,"error",_t),F.once("close",ln),F.once("finish",Ht),F.emit("pipe",fe),x.flowing||(G("pipe resume"),fe.resume()),F},Me.prototype.unpipe=function(F){var L=this._readableState,fe={hasUnpiped:!1};if(0===L.pipesCount)return this;if(1===L.pipesCount)return F&&F!==L.pipes||(F||(F=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,F&&F.emit("unpipe",this,fe)),this;if(!F){var x=L.pipes,y=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var v=0;v<y;v++)x[v].emit("unpipe",this,{hasUnpiped:!1});return this}var O=Ve(L.pipes,F);return-1===O||(L.pipes.splice(O,1),L.pipesCount-=1,1===L.pipesCount&&(L.pipes=L.pipes[0]),F.emit("unpipe",this,fe)),this},Me.prototype.addListener=Me.prototype.on=function(F,L){var fe=B.prototype.on.call(this,F,L),x=this._readableState;return"data"===F?(x.readableListening=this.listenerCount("readable")>0,!1!==x.flowing&&this.resume()):"readable"===F&&!x.endEmitted&&!x.readableListening&&(x.readableListening=x.needReadable=!0,x.flowing=!1,x.emittedReadable=!1,G("on readable",x.length,x.reading),x.length?A(this):x.reading||process.nextTick(ce,this)),fe},Me.prototype.removeListener=function(F,L){var fe=B.prototype.removeListener.call(this,F,L);return"readable"===F&&process.nextTick(re,this),fe},Me.prototype.removeAllListeners=function(F){var L=B.prototype.removeAllListeners.apply(this,arguments);return("readable"===F||void 0===F)&&process.nextTick(re,this),L},Me.prototype.resume=function(){var F=this._readableState;return F.flowing||(G("resume"),F.flowing=!F.readableListening,function ee(F,L){L.resumeScheduled||(L.resumeScheduled=!0,process.nextTick(Ke,F,L))}(this,F)),F.paused=!1,this},Me.prototype.pause=function(){return G("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(G("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Me.prototype.wrap=function(F){var L=this,fe=this._readableState,x=!1;for(var y in F.on("end",function(){if(G("wrapped end"),fe.decoder&&!fe.ended){var O=fe.decoder.end();O&&O.length&&L.push(O)}L.push(null)}),F.on("data",function(O){G("wrapped data"),fe.decoder&&(O=fe.decoder.write(O)),fe.objectMode&&null==O||!(fe.objectMode||O&&O.length)||L.push(O)||(x=!0,F.pause())}),F)void 0===this[y]&&"function"==typeof F[y]&&(this[y]=function(Z){return function(){return F[Z].apply(F,arguments)}}(y));for(var v=0;v<he.length;v++)F.on(he[v],this.emit.bind(this,he[v]));return this._read=function(O){G("wrapped _read",O),x&&(x=!1,F.resume())},this},"function"==typeof Symbol&&(Me.prototype[Symbol.asyncIterator]=function(){return void 0===P&&(P=J(872)),P(this)}),Object.defineProperty(Me.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Me.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Me.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(L){this._readableState&&(this._readableState.flowing=L)}}),Me._fromList=Q,Object.defineProperty(Me.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(Me.from=function(F,L){return void 0===X&&(X=J(412)),X(Me,F,L)})},25:(Ce,De,J)=>{"use strict";Ce.exports=z;var D=J(891).q,Y=D.ERR_METHOD_NOT_IMPLEMENTED,T=D.ERR_MULTIPLE_CALLBACK,B=D.ERR_TRANSFORM_ALREADY_TRANSFORMING,k=D.ERR_TRANSFORM_WITH_LENGTH_0,C=J(339);function f(H,q){var l=this._transformState;l.transforming=!1;var u=l.writecb;if(null===u)return this.emit("error",new T);l.writechunk=null,l.writecb=null,null!=q&&this.push(q),u(H);var h=this._readableState;h.reading=!1,(h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}function z(H){if(!(this instanceof z))return new z(H);C.call(this,H),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,H&&("function"==typeof H.transform&&(this._transform=H.transform),"function"==typeof H.flush&&(this._flush=H.flush)),this.on("prefinish",K)}function K(){var H=this;"function"!=typeof this._flush||this._readableState.destroyed?G(this,null,null):this._flush(function(q,l){G(H,q,l)})}function G(H,q,l){if(q)return H.emit("error",q);if(null!=l&&H.push(l),H._writableState.length)throw new k;if(H._transformState.transforming)throw new B;return H.push(null)}J(894)(z,C),z.prototype.push=function(H,q){return this._transformState.needTransform=!1,C.prototype.push.call(this,H,q)},z.prototype._transform=function(H,q,l){l(new Y("_transform()"))},z.prototype._write=function(H,q,l){var u=this._transformState;if(u.writecb=l,u.writechunk=H,u.writeencoding=q,!u.transforming){var h=this._readableState;(u.needTransform||h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}},z.prototype._read=function(H){var q=this._transformState;null===q.writechunk||q.transforming?q.needTransform=!0:(q.transforming=!0,this._transform(q.writechunk,q.writeencoding,q.afterTransform))},z.prototype._destroy=function(H,q){C.prototype._destroy.call(this,H,function(l){q(l)})}},520:(Ce,De,J)=>{"use strict";function Y(j){var Q=this;this.next=null,this.entry=null,this.finish=function(){!function Ke(j,Q,ue){var Oe=j.entry;for(j.entry=null;Oe;){var Ve=Oe.callback;Q.pendingcb--,Ve(ue),Oe=Oe.next}Q.corkedRequestsFree.next=j}(Q,j)}}var T;Ce.exports=ge,ge.WritableState=he;var ye,B={deprecate:J(532)},k=J(970),C=J(172).Buffer,f=global.Uint8Array||function(){},G=J(920),q=J(102).getHighWaterMark,l=J(891).q,u=l.ERR_INVALID_ARG_TYPE,h=l.ERR_METHOD_NOT_IMPLEMENTED,m=l.ERR_MULTIPLE_CALLBACK,_=l.ERR_STREAM_CANNOT_PIPE,w=l.ERR_STREAM_DESTROYED,b=l.ERR_STREAM_NULL_VALUES,M=l.ERR_STREAM_WRITE_AFTER_END,P=l.ERR_UNKNOWN_ENCODING,X=G.errorOrDestroy;function ie(){}function he(j,Q,ue){T=T||J(339),"boolean"!=typeof ue&&(ue=Q instanceof T),this.objectMode=!!(j=j||{}).objectMode,ue&&(this.objectMode=this.objectMode||!!j.writableObjectMode),this.highWaterMark=q(this,j,"writableHighWaterMark",ue),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===j.decodeStrings),this.defaultEncoding=j.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ve){!function U(j,Q){var ue=j._writableState,Oe=ue.sync,Ve=ue.writecb;if("function"!=typeof Ve)throw new m;if(function Qe(j){j.writing=!1,j.writecb=null,j.length-=j.writelen,j.writelen=0}(ue),Q)!function nn(j,Q,ue,Oe,Ve){--Q.pendingcb,ue?(process.nextTick(Ve,Oe),process.nextTick(ce,j,Q),j._writableState.errorEmitted=!0,X(j,Oe)):(Ve(Oe),j._writableState.errorEmitted=!0,X(j,Oe),ce(j,Q))}(j,ue,Oe,Q,Ve);else{var F=I(ue)||j.destroyed;!F&&!ue.corked&&!ue.bufferProcessing&&ue.bufferedRequest&&N(j,ue),Oe?process.nextTick(A,j,ue,F,Ve):A(j,ue,F,Ve)}}(Q,Ve)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==j.emitClose,this.autoDestroy=!!j.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Y(this)}function ge(j){var Q=this instanceof(T=T||J(339));if(!Q&&!ye.call(ge,this))return new ge(j);this._writableState=new he(j,this,Q),this.writable=!0,j&&("function"==typeof j.write&&(this._write=j.write),"function"==typeof j.writev&&(this._writev=j.writev),"function"==typeof j.destroy&&(this._destroy=j.destroy),"function"==typeof j.final&&(this._final=j.final)),k.call(this)}function wn(j,Q,ue,Oe,Ve,F,L){Q.writelen=Oe,Q.writecb=L,Q.writing=!0,Q.sync=!0,Q.destroyed?Q.onwrite(new w("write")):ue?j._writev(Ve,Q.onwrite):j._write(Ve,F,Q.onwrite),Q.sync=!1}function A(j,Q,ue,Oe){ue||function $(j,Q){0===Q.length&&Q.needDrain&&(Q.needDrain=!1,j.emit("drain"))}(j,Q),Q.pendingcb--,Oe(),ce(j,Q)}function N(j,Q){Q.bufferProcessing=!0;var ue=Q.bufferedRequest;if(j._writev&&ue&&ue.next){var Ve=new Array(Q.bufferedRequestCount),F=Q.corkedRequestsFree;F.entry=ue;for(var L=0,fe=!0;ue;)Ve[L]=ue,ue.isBuf||(fe=!1),ue=ue.next,L+=1;Ve.allBuffers=fe,wn(j,Q,!0,Q.length,Ve,"",F.finish),Q.pendingcb++,Q.lastBufferedRequest=null,F.next?(Q.corkedRequestsFree=F.next,F.next=null):Q.corkedRequestsFree=new Y(Q),Q.bufferedRequestCount=0}else{for(;ue;){var x=ue.chunk;if(wn(j,Q,!1,Q.objectMode?1:x.length,x,ue.encoding,ue.callback),ue=ue.next,Q.bufferedRequestCount--,Q.writing)break}null===ue&&(Q.lastBufferedRequest=null)}Q.bufferedRequest=ue,Q.bufferProcessing=!1}function I(j){return j.ending&&0===j.length&&null===j.bufferedRequest&&!j.finished&&!j.writing}function ne(j,Q){j._final(function(ue){Q.pendingcb--,ue&&X(j,ue),Q.prefinished=!0,j.emit("prefinish"),ce(j,Q)})}function ce(j,Q){var ue=I(Q);if(ue&&(function re(j,Q){!Q.prefinished&&!Q.finalCalled&&("function"!=typeof j._final||Q.destroyed?(Q.prefinished=!0,j.emit("prefinish")):(Q.pendingcb++,Q.finalCalled=!0,process.nextTick(ne,j,Q)))}(j,Q),0===Q.pendingcb&&(Q.finished=!0,j.emit("finish"),Q.autoDestroy))){var Oe=j._readableState;(!Oe||Oe.autoDestroy&&Oe.endEmitted)&&j.destroy()}return ue}J(894)(ge,k),he.prototype.getBuffer=function(){for(var Q=this.bufferedRequest,ue=[];Q;)ue.push(Q),Q=Q.next;return ue},function(){try{Object.defineProperty(he.prototype,"buffer",{get:B.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(ye=Function.prototype[Symbol.hasInstance],Object.defineProperty(ge,Symbol.hasInstance,{value:function(Q){return!!ye.call(this,Q)||this===ge&&Q&&Q._writableState instanceof he}})):ye=function(Q){return Q instanceof this},ge.prototype.pipe=function(){X(this,new _)},ge.prototype.write=function(j,Q,ue){var Oe=this._writableState,Ve=!1,F=!Oe.objectMode&&function K(j){return C.isBuffer(j)||j instanceof f}(j);return F&&!C.isBuffer(j)&&(j=function z(j){return C.from(j)}(j)),"function"==typeof Q&&(ue=Q,Q=null),F?Q="buffer":Q||(Q=Oe.defaultEncoding),"function"!=typeof ue&&(ue=ie),Oe.ending?function Me(j,Q){var ue=new M;X(j,ue),process.nextTick(Q,ue)}(this,ue):(F||function bt(j,Q,ue,Oe){var Ve;return null===ue?Ve=new b:"string"!=typeof ue&&!Q.objectMode&&(Ve=new u("chunk",["string","Buffer"],ue)),!Ve||(X(j,Ve),process.nextTick(Oe,Ve),!1)}(this,Oe,j,ue))&&(Oe.pendingcb++,Ve=function Jt(j,Q,ue,Oe,Ve,F){if(!ue){var L=function Gt(j,Q,ue){return!j.objectMode&&!1!==j.decodeStrings&&"string"==typeof Q&&(Q=C.from(Q,ue)),Q}(Q,Oe,Ve);Oe!==L&&(ue=!0,Ve="buffer",Oe=L)}var fe=Q.objectMode?1:Oe.length;Q.length+=fe;var x=Q.length<Q.highWaterMark;if(x||(Q.needDrain=!0),Q.writing||Q.corked){var y=Q.lastBufferedRequest;Q.lastBufferedRequest={chunk:Oe,encoding:Ve,isBuf:ue,callback:F,next:null},y?y.next=Q.lastBufferedRequest:Q.bufferedRequest=Q.lastBufferedRequest,Q.bufferedRequestCount+=1}else wn(j,Q,!1,fe,Oe,Ve,F);return x}(this,Oe,F,j,Q,ue)),Ve},ge.prototype.cork=function(){this._writableState.corked++},ge.prototype.uncork=function(){var j=this._writableState;j.corked&&(j.corked--,!j.writing&&!j.corked&&!j.bufferProcessing&&j.bufferedRequest&&N(this,j))},ge.prototype.setDefaultEncoding=function(Q){if("string"==typeof Q&&(Q=Q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Q+"").toLowerCase())>-1))throw new P(Q);return this._writableState.defaultEncoding=Q,this},Object.defineProperty(ge.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ge.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),ge.prototype._write=function(j,Q,ue){ue(new h("_write()"))},ge.prototype._writev=null,ge.prototype.end=function(j,Q,ue){var Oe=this._writableState;return"function"==typeof j?(ue=j,j=null,Q=null):"function"==typeof Q&&(ue=Q,Q=null),null!=j&&this.write(j,Q),Oe.corked&&(Oe.corked=1,this.uncork()),Oe.ending||function ee(j,Q,ue){Q.ending=!0,ce(j,Q),ue&&(Q.finished?process.nextTick(ue):j.once("finish",ue)),Q.ended=!0,j.writable=!1}(this,Oe,ue),this},Object.defineProperty(ge.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ge.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(Q){!this._writableState||(this._writableState.destroyed=Q)}}),ge.prototype.destroy=G.destroy,ge.prototype._undestroy=G.undestroy,ge.prototype._destroy=function(j,Q){Q(j)}},872:(Ce,De,J)=>{"use strict";var D;function Y(w,b,M){return b in w?Object.defineProperty(w,b,{value:M,enumerable:!0,configurable:!0,writable:!0}):w[b]=M,w}var T=J(542),B=Symbol("lastResolve"),k=Symbol("lastReject"),C=Symbol("error"),f=Symbol("ended"),z=Symbol("lastPromise"),K=Symbol("handlePromise"),G=Symbol("stream");function H(w,b){return{value:w,done:b}}function q(w){var b=w[B];if(null!==b){var M=w[G].read();null!==M&&(w[z]=null,w[B]=null,w[k]=null,b(H(M,!1)))}}function l(w){process.nextTick(q,w)}var h=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((Y(D={get stream(){return this[G]},next:function(){var b=this,M=this[C];if(null!==M)return Promise.reject(M);if(this[f])return Promise.resolve(H(void 0,!0));if(this[G].destroyed)return new Promise(function(he,ye){process.nextTick(function(){b[C]?ye(b[C]):he(H(void 0,!0))})});var X,P=this[z];if(P)X=new Promise(function u(w,b){return function(M,P){w.then(function(){b[f]?M(H(void 0,!0)):b[K](M,P)},P)}}(P,this));else{var ie=this[G].read();if(null!==ie)return Promise.resolve(H(ie,!1));X=new Promise(this[K])}return this[z]=X,X}},Symbol.asyncIterator,function(){return this}),Y(D,"return",function(){var b=this;return new Promise(function(M,P){b[G].destroy(null,function(X){X?P(X):M(H(void 0,!0))})})}),D),h);Ce.exports=function(b){var M,P=Object.create(m,(Y(M={},G,{value:b,writable:!0}),Y(M,B,{value:null,writable:!0}),Y(M,k,{value:null,writable:!0}),Y(M,C,{value:null,writable:!0}),Y(M,f,{value:b._readableState.endEmitted,writable:!0}),Y(M,K,{value:function(ie,he){var ye=P[G].read();ye?(P[z]=null,P[B]=null,P[k]=null,ie(H(ye,!1))):(P[B]=ie,P[k]=he)},writable:!0}),M));return P[z]=null,T(b,function(X){if(X&&"ERR_STREAM_PREMATURE_CLOSE"!==X.code){var ie=P[k];return null!==ie&&(P[z]=null,P[B]=null,P[k]=null,ie(X)),void(P[C]=X)}var he=P[B];null!==he&&(P[z]=null,P[B]=null,P[k]=null,he(H(void 0,!0))),P[f]=!0}),b.on("readable",l.bind(null,P)),P}},19:(Ce,De,J)=>{"use strict";function D(l,u){var h=Object.keys(l);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(l);u&&(m=m.filter(function(_){return Object.getOwnPropertyDescriptor(l,_).enumerable})),h.push.apply(h,m)}return h}function T(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}function k(l,u){for(var h=0;h<u.length;h++){var m=u[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}var z=J(172).Buffer,G=J(361).inspect,H=G&&G.custom||"inspect";function q(l,u,h){z.prototype.copy.call(l,u,h)}Ce.exports=function(){function l(){(function B(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")})(this,l),this.head=null,this.tail=null,this.length=0}return function C(l,u,h){u&&k(l.prototype,u),h&&k(l,h)}(l,[{key:"push",value:function(h){var m={data:h,next:null};this.length>0?this.tail.next=m:this.head=m,this.tail=m,++this.length}},{key:"unshift",value:function(h){var m={data:h,next:this.head};0===this.length&&(this.tail=m),this.head=m,++this.length}},{key:"shift",value:function(){if(0!==this.length){var h=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,h}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(h){if(0===this.length)return"";for(var m=this.head,_=""+m.data;m=m.next;)_+=h+m.data;return _}},{key:"concat",value:function(h){if(0===this.length)return z.alloc(0);for(var m=z.allocUnsafe(h>>>0),_=this.head,w=0;_;)q(_.data,m,w),w+=_.data.length,_=_.next;return m}},{key:"consume",value:function(h,m){var _;return h<this.head.data.length?(_=this.head.data.slice(0,h),this.head.data=this.head.data.slice(h)):_=h===this.head.data.length?this.shift():m?this._getString(h):this._getBuffer(h),_}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(h){var m=this.head,_=1,w=m.data;for(h-=w.length;m=m.next;){var b=m.data,M=h>b.length?b.length:h;if(w+=M===b.length?b:b.slice(0,h),0==(h-=M)){M===b.length?(++_,this.head=m.next?m.next:this.tail=null):(this.head=m,m.data=b.slice(M));break}++_}return this.length-=_,w}},{key:"_getBuffer",value:function(h){var m=z.allocUnsafe(h),_=this.head,w=1;for(_.data.copy(m),h-=_.data.length;_=_.next;){var b=_.data,M=h>b.length?b.length:h;if(b.copy(m,m.length-h,0,M),0==(h-=M)){M===b.length?(++w,this.head=_.next?_.next:this.tail=null):(this.head=_,_.data=b.slice(M));break}++w}return this.length-=w,m}},{key:H,value:function(h,m){return G(this,function Y(l){for(var u=1;u<arguments.length;u++){var h=null!=arguments[u]?arguments[u]:{};u%2?D(Object(h),!0).forEach(function(m){T(l,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(h)):D(Object(h)).forEach(function(m){Object.defineProperty(l,m,Object.getOwnPropertyDescriptor(h,m))})}return l}({},m,{depth:0,customInspect:!1}))}}]),l}()},920:Ce=>{"use strict";function J(k,C){T(k,C),D(k)}function D(k){k._writableState&&!k._writableState.emitClose||k._readableState&&!k._readableState.emitClose||k.emit("close")}function T(k,C){k.emit("error",C)}Ce.exports={destroy:function De(k,C){var f=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(C?C(k):k&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(T,this,k)):process.nextTick(T,this,k)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(k||null,function(G){!C&&G?f._writableState?f._writableState.errorEmitted?process.nextTick(D,f):(f._writableState.errorEmitted=!0,process.nextTick(J,f,G)):process.nextTick(J,f,G):C?(process.nextTick(D,f),C(G)):process.nextTick(D,f)}),this)},undestroy:function Y(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function B(k,C){var f=k._readableState,z=k._writableState;f&&f.autoDestroy||z&&z.autoDestroy?k.destroy(C):k.emit("error",C)}}},542:(Ce,De,J)=>{"use strict";var D=J(891).q.ERR_STREAM_PREMATURE_CLOSE;function T(){}Ce.exports=function k(C,f,z){if("function"==typeof f)return k(C,null,f);f||(f={}),z=function Y(C){var f=!1;return function(){if(!f){f=!0;for(var z=arguments.length,K=new Array(z),G=0;G<z;G++)K[G]=arguments[G];C.apply(this,K)}}}(z||T);var K=f.readable||!1!==f.readable&&C.readable,G=f.writable||!1!==f.writable&&C.writable,H=function(){C.writable||l()},q=C._writableState&&C._writableState.finished,l=function(){G=!1,q=!0,K||z.call(C)},u=C._readableState&&C._readableState.endEmitted,h=function(){K=!1,u=!0,G||z.call(C)},m=function(M){z.call(C,M)},_=function(){var M;return K&&!u?((!C._readableState||!C._readableState.ended)&&(M=new D),z.call(C,M)):G&&!q?((!C._writableState||!C._writableState.ended)&&(M=new D),z.call(C,M)):void 0},w=function(){C.req.on("finish",l)};return function B(C){return C.setHeader&&"function"==typeof C.abort}(C)?(C.on("complete",l),C.on("abort",_),C.req?w():C.on("request",w)):G&&!C._writableState&&(C.on("end",H),C.on("close",H)),C.on("end",h),C.on("finish",l),!1!==f.error&&C.on("error",m),C.on("close",_),function(){C.removeListener("complete",l),C.removeListener("abort",_),C.removeListener("request",w),C.req&&C.req.removeListener("finish",l),C.removeListener("end",H),C.removeListener("close",H),C.removeListener("finish",l),C.removeListener("end",h),C.removeListener("error",m),C.removeListener("close",_)}}},412:Ce=>{Ce.exports=function(){throw new Error("Readable.from is not available in the browser")}},954:(Ce,De,J)=>{"use strict";var D,T=J(891).q,B=T.ERR_MISSING_ARGS,k=T.ERR_STREAM_DESTROYED;function C(l){if(l)throw l}function z(l,u,h,m){m=function Y(l){var u=!1;return function(){u||(u=!0,l.apply(void 0,arguments))}}(m);var _=!1;l.on("close",function(){_=!0}),void 0===D&&(D=J(542)),D(l,{readable:u,writable:h},function(b){if(b)return m(b);_=!0,m()});var w=!1;return function(b){if(!_&&!w){if(w=!0,function f(l){return l.setHeader&&"function"==typeof l.abort}(l))return l.abort();if("function"==typeof l.destroy)return l.destroy();m(b||new k("pipe"))}}}function K(l){l()}function G(l,u){return l.pipe(u)}function H(l){return l.length&&"function"==typeof l[l.length-1]?l.pop():C}Ce.exports=function q(){for(var l=arguments.length,u=new Array(l),h=0;h<l;h++)u[h]=arguments[h];var m=H(u);if(Array.isArray(u[0])&&(u=u[0]),u.length<2)throw new B("streams");var _,w=u.map(function(b,M){var P=M<u.length-1;return z(b,P,M>0,function(ie){_||(_=ie),ie&&w.forEach(K),!P&&(w.forEach(K),m(_))})});return u.reduce(G)}},102:(Ce,De,J)=>{"use strict";var D=J(891).q.ERR_INVALID_OPT_VALUE;Ce.exports={getHighWaterMark:function T(B,k,C,f){var z=function Y(B,k,C){return null!=B.highWaterMark?B.highWaterMark:k?B[C]:null}(k,f,C);if(null!=z){if(!isFinite(z)||Math.floor(z)!==z||z<0)throw new D(f?C:"highWaterMark",z);return Math.floor(z)}return B.objectMode?16:16384}}},970:(Ce,De,J)=>{Ce.exports=J(69).EventEmitter},502:(Ce,De,J)=>{var D=J(172),Y=D.Buffer;function T(k,C){for(var f in k)C[f]=k[f]}function B(k,C,f){return Y(k,C,f)}Y.from&&Y.alloc&&Y.allocUnsafe&&Y.allocUnsafeSlow?Ce.exports=D:(T(D,De),De.Buffer=B),B.prototype=Object.create(Y.prototype),T(Y,B),B.from=function(k,C,f){if("number"==typeof k)throw new TypeError("Argument must not be a number");return Y(k,C,f)},B.alloc=function(k,C,f){if("number"!=typeof k)throw new TypeError("Argument must be a number");var z=Y(k);return void 0!==C?"string"==typeof f?z.fill(C,f):z.fill(C):z.fill(0),z},B.allocUnsafe=function(k){if("number"!=typeof k)throw new TypeError("Argument must be a number");return Y(k)},B.allocUnsafeSlow=function(k){if("number"!=typeof k)throw new TypeError("Argument must be a number");return D.SlowBuffer(k)}},295:(Ce,De,J)=>{Ce.exports=T;var D=J(69).EventEmitter;function T(){D.call(this)}J(894)(T,D),T.Readable=J(154),T.Writable=J(520),T.Duplex=J(339),T.Transform=J(25),T.PassThrough=J(71),T.finished=J(542),T.pipeline=J(954),T.Stream=T,T.prototype.pipe=function(B,k){var C=this;function f(u){B.writable&&!1===B.write(u)&&C.pause&&C.pause()}function z(){C.readable&&C.resume&&C.resume()}C.on("data",f),B.on("drain",z),!B._isStdio&&(!k||!1!==k.end)&&(C.on("end",G),C.on("close",H));var K=!1;function G(){K||(K=!0,B.end())}function H(){K||(K=!0,"function"==typeof B.destroy&&B.destroy())}function q(u){if(l(),0===D.listenerCount(this,"error"))throw u}function l(){C.removeListener("data",f),B.removeListener("drain",z),C.removeListener("end",G),C.removeListener("close",H),C.removeListener("error",q),B.removeListener("error",q),C.removeListener("end",l),C.removeListener("close",l),B.removeListener("close",l)}return C.on("error",q),B.on("error",q),C.on("end",l),C.on("close",l),B.on("close",l),B.emit("pipe",C),B}},54:(Ce,De,J)=>{"use strict";var D=J(502).Buffer,Y=D.isEncoding||function(w){switch((w=""+w)&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function k(w){var b;switch(this.encoding=function B(w){var b=function T(w){if(!w)return"utf8";for(var b;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(b)return;w=(""+w).toLowerCase(),b=!0}}(w);if("string"!=typeof b&&(D.isEncoding===Y||!Y(w)))throw new Error("Unknown encoding: "+w);return b||w}(w),this.encoding){case"utf16le":this.text=q,this.end=l,b=4;break;case"utf8":this.fillLast=K,b=4;break;case"base64":this.text=u,this.end=h,b=3;break;default:return this.write=m,void(this.end=_)}this.lastNeed=0,this.lastTotal=0,this.lastChar=D.allocUnsafe(b)}function C(w){return w<=127?0:w>>5==6?2:w>>4==14?3:w>>3==30?4:w>>6==2?-1:-2}function K(w){var b=this.lastTotal-this.lastNeed,M=function z(w,b,M){if(128!=(192&b[0]))return w.lastNeed=0,"\ufffd";if(w.lastNeed>1&&b.length>1){if(128!=(192&b[1]))return w.lastNeed=1,"\ufffd";if(w.lastNeed>2&&b.length>2&&128!=(192&b[2]))return w.lastNeed=2,"\ufffd"}}(this,w);return void 0!==M?M:this.lastNeed<=w.length?(w.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(w.copy(this.lastChar,b,0,w.length),void(this.lastNeed-=w.length))}function q(w,b){if((w.length-b)%2==0){var M=w.toString("utf16le",b);if(M){var P=M.charCodeAt(M.length-1);if(P>=55296&&P<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],M.slice(0,-1)}return M}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",b,w.length-1)}function l(w){var b=w&&w.length?this.write(w):"";return this.lastNeed?b+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):b}function u(w,b){var M=(w.length-b)%3;return 0===M?w.toString("base64",b):(this.lastNeed=3-M,this.lastTotal=3,1===M?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",b,w.length-M))}function h(w){var b=w&&w.length?this.write(w):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function m(w){return w.toString(this.encoding)}function _(w){return w&&w.length?this.write(w):""}De.s=k,k.prototype.write=function(w){if(0===w.length)return"";var b,M;if(this.lastNeed){if(void 0===(b=this.fillLast(w)))return"";M=this.lastNeed,this.lastNeed=0}else M=0;return M<w.length?b?b+this.text(w,M):this.text(w,M):b||""},k.prototype.end=function H(w){var b=w&&w.length?this.write(w):"";return this.lastNeed?b+"\ufffd":b},k.prototype.text=function G(w,b){var M=function f(w,b,M){var P=b.length-1;if(P<M)return 0;var X=C(b[P]);return X>=0?(X>0&&(w.lastNeed=X-1),X):--P<M||-2===X?0:(X=C(b[P]))>=0?(X>0&&(w.lastNeed=X-2),X):--P<M||-2===X?0:(X=C(b[P]))>=0?(X>0&&(2===X?X=0:w.lastNeed=X-3),X):0}(this,w,b);if(!this.lastNeed)return w.toString("utf8",b);this.lastTotal=M;var P=w.length-(M-this.lastNeed);return w.copy(this.lastChar,0,P),w.toString("utf8",b,P)},k.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length}},532:Ce=>{function J(D){try{if(!global.localStorage)return!1}catch{return!1}var Y=global.localStorage[D];return null!=Y&&"true"===String(Y).toLowerCase()}Ce.exports=function De(D,Y){if(J("noDeprecation"))return D;var T=!1;return function B(){if(!T){if(J("throwDeprecation"))throw new Error(Y);J("traceDeprecation")?console.trace(Y):console.warn(Y),T=!0}return D.apply(this,arguments)}}},361:()=>{},616:()=>{}},Ce=>{Ce(Ce.s=633)}]);